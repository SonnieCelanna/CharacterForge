<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Character Forge — OC Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Alegreya:ital,wght@0,400;0,500;0,700;1,400&family=Alegreya+SC:wght@400;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-deep: #0a0a0f;
    --bg-card: #111118;
    --bg-card-hover: #16161f;
    --bg-input: #0d0d14;
    --border: #1e1e2a;
    --border-glow: #2a2a3a;
    --text-primary: #e8e4df;
    --text-secondary: #8a8695;
    --text-muted: #ffffff;
    --accent-gold: #c9a84c;
    --accent-gold-dim: #8a7234;
    --accent-ember: #b85a3a;
    --accent-violet: #9b7cc4;
    --accent-teal: #6edcdc;
    --accent-rose: #8a3a5a;
    --tag-bg: #1a1a25;
    --tag-border: #2a2a3a;
    --generate-bg: #1a1520;
    --generate-border: #3a2a4a;
    --generate-hover: #2a1f35;
    --result-bg: #0e0e16;
    --scrollbar-track: #0a0a0f;
    --scrollbar-thumb: #2a2a3a;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html { scrollbar-width: thin; scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track); }
  body { background: var(--bg-deep); color: var(--text-primary); font-family: 'Alegreya', Georgia, serif; font-size: 17px; line-height: 1.6; min-height: 100vh; }
  body::before { content: ''; position: fixed; inset: 0; background: radial-gradient(ellipse at 20% 0%, rgba(107,76,138,0.06) 0%, transparent 60%), radial-gradient(ellipse at 80% 100%, rgba(201,168,76,0.04) 0%, transparent 60%); pointer-events: none; z-index: 0; }

  /* ═══════ HEADER ═══════ */
  .site-header { text-align: center; padding: 60px 20px 40px; position: relative; z-index: 1; }
  .site-header h1 { font-family: 'Cinzel Decorative', serif; font-weight: 900; font-size: clamp(2rem, 5vw, 3.2rem); letter-spacing: 0.08em; color: var(--accent-gold); text-shadow: 0 0 40px rgba(201,168,76,0.15); margin-bottom: 8px; }
  .site-header .subtitle { font-family: 'Alegreya SC', serif; font-size: 0.95rem; letter-spacing: 0.25em; color: var(--text-muted); text-transform: uppercase; }
  .header-line { width: 120px; height: 1px; background: linear-gradient(90deg, transparent, var(--accent-gold-dim), transparent); margin: 24px auto 0; }

  /* ═══════ GENERATE ALL BAR ═══════ */
  .gen-all-bar { max-width: 900px; margin: 24px auto 0; padding: 0 24px; position: relative; z-index: 1; display: flex; gap: 10px; justify-content: center; }
  .btn-gen-all, .btn-add-all-visible { background: var(--generate-bg); border: 1px solid var(--accent-gold-dim); color: var(--accent-gold); font-family: 'Alegreya SC', serif; font-size: 0.78rem; letter-spacing: 0.12em; text-transform: uppercase; padding: 10px 28px; border-radius: 8px; cursor: pointer; transition: all 0.25s; }
  .btn-gen-all:hover, .btn-add-all-visible:hover { background: var(--generate-hover); border-color: var(--accent-gold); transform: translateY(-1px); box-shadow: 0 4px 20px rgba(201,168,76,0.15); }
  .btn-add-all-visible { border-color: var(--generate-border); color: var(--text-secondary); }
  .btn-add-all-visible:hover { border-color: var(--accent-gold-dim); color: var(--accent-gold); }

  /* ═══════ MAIN LAYOUT ═══════ */
  .main-container { max-width: 900px; margin: 0 auto; padding: 24px 24px 80px; position: relative; z-index: 1; }

  /* ═══════ SECTION BLOCKS ═══════ */
  .generator-section { margin-bottom: 16px; }
  .section-header { display: flex; align-items: center; gap: 16px; padding: 14px 0 12px; border-bottom: 1px solid var(--border); cursor: pointer; user-select: none; transition: opacity 0.2s; }
  .section-header:hover { opacity: 0.85; }
  .section-icon { width: 36px; height: 36px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; flex-shrink: 0; }
  .section-header h2 { font-family: 'Alegreya SC', serif; font-size: 1.3rem; font-weight: 700; letter-spacing: 0.12em; color: var(--text-primary); flex: 1; }
  .section-collapse-icon { font-size: 0.7rem; color: var(--text-secondary); transition: transform 0.25s; margin-right: 4px; }
  .generator-section.collapsed .section-collapse-icon { transform: rotate(-90deg); }
  .section-cards { transition: max-height 0.4s ease, opacity 0.3s ease; overflow: hidden; }
  .generator-section.collapsed .section-cards { max-height: 0 !important; opacity: 0; padding: 0; }

  /* Section color themes */
  .section--identity .section-icon { background: rgba(201,168,76,0.15); color: var(--accent-gold); }
  .section--identity .section-header { border-color: rgba(201,168,76,0.25); }
  .section--identity .gen-card { --card-accent: var(--accent-gold); }
  .condition-picker { display: flex; flex-direction: column; gap: 8px; }
  .condition-search { background: var(--surface); border: 1px solid var(--border); border-radius: 6px; padding: 8px 12px; color: var(--text); font-family: 'Alegreya', serif; font-size: 0.95rem; width: 100%; box-sizing: border-box; }
  .condition-search:focus { outline: none; border-color: var(--accent-gold); }
  .condition-options { display: flex; flex-wrap: wrap; gap: 5px; max-height: 180px; overflow-y: auto; padding: 4px 0; }
  .condition-options:empty::after { content: 'Type to search conditions…'; color: var(--muted); font-style: italic; font-size: 0.85rem; }
  .condition-chip { display: inline-flex; align-items: center; gap: 3px; background: var(--surface); border: 1px solid var(--border); border-radius: 14px; padding: 3px 10px; font-size: 0.8rem; cursor: pointer; transition: all 0.15s; font-family: 'Alegreya', serif; color: var(--text); }
  .condition-chip:hover { border-color: var(--accent-gold); background: rgba(201,168,76,0.1); }
  .condition-chip.selected { background: rgba(201,168,76,0.2); border-color: var(--accent-gold); color: var(--accent-gold); }
  .condition-chip.selected::before { content: '✓ '; }
  .condition-selected { display: flex; flex-wrap: wrap; gap: 5px; min-height: 0; }
  .condition-selected:empty { display: none; }
  .condition-sel-tag { display: inline-flex; align-items: center; gap: 4px; background: rgba(201,168,76,0.15); border: 1px solid rgba(201,168,76,0.3); border-radius: 14px; padding: 3px 8px 3px 10px; font-size: 0.8rem; font-family: 'Alegreya', serif; color: var(--accent-gold); }
  .condition-sel-tag .remove-cond { background: none; border: none; color: var(--accent-gold); cursor: pointer; font-size: 0.9rem; padding: 0 2px; opacity: 0.7; }
  .condition-sel-tag .remove-cond:hover { opacity: 1; }
  .section-guide { margin: 0 0 12px 0; border: 1px solid var(--border); border-radius: 8px; overflow: hidden; background: var(--surface); }
  .section-guide-toggle { display: flex; align-items: center; gap: 6px; padding: 8px 14px; cursor: pointer; font-family: 'Alegreya', serif; font-size: 0.85rem; color: var(--muted); transition: color 0.2s; user-select: none; }
  .section-guide-toggle:hover { color: var(--text); }
  .section-guide-toggle .guide-icon { font-size: 0.75rem; transition: transform 0.2s; }
  .section-guide-toggle.open .guide-icon { transform: rotate(90deg); }
  .section-guide-body { display: none; padding: 0 14px 12px; font-size: 0.82rem; line-height: 1.55; color: var(--muted); }
  .section-guide-body.open { display: block; }
  .guide-row { margin-bottom: 8px; }
  .guide-row strong { color: var(--text); }
  .guide-vs { color: var(--accent-ember); font-weight: 600; margin: 0 1px; }
  .top-guides { margin: 0 0 20px; display: flex; flex-direction: column; gap: 6px; }
  .top-guide { border: 1px solid var(--border); border-radius: 10px; overflow: hidden; background: var(--bg-card); }
  .top-guide-toggle { display: flex; align-items: center; gap: 8px; padding: 10px 16px; cursor: pointer; font-family: 'Alegreya SC', serif; font-size: 0.82rem; font-weight: 700; letter-spacing: 0.04em; color: var(--text-secondary); transition: all 0.2s; user-select: none; }
  .top-guide-toggle:hover { color: var(--text-primary); background: rgba(255,255,255,0.02); }
  .top-guide-toggle .guide-icon { font-size: 0.7rem; transition: transform 0.2s; color: var(--accent-primary); }
  .top-guide-toggle.open .guide-icon { transform: rotate(90deg); }
  .top-guide-body { display: none; padding: 4px 16px 14px; font-size: 0.82rem; line-height: 1.6; color: var(--text-secondary); }
  .top-guide-body.open { display: block; }
  .top-guide-body .guide-row { margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.04); }
  .top-guide-body .guide-row:last-child { margin-bottom: 0; padding-bottom: 0; border-bottom: none; }
  .top-guide-body strong { color: var(--text-primary); }
  .top-guide-body em { color: var(--muted); font-size: 0.78rem; }
  .section--appearance .section-icon { background: rgba(74,158,130,0.15); color: #4a9e82; }
  .section--appearance .section-header { border-color: rgba(74,158,130,0.25); }
  .section--appearance .gen-card { --card-accent: #4a9e82; }
  .section--skills .section-icon { background: rgba(110,220,220,0.15); color: var(--accent-teal); }
  .section--skills .section-header { border-color: rgba(110,220,220,0.25); }
  .section--skills .gen-card { --card-accent: var(--accent-teal); }
  .section--personality .section-icon { background: rgba(184,90,58,0.15); color: var(--accent-ember); }
  .section--personality .section-header { border-color: rgba(184,90,58,0.2); }
  .section--personality .gen-card { --card-accent: var(--accent-ember); }
  .section--misc .section-icon { background: rgba(155,124,196,0.15); color: var(--accent-violet); }
  .section--misc .section-header { border-color: rgba(155,124,196,0.25); }
  .section--misc .gen-card { --card-accent: var(--accent-violet); }

  /* ═══════ GENERATOR CARDS ═══════ */
  .gen-card { --card-accent: var(--accent-gold); background: var(--bg-card); border: 1px solid var(--border); border-radius: 10px; margin: 12px 0; overflow: hidden; transition: border-color 0.3s ease; }
  .gen-card:hover { border-color: var(--border-glow); }
  .gen-card-header { display: flex; align-items: center; justify-content: space-between; padding: 14px 20px; cursor: default; }
  .gen-card-title { font-family: 'Alegreya SC', serif; font-size: 0.85rem; font-weight: 700; letter-spacing: 0.18em; color: var(--card-accent); text-transform: uppercase; }
  .gen-card-subtitle { font-family: 'Alegreya', serif; font-size: 0.68rem; color: var(--text-secondary); font-style: italic; letter-spacing: 0.02em; margin-top: 1px; }
  .gen-card-controls { display: flex; align-items: center; gap: 8px; }
  .count-selector { display: flex; align-items: center; gap: 6px; margin-right: 8px; }
  .count-selector label { font-family: 'Alegreya SC', serif; font-size: 0.7rem; letter-spacing: 0.1em; color: var(--text-muted); text-transform: uppercase; }
  .count-selector select { background: var(--bg-input); border: 1px solid var(--border); color: var(--text-secondary); font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; padding: 3px 8px; border-radius: 5px; cursor: pointer; outline: none; transition: border-color 0.2s; -webkit-appearance: none; appearance: none; }
  .count-selector select:hover, .count-selector select:focus { border-color: var(--card-accent); }
  .btn-generate { background: var(--generate-bg); border: 1px solid var(--generate-border); color: var(--text-secondary); font-family: 'Alegreya SC', serif; font-size: 0.72rem; letter-spacing: 0.15em; text-transform: uppercase; padding: 7px 18px; border-radius: 6px; cursor: pointer; transition: all 0.25s ease; position: relative; overflow: hidden; }
  .btn-generate:hover { background: var(--generate-hover); border-color: var(--card-accent); color: var(--text-primary); transform: translateY(-1px); box-shadow: 0 4px 16px rgba(0,0,0,0.3); }
  .btn-generate:active { transform: translateY(0); }
  .btn-generate.rolling { pointer-events: none; opacity: 0.7; }
  .btn-clear { background: none; border: 1px solid transparent; color: var(--text-muted); font-size: 0.65rem; font-family: 'Alegreya SC', serif; letter-spacing: 0.1em; text-transform: uppercase; padding: 7px 10px; border-radius: 6px; cursor: pointer; transition: all 0.2s; }
  .btn-clear:hover { color: var(--accent-rose); border-color: rgba(138,58,90,0.3); }
  .btn-add-all-card { background: none; border: 1px solid transparent; color: var(--text-secondary); font-size: 0.65rem; font-family: 'Alegreya SC', serif; letter-spacing: 0.1em; text-transform: uppercase; padding: 7px 10px; border-radius: 6px; cursor: pointer; transition: all 0.2s; }
  .btn-add-all-card:hover { color: var(--accent-gold); border-color: rgba(201,168,76,0.3); }
  .btn-weight-toggle { background: none; border: 1px solid transparent; color: var(--text-muted); font-size: 0.6rem; font-family: 'JetBrains Mono', monospace; letter-spacing: 0.05em; text-transform: uppercase; padding: 5px 8px; border-radius: 5px; cursor: pointer; transition: all 0.2s; min-width: 90px; text-align: center; }
  .btn-weight-toggle:hover { color: var(--accent-teal); border-color: rgba(110,220,220,0.3); }
  .btn-weight-toggle.random { color: var(--accent-teal); border-color: rgba(110,220,220,0.3); background: rgba(110,220,220,0.05); }

  /* ═══════ RESULTS AREA ═══════ */
  .gen-card-results { padding: 0 20px 16px; min-height: 36px; }
  .result-tags { display: flex; flex-wrap: wrap; gap: 8px; }
  .result-tag { background: var(--tag-bg); border: 1px solid var(--tag-border); border-radius: 6px; padding: 6px 56px 6px 14px; font-family: 'Alegreya', serif; font-size: 0.9rem; color: var(--text-primary); animation: tagIn 0.35s ease backwards; transition: background 0.2s, border-color 0.2s; line-height: 1.4; position: relative; cursor: default; }
  .result-tag:hover { background: var(--bg-card-hover); }
  .result-tag.added-flash { border-color: var(--accent-gold); background: rgba(201,168,76,0.08); }

  /* Tag action buttons */
  .tag-actions { position: absolute; right: 4px; top: 50%; transform: translateY(-50%); display: flex; gap: 2px; }
  .tag-actions button { width: 22px; height: 22px; border-radius: 4px; border: 1px solid var(--border-glow); font-size: 0.75rem; font-weight: 700; line-height: 1; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; opacity: 0.4; }
  .result-tag:hover .tag-actions button { opacity: 0.7; }
  .tag-actions button:hover { opacity: 1 !important; }
  .btn-add-tag { background: rgba(201,168,76,0.08); color: var(--accent-gold); }
  .btn-add-tag:hover { background: rgba(201,168,76,0.2); border-color: var(--accent-gold); }
  .btn-reroll-tag { background: rgba(155,124,196,0.08); color: var(--accent-violet); }
  .btn-reroll-tag:hover { background: rgba(155,124,196,0.2); border-color: var(--accent-violet); }

  /* Speech results */
  .result-speech { background: var(--result-bg); border: 1px solid var(--border); border-radius: 8px; padding: 16px 20px; font-family: 'Alegreya', serif; font-size: 0.92rem; color: var(--text-secondary); line-height: 1.7; animation: tagIn 0.4s ease backwards; }
  .result-speech .speech-label { font-family: 'JetBrains Mono', monospace; font-size: 0.68rem; color: var(--text-muted); letter-spacing: 0.08em; text-transform: uppercase; margin-bottom: 4px; display: block; }
  .result-speech .speech-value { color: var(--text-primary); }
  .speech-row { position: relative; cursor: pointer; padding: 6px 64px 6px 0; margin-bottom: 2px; border-bottom: 1px solid var(--border); transition: background 0.2s; }
  .speech-row:last-child { margin-bottom: 0; padding-bottom: 6px; border-bottom: none; }
  .speech-row:hover { background: rgba(255,255,255,0.015); }
  .speech-row .speech-actions { position: absolute; right: 0; top: 50%; transform: translateY(-50%); display: flex; gap: 2px; }
  .speech-row .speech-actions button { width: 22px; height: 22px; border-radius: 4px; border: 1px solid var(--border-glow); font-size: 0.75rem; font-weight: 700; line-height: 1; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; opacity: 0.4; }
  .speech-row:hover .speech-actions button { opacity: 0.7; }
  .speech-row .speech-actions button:hover { opacity: 1 !important; }
  .speech-row.added-flash { background: rgba(201,168,76,0.05); }

  .placeholder-text { font-style: italic; color: var(--text-muted); font-size: 0.85rem; padding: 4px 0; }
  @keyframes tagIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
  .result-tag:nth-child(1) { animation-delay: 0s; } .result-tag:nth-child(2) { animation-delay: 0.06s; } .result-tag:nth-child(3) { animation-delay: 0.12s; } .result-tag:nth-child(4) { animation-delay: 0.18s; } .result-tag:nth-child(5) { animation-delay: 0.24s; } .result-tag:nth-child(6) { animation-delay: 0.3s; } .result-tag:nth-child(7) { animation-delay: 0.36s; } .result-tag:nth-child(8) { animation-delay: 0.42s; }

  /* ═══════ LOCK ═══════ */
  .btn-lock { background: none; border: 1px solid transparent; color: var(--text-muted); font-size: 0.85rem; padding: 5px 8px; border-radius: 5px; cursor: pointer; transition: all 0.2s; line-height: 1; }
  .btn-lock:hover { color: var(--accent-gold-dim); border-color: rgba(201,168,76,0.2); }
  .btn-lock.locked { color: var(--accent-gold); border-color: rgba(201,168,76,0.3); background: rgba(201,168,76,0.05); }

  /* ═══════ CHARACTER SHEET ═══════ */
  .sheet-panel { max-width: 900px; margin: 0 auto 80px; padding: 0 24px; position: relative; z-index: 1; }
  .sheet-container { background: var(--bg-card); border: 1px solid var(--accent-gold-dim); border-radius: 12px; overflow: hidden; box-shadow: 0 0 40px rgba(201,168,76,0.04); }
  .sheet-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 24px; border-bottom: 1px solid var(--border); background: rgba(201,168,76,0.03); flex-wrap: wrap; gap: 10px; }
  .sheet-header-left { display: flex; align-items: center; gap: 12px; }
  .sheet-header-icon { font-size: 1.3rem; }
  .sheet-header h2 { font-family: 'Cinzel Decorative', serif; font-weight: 700; font-size: 1.2rem; letter-spacing: 0.06em; color: var(--accent-gold); }
  .sheet-count { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; color: var(--text-secondary); background: var(--bg-input); border: 1px solid var(--border); padding: 3px 10px; border-radius: 20px; letter-spacing: 0.05em; }
  .sheet-header-actions { display: flex; gap: 8px; flex-wrap: wrap; }
  .btn-sheet-action { background: var(--generate-bg); border: 1px solid var(--generate-border); color: var(--text-secondary); font-family: 'Alegreya SC', serif; font-size: 0.68rem; letter-spacing: 0.12em; text-transform: uppercase; padding: 6px 14px; border-radius: 6px; cursor: pointer; transition: all 0.2s; }
  .btn-sheet-action:hover { border-color: var(--accent-gold-dim); color: var(--text-primary); background: var(--generate-hover); }
  .btn-sheet-action.btn-danger:hover { border-color: var(--accent-rose); color: #d45a5a; }
  .btn-sheet-action.btn-export:hover { border-color: var(--accent-gold); color: var(--accent-gold); }

  /* Character name */
  .sheet-name-bar { padding: 16px 24px 12px; border-bottom: 1px solid var(--border); }
  .sheet-name-input { background: transparent; border: none; border-bottom: 1px solid var(--border); color: var(--accent-gold); font-family: 'Cinzel Decorative', serif; font-size: 1.1rem; letter-spacing: 0.04em; padding: 6px 4px; width: 100%; outline: none; transition: border-color 0.2s; }
  .sheet-name-input::placeholder { color: var(--text-secondary); font-family: 'Alegreya', serif; font-style: italic; font-size: 0.9rem; }
  .sheet-name-input:focus { border-bottom-color: var(--accent-gold-dim); }

  .sheet-body { padding: 20px 24px; }
  .sheet-empty { text-align: center; padding: 40px 20px; color: var(--text-secondary); font-style: italic; font-size: 0.9rem; }
  .sheet-empty-icon { font-size: 2rem; margin-bottom: 12px; opacity: 0.4; display: block; }
  .sheet-category { margin-bottom: 20px; }
  .sheet-category:last-child { margin-bottom: 0; }
  .sheet-category-label { font-family: 'Alegreya SC', serif; font-size: 0.72rem; font-weight: 700; letter-spacing: 0.15em; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 10px; padding-bottom: 6px; border-bottom: 1px solid var(--border); }
  .sheet-category-tags { display: flex; flex-wrap: wrap; gap: 8px; }
  .sheet-tag { background: var(--tag-bg); border: 1px solid var(--tag-border); border-radius: 6px; padding: 5px 28px 5px 12px; font-family: 'Alegreya', serif; font-size: 0.85rem; color: var(--text-primary); position: relative; animation: tagIn 0.25s ease backwards; line-height: 1.4; cursor: grab; }
  .sheet-tag.dragging { opacity: 0.4; }
  .sheet-tag.drag-over { border-color: var(--accent-gold); background: rgba(201,168,76,0.08); }
  .sheet-tag .btn-remove-tag { position: absolute; right: 4px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; border-radius: 3px; border: none; background: transparent; color: var(--text-muted); font-size: 0.75rem; line-height: 1; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; opacity: 0.3; }
  .sheet-tag:hover .btn-remove-tag { opacity: 0.7; }
  .sheet-tag .btn-remove-tag:hover { opacity: 1; color: #d45a5a; background: rgba(212,90,90,0.1); }
  .sheet-speech-entry { font-size: 0.82rem; color: var(--text-secondary); padding: 4px 28px 4px 12px; background: var(--tag-bg); border: 1px solid var(--tag-border); border-radius: 6px; position: relative; animation: tagIn 0.25s ease backwards; line-height: 1.4; cursor: grab; }
  .sheet-speech-entry.dragging { opacity: 0.4; }
  .sheet-speech-entry.drag-over { border-color: var(--accent-gold); }
  .sheet-speech-entry .speech-sub-label { font-family: 'JetBrains Mono', monospace; font-size: 0.6rem; color: var(--text-secondary); letter-spacing: 0.06em; text-transform: uppercase; }
  .sheet-speech-entry .speech-sub-value { color: var(--text-primary); font-family: 'Alegreya', serif; font-size: 0.85rem; }
  .sheet-speech-entry .btn-remove-tag { position: absolute; right: 4px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; border-radius: 3px; border: none; background: transparent; color: var(--text-muted); font-size: 0.75rem; line-height: 1; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; opacity: 0.3; }
  .sheet-speech-entry:hover .btn-remove-tag { opacity: 0.7; }
  .sheet-speech-entry .btn-remove-tag:hover { opacity: 1; color: #d45a5a; }

  /* Freetext notes */
  .sheet-notes { margin-top: 16px; }
  .sheet-notes-label { font-family: 'Alegreya SC', serif; font-size: 0.72rem; font-weight: 700; letter-spacing: 0.15em; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 8px; padding-bottom: 6px; border-bottom: 1px solid var(--border); }
  .sheet-notes-textarea { width: 100%; min-height: 80px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 8px; color: var(--text-primary); font-family: 'Alegreya', serif; font-size: 0.88rem; padding: 12px 14px; resize: vertical; outline: none; transition: border-color 0.2s; line-height: 1.6; }
  .sheet-notes-textarea::placeholder { color: var(--text-secondary); font-style: italic; }
  .sheet-notes-textarea:focus { border-color: var(--accent-gold-dim); }

  /* ═══════ PICKER ═══════ */
  .picker-toggle { display: flex; align-items: center; gap: 8px; padding: 12px 24px; border-bottom: 1px solid var(--border); cursor: pointer; transition: background 0.2s; user-select: none; }
  .picker-toggle:hover { background: rgba(201,168,76,0.03); }
  .picker-toggle-icon { font-size: 0.75rem; color: var(--accent-gold-dim); transition: transform 0.25s; }
  .picker-toggle.open .picker-toggle-icon { transform: rotate(90deg); }
  .picker-toggle-label { font-family: 'Alegreya SC', serif; font-size: 0.75rem; letter-spacing: 0.12em; text-transform: uppercase; color: var(--text-secondary); }
  .picker-panel { max-height: 0; overflow: hidden; transition: max-height 0.35s ease; border-bottom: 1px solid transparent; }
  .picker-panel.open { max-height: 600px; border-bottom-color: var(--border); }
  .picker-inner { padding: 16px 24px 20px; }
  .picker-controls { display: flex; gap: 10px; margin-bottom: 12px; }
  .picker-search { flex: 1; background: var(--bg-input); border: 1px solid var(--border); color: var(--text-primary); font-family: 'Alegreya', serif; font-size: 0.88rem; padding: 8px 14px; border-radius: 6px; outline: none; transition: border-color 0.2s; }
  .picker-search::placeholder { color: var(--text-secondary); font-style: italic; }
  .picker-search:focus { border-color: var(--accent-gold-dim); }
  .picker-category-select { background: var(--bg-input); border: 1px solid var(--border); color: var(--text-secondary); font-family: 'Alegreya SC', serif; font-size: 0.75rem; letter-spacing: 0.08em; padding: 8px 12px; border-radius: 6px; cursor: pointer; outline: none; transition: border-color 0.2s; min-width: 140px; }
  .picker-category-select:focus { border-color: var(--accent-gold-dim); }
  .picker-list-area { max-height: 340px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track); border: 1px solid var(--border); border-radius: 8px; background: var(--bg-input); }
  .picker-list-empty { padding: 20px; text-align: center; color: var(--text-secondary); font-style: italic; font-size: 0.85rem; }
  .picker-list-group-label { font-family: 'Alegreya SC', serif; font-size: 0.65rem; font-weight: 700; letter-spacing: 0.12em; text-transform: uppercase; color: var(--text-secondary); padding: 10px 14px 4px; position: sticky; top: 0; background: var(--bg-input); z-index: 1; border-bottom: 1px solid var(--border); }
  .picker-list-item { display: flex; align-items: center; justify-content: space-between; padding: 7px 14px; font-family: 'Alegreya', serif; font-size: 0.85rem; color: var(--text-primary); cursor: pointer; transition: background 0.12s; border-bottom: 1px solid rgba(30,30,42,0.5); }
  .picker-list-item:last-child { border-bottom: none; }
  .picker-list-item:hover { background: rgba(201,168,76,0.05); }
  .picker-list-item .picker-add-icon { width: 20px; height: 20px; border-radius: 4px; border: 1px solid var(--border-glow); background: rgba(201,168,76,0.06); color: var(--accent-gold); font-size: 0.8rem; font-weight: 700; display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: all 0.15s; opacity: 0.4; }
  .picker-list-item:hover .picker-add-icon { opacity: 1; border-color: var(--accent-gold-dim); }
  .picker-list-item.on-sheet { background: rgba(201,168,76,0.04); }
  .picker-list-item.on-sheet .picker-item-text { color: var(--accent-gold); }
  .picker-list-item.on-sheet .picker-add-icon { background: rgba(201,168,76,0.15); border-color: var(--accent-gold); color: var(--accent-gold); opacity: 1; }
  .picker-list-item.on-sheet .picker-add-icon::after { content: '✓'; font-size: 0.7rem; }
  .picker-list-item.on-sheet .picker-add-icon span { display: none; }
  .picker-list-item.just-added { animation: pickerFlash 0.4s ease; }
  @keyframes pickerFlash { 0% { background: rgba(201,168,76,0.15); } 100% { background: rgba(201,168,76,0.04); } }
  .picker-info { display: flex; justify-content: space-between; align-items: center; padding: 8px 0 0; }
  .picker-hint { font-size: 0.72rem; color: var(--text-secondary); font-style: italic; }
  .picker-show-more { padding: 12px 14px; text-align: center; font-family: 'Alegreya SC', serif; font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--accent-gold-dim); cursor: pointer; transition: all 0.2s; border-top: 1px solid var(--border); }
  .picker-show-more:hover { background: rgba(201,168,76,0.06); color: var(--accent-gold); }

  /* ═══════ HISTORY ═══════ */
  .history-toggle { display: flex; align-items: center; gap: 8px; padding: 12px 24px; border-bottom: 1px solid var(--border); cursor: pointer; transition: background 0.2s; user-select: none; }
  .history-toggle:hover { background: rgba(155,124,196,0.03); }
  .history-toggle-icon { font-size: 0.75rem; color: var(--accent-violet); transition: transform 0.25s; }
  .history-toggle.open .history-toggle-icon { transform: rotate(90deg); }
  .history-toggle-label { font-family: 'Alegreya SC', serif; font-size: 0.75rem; letter-spacing: 0.12em; text-transform: uppercase; color: var(--text-secondary); }
  .history-panel { max-height: 0; overflow: hidden; transition: max-height 0.35s ease; }
  .history-panel.open { max-height: 400px; border-bottom: 1px solid var(--border); }
  .history-inner { padding: 16px 24px 20px; max-height: 340px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track); }
  .history-entry { padding: 10px 14px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 6px; margin-bottom: 8px; }
  .history-entry-header { font-family: 'Alegreya SC', serif; font-size: 0.68rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 6px; }
  .history-entry-tags { display: flex; flex-wrap: wrap; gap: 6px; }
  .history-entry-tag { background: var(--tag-bg); border: 1px solid var(--tag-border); border-radius: 5px; padding: 3px 10px; font-family: 'Alegreya', serif; font-size: 0.78rem; color: var(--text-primary); cursor: pointer; transition: all 0.15s; }
  .history-entry-tag:hover { border-color: var(--accent-gold-dim); background: rgba(201,168,76,0.06); }
  .history-empty { text-align: center; color: var(--text-secondary); font-style: italic; font-size: 0.82rem; padding: 12px; }

  /* ═══════ TOAST ═══════ */
  .toast { position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%) translateY(80px); background: var(--bg-card); border: 1px solid var(--accent-gold-dim); color: var(--accent-gold); font-family: 'Alegreya SC', serif; font-size: 0.8rem; letter-spacing: 0.1em; padding: 10px 24px; border-radius: 8px; box-shadow: 0 8px 32px rgba(0,0,0,0.5); z-index: 1000; transition: transform 0.3s ease, opacity 0.3s ease; opacity: 0; pointer-events: none; }
  .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

  /* ═══════ PROFILE BAR ═══════ */
  .profile-bar { max-width: 900px; margin: 16px auto 0; padding: 0 24px; position: relative; z-index: 1; }
  .profile-bar-inner { display: flex; align-items: center; gap: 10px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 10px; padding: 10px 16px; flex-wrap: wrap; }
  .profile-bar-label { font-family: 'Alegreya SC', serif; font-size: 0.72rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-secondary); white-space: nowrap; }
  .profile-select { flex: 1; min-width: 140px; background: var(--bg-input); border: 1px solid var(--border); color: var(--text-primary); font-family: 'Alegreya', serif; font-size: 0.85rem; padding: 6px 10px; border-radius: 6px; cursor: pointer; outline: none; }
  .profile-select:focus { border-color: var(--accent-gold-dim); }
  .btn-profile { background: var(--generate-bg); border: 1px solid var(--generate-border); color: var(--text-secondary); font-family: 'Alegreya SC', serif; font-size: 0.65rem; letter-spacing: 0.1em; text-transform: uppercase; padding: 6px 12px; border-radius: 6px; cursor: pointer; transition: all 0.2s; white-space: nowrap; }
  .btn-profile:hover { border-color: var(--accent-gold-dim); color: var(--text-primary); background: var(--generate-hover); }
  .btn-profile.btn-profile-danger:hover { border-color: var(--accent-rose); color: #d45a5a; }

  /* ═══════ IMAGE UPLOAD ═══════ */
  .sheet-image-section { padding: 16px 24px; border-bottom: 1px solid var(--border); display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; }
  .sheet-image-preview { width: 120px; height: 120px; border-radius: 10px; border: 2px dashed var(--border-glow); display: flex; align-items: center; justify-content: center; overflow: hidden; cursor: pointer; transition: border-color 0.2s; flex-shrink: 0; background: var(--bg-input); position: relative; }
  .sheet-image-preview:hover { border-color: var(--accent-gold-dim); }
  .sheet-image-preview img { width: 100%; height: 100%; object-fit: cover; border-radius: 8px; }
  .sheet-image-preview .image-placeholder { color: var(--text-secondary); font-size: 0.72rem; font-family: 'Alegreya SC', serif; text-align: center; letter-spacing: 0.08em; padding: 8px; }
  .sheet-image-preview .image-placeholder span { display: block; font-size: 1.5rem; margin-bottom: 4px; }
  .sheet-image-actions { display: flex; flex-direction: column; gap: 6px; justify-content: center; }
  .btn-image-action { background: var(--generate-bg); border: 1px solid var(--generate-border); color: var(--text-secondary); font-family: 'Alegreya SC', serif; font-size: 0.62rem; letter-spacing: 0.1em; text-transform: uppercase; padding: 5px 12px; border-radius: 5px; cursor: pointer; transition: all 0.2s; }
  .btn-image-action:hover { border-color: var(--accent-gold-dim); color: var(--text-primary); }
  #imageFileInput { display: none; }

  /* ═══════ INLINE MODAL ═══════ */
  .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 999; display: flex; align-items: center; justify-content: center; }
  .modal-box { background: var(--bg-card); border: 1px solid var(--accent-gold-dim); border-radius: 12px; padding: 24px; min-width: 300px; max-width: 400px; box-shadow: 0 16px 48px rgba(0,0,0,0.5); }
  .modal-title { font-family: 'Alegreya SC', serif; font-size: 0.85rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--accent-gold); margin-bottom: 12px; }
  .modal-input { width: 100%; background: var(--bg-input); border: 1px solid var(--border); color: var(--text-primary); font-family: 'Alegreya', serif; font-size: 0.9rem; padding: 10px 14px; border-radius: 6px; outline: none; margin-bottom: 14px; }
  .modal-input:focus { border-color: var(--accent-gold-dim); }
  .modal-buttons { display: flex; gap: 8px; justify-content: flex-end; }
  .modal-btn { font-family: 'Alegreya SC', serif; font-size: 0.72rem; letter-spacing: 0.1em; text-transform: uppercase; padding: 8px 18px; border-radius: 6px; cursor: pointer; transition: all 0.2s; }
  .modal-btn-cancel { background: transparent; border: 1px solid var(--border); color: var(--text-secondary); }
  .modal-btn-cancel:hover { border-color: var(--text-secondary); color: var(--text-primary); }
  .modal-btn-confirm { background: var(--generate-bg); border: 1px solid var(--accent-gold-dim); color: var(--accent-gold); }
  .modal-btn-confirm:hover { border-color: var(--accent-gold); background: var(--generate-hover); }

  /* ═══════ IMPORT ═══════ */
  #importFileInput { display: none; }

  /* ═══════ RESPONSIVE ═══════ */
  @media (max-width: 600px) {
    .gen-card-header { flex-direction: column; align-items: flex-start; gap: 10px; }
    .gen-card-controls { width: 100%; justify-content: flex-end; }
    .site-header { padding: 40px 16px 28px; }
    .main-container { padding: 0 12px 60px; }
    .sheet-panel { margin: 0 8px; }
    .gen-all-bar { padding: 0 12px; }
    .sheet-header { flex-direction: column; align-items: flex-start; }
    .profile-bar { padding: 0 8px; }
    .sheet-image-section { flex-direction: column; align-items: center; }
  }

  /* ═══════ PRINT ═══════ */
  /* Identity pickers */
  .identity-grid { display: flex; flex-direction: column; gap: 10px; padding: 8px 0; }
  .identity-row { display: flex; align-items: center; gap: 12px; }
  .identity-label { font-family: 'Alegreya SC', serif; font-size: 0.72rem; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-secondary); width: 160px; min-width: 160px; flex-shrink: 0; }
  .identity-select { flex: 1; background: var(--bg-card); border: 1px solid var(--border); color: var(--text-primary); padding: 6px 10px; border-radius: 6px; font-family: 'Alegreya', serif; font-size: 0.85rem; cursor: pointer; max-width: 280px; }
  .identity-select:focus { border-color: var(--accent-primary); outline: none; }

  /* Body tool */
  .body-tool { padding: 8px 0; }
  .body-controls { display: flex; flex-direction: column; gap: 14px; margin-bottom: 16px; }
  .body-slider-group { display: flex; flex-direction: column; gap: 4px; }
  .body-label { font-family: 'Alegreya SC', serif; font-size: 0.75rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: var(--text-secondary); display: flex; align-items: center; gap: 2px; }
  .body-editable { display: inline-flex; align-items: center; gap: 1px; color: var(--text-primary); font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; letter-spacing: 0; text-transform: none; font-weight: 400; }
  .body-inline-input { background: transparent; border: none; border-bottom: 1px dashed transparent; color: var(--text-primary); font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; width: auto; min-width: 30px; max-width: 90px; text-align: center; padding: 0 1px; border-radius: 0; -moz-appearance: textfield; cursor: text; }
  .body-inline-input::-webkit-outer-spin-button, .body-inline-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; display: none; }
  .body-inline-input:hover { border-bottom-color: var(--text-muted); }
  .body-inline-input:focus { border-bottom: 1px solid var(--accent-primary); outline: none; color: var(--accent-primary); }
  .body-inline-sm { min-width: 20px; max-width: 40px; }
  .body-alt-unit { color: var(--text-muted); font-size: 0.78rem; }
  .body-alt-unit .body-inline-input { color: var(--text-muted); font-size: 0.78rem; min-width: 28px; max-width: 90px; }
  .body-alt-unit .body-inline-input:focus { color: var(--accent-primary); }
  .body-slider { width: 100%; -webkit-appearance: none; appearance: none; height: 6px; border-radius: 3px; background: var(--border); outline: none; cursor: pointer; }
  .body-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%; background: var(--accent-primary); border: 2px solid var(--bg-card); cursor: pointer; }
  .body-slider::-moz-range-thumb { width: 18px; height: 18px; border-radius: 50%; background: var(--accent-primary); border: 2px solid var(--bg-card); cursor: pointer; }
  .body-calc-row { padding-top: 10px; border-top: 1px solid var(--border); }
  .body-calc-controls { display: flex; gap: 8px; margin-top: 6px; align-items: center; flex-wrap: wrap; }
  .body-calc-controls .identity-select { flex: 1; max-width: 260px; }
  .body-calc-controls .btn-generate { padding: 6px 14px; font-size: 0.75rem; }
  .body-bmi-bar { position: relative; display: flex; height: 24px; border-radius: 12px; overflow: hidden; margin-bottom: 4px; }
  .bmi-zone { height: 100%; }
  .bmi-extreme-under { background: #7b1fa2; }
  .bmi-under { background: #e65100; }
  .bmi-lean { background: #f9a825; }
  .bmi-average { background: #2e7d32; }
  .bmi-athletic { background: #1565c0; }
  .bmi-heavy { background: #f9a825; }
  .bmi-extreme-over { background: #e65100; }
  .bmi-unrealistic { background: #7b1fa2; }
  .bmi-marker { position: absolute; top: -2px; width: 4px; height: 28px; background: #fff; border-radius: 2px; box-shadow: 0 0 6px rgba(0,0,0,0.8); transition: left 0.3s ease; }
  .bmi-labels { display: flex; font-size: 0.5rem; font-family: 'JetBrains Mono', monospace; color: var(--text-muted); letter-spacing: 0.03em; text-transform: uppercase; margin-bottom: 10px; }
  .bmi-labels span { flex: 1; text-align: center; }
  .body-verdict { font-family: 'Alegreya', serif; font-size: 1rem; font-weight: 700; text-align: center; margin-bottom: 4px; }
  .body-note { font-family: 'Alegreya', serif; font-size: 0.8rem; color: var(--text-secondary); text-align: center; line-height: 1.4; }

  /* Custom traits info */
  .custom-traits-section { margin: 30px 0 10px; padding: 0 4px; }
  .custom-info-toggle { display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 12px 16px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 10px; transition: all 0.3s; }
  .custom-info-toggle:hover { border-color: var(--text-muted); }
  .custom-info-icon { font-size: 1rem; }
  .custom-info-title { font-family: 'Alegreya SC', serif; font-size: 0.8rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: var(--text-secondary); flex: 1; }
  .custom-trait-count { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; color: var(--accent-primary); background: rgba(200,180,100,0.1); padding: 2px 8px; border-radius: 10px; }
  .btn-body-shape-nsfw { background: none; border: 1px solid var(--border); border-radius: 4px; padding: 2px 6px; font-size: 0.75rem; cursor: pointer; opacity: 0.5; transition: all 0.2s; }
  .btn-body-shape-nsfw:hover { opacity: 0.8; }
  .btn-body-shape-nsfw.active { opacity: 1; border-color: var(--accent-primary); background: rgba(200,180,100,0.1); }
  .condition-tier-label { width: 100%; font-family: 'Alegreya SC', serif; font-size: 0.72rem; font-weight: 700; letter-spacing: 0.06em; color: var(--text-secondary); padding: 6px 0 3px; margin-top: 4px; border-bottom: 1px solid rgba(255,255,255,0.04); }
  .custom-info-body { padding: 16px 20px; margin-top: -1px; background: var(--bg-card); border: 1px solid var(--border); border-top: none; border-radius: 0 0 10px 10px; }
  .custom-info-body p { font-family: 'Alegreya', serif; font-size: 0.85rem; color: var(--text-secondary); line-height: 1.6; margin: 0 0 8px; }
  .custom-info-body p:last-child { margin-bottom: 0; }
  .custom-info-body strong { color: var(--text-primary); }
  .custom-info-body code { background: rgba(255,255,255,0.06); padding: 1px 5px; border-radius: 3px; font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; color: var(--accent-primary); }
  .custom-help { margin-bottom: 14px; padding-bottom: 12px; border-bottom: 1px solid var(--border); }
  .custom-import-area { display: flex; flex-direction: column; gap: 8px; }
  .custom-label { font-family: 'Alegreya SC', serif; font-size: 0.75rem; font-weight: 700; color: var(--text-secondary); letter-spacing: 0.05em; }
  .custom-category-select { background: var(--bg-card); border: 1px solid var(--border); border-radius: 6px; padding: 8px 12px; color: var(--text-primary); font-family: 'Alegreya', serif; font-size: 0.85rem; cursor: pointer; width: 100%; box-sizing: border-box; -webkit-appearance: none; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23888' d='M6 8L1 3h10z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 10px center; padding-right: 30px; }
  .custom-category-select:focus { border-color: var(--accent-primary); outline: none; }
  .custom-category-select option { background: var(--bg-card); color: var(--text-primary); }
  .custom-textarea { background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; padding: 10px 12px; color: var(--text-primary); font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; line-height: 1.5; resize: vertical; min-height: 80px; width: 100%; box-sizing: border-box; }
  .custom-textarea:focus { outline: none; border-color: var(--accent-primary); }
  .custom-textarea::placeholder { color: var(--muted); font-family: 'Alegreya', serif; font-size: 0.82rem; }
  .custom-import-actions { display: flex; align-items: center; gap: 10px; }
  .custom-import-status { font-family: 'Alegreya', serif; font-size: 0.82rem; color: var(--accent-primary); }
  .custom-pools-list { margin-top: 14px; display: flex; flex-direction: column; gap: 8px; }
  .custom-pool-item { background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 10px 14px; }
  .custom-pool-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 6px; }
  .custom-pool-name { font-family: 'Alegreya SC', serif; font-size: 0.8rem; font-weight: 700; color: var(--text-primary); }
  .custom-pool-meta { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; color: var(--muted); }
  .custom-pool-actions { display: flex; gap: 6px; }
  .custom-pool-actions button { background: none; border: 1px solid var(--border); border-radius: 4px; padding: 2px 8px; font-size: 0.72rem; color: var(--muted); cursor: pointer; font-family: 'Alegreya', serif; }
  .custom-pool-actions button:hover { color: var(--text); border-color: var(--text-muted); }
  .custom-pool-actions button.btn-delete-pool { color: #c44; border-color: rgba(204,68,68,0.3); }
  .custom-pool-actions button.btn-delete-pool:hover { color: #f66; border-color: #f66; }
  .custom-pool-tags { display: flex; flex-wrap: wrap; gap: 4px; }
  .custom-pool-tag { font-size: 0.75rem; background: rgba(200,180,100,0.1); border: 1px solid rgba(200,180,100,0.2); border-radius: 10px; padding: 2px 8px; color: var(--text-secondary); font-family: 'Alegreya', serif; }

  @media print {
    body { background: #fff !important; color: #111 !important; font-size: 12pt; }
    body::before { display: none; }
    .site-header, .gen-all-bar, .main-container, .profile-bar,
    .picker-toggle, .picker-panel, .history-toggle, .history-panel,
    .sheet-header-actions, .btn-remove-tag, .toast,
    .btn-image-action, .sheet-notes-label { display: none !important; }
    .sheet-panel { margin: 0; padding: 0; }
    .sheet-container { border: none; box-shadow: none; background: #fff; border-radius: 0; }
    .sheet-header { background: none; border-bottom: 2px solid #333; padding: 0 0 12px; }
    .sheet-header-left { gap: 8px; }
    .sheet-header h2 { color: #111; }
    .sheet-header-icon { display: none; }
    .sheet-count { background: none; border: 1px solid #999; color: #555; }
    .sheet-name-bar { padding: 12px 0; border-bottom: 1px solid #ccc; }
    .sheet-name-input { color: #111; border-bottom-color: transparent; font-size: 1.3rem; }
    .sheet-image-section { padding: 12px 0; border-bottom: 1px solid #ccc; }
    .sheet-image-preview { border: 1px solid #ccc; }
    .sheet-body { padding: 12px 0; }
    .sheet-category-label { color: #333; border-bottom-color: #ccc; }
    .sheet-tag, .sheet-speech-entry { background: #f5f5f5; border-color: #ddd; color: #111; padding-right: 12px; cursor: default; }
    .sheet-speech-entry .speech-sub-label { color: #555; }
    .sheet-speech-entry .speech-sub-value { color: #111; }
    .sheet-notes { padding: 0; margin-top: 12px; }
    .sheet-notes-textarea { background: #f9f9f9; border-color: #ccc; color: #111; min-height: 40px; }
    * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  }
</style>
</head>
<body>

<header class="site-header">
  <h1>Character Forge</h1>
  <p class="subtitle">Original Character Generator</p>
  <div class="header-line"></div>
</header>

<div class="profile-bar">
  <div class="profile-bar-inner">
    <span class="profile-bar-label">Profile:</span>
    <select class="profile-select" id="profileSelect"></select>
    <button class="btn-profile" id="btnNewProfile">+ New</button>
    <button class="btn-profile" id="btnRenameProfile">Rename</button>
    <button class="btn-profile" id="btnDuplicateProfile">Duplicate</button>
    <button class="btn-profile btn-profile-danger" id="btnDeleteProfile">Delete</button>
  </div>
</div>

<div class="gen-all-bar">
  <button class="btn-gen-all" id="btnGenAll">⚡ Generate All</button>
  <button class="btn-add-all-visible" id="btnAddAllVisible">+ Add All Visible to Sheet</button>
</div>

<main class="main-container">

  <div class="top-guides">
    <div class="top-guide">
      <div class="top-guide-toggle" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open')"><span class="guide-icon">▶</span> ❓ Perks vs Virtues vs Savvies — and their negatives</div>
      <div class="top-guide-body">
        <div class="guide-row"><strong>Savvies</strong> <span class="guide-vs">vs</span> <strong>Perks</strong> — Savvies are <em>practical skills and abilities</em> — things they can DO. Perks are <em>innate personality advantages</em> — traits they naturally ARE. <em>"Savvy: Lock-picking, first aid, cooking"</em> vs <em>"Perk: Naturally charismatic, unshakeable calm, photographic memory"</em></div>
        <div class="guide-row"><strong>Perks</strong> <span class="guide-vs">vs</span> <strong>Virtues</strong> — Perks are <em>natural advantages</em> they were born with or developed passively. Virtues are <em>moral ideals</em> they actively hold and strive toward, even when they fail. <em>"Perk: Quick reflexes"</em> vs <em>"Virtue: Justice — believes in fairness even at personal cost"</em></div>
        <div class="guide-row"><strong>Vices</strong> <span class="guide-vs">vs</span> <strong>Flaws</strong> — Vices are bad habits they <em>willingly choose</em> despite knowing better. Flaws are personality problems they <em>can't easily control</em>. <em>"Vice: Gambling, drinking to excess"</em> vs <em>"Flaw: Crippling jealousy, pathological liar"</em></div>
        <div class="guide-row"><strong>Ineptitudes</strong> <span class="guide-vs">vs</span> <strong>Flaws</strong> — Ineptitudes are things they're <em>bad at doing</em> (skill gaps). Flaws are who they <em>are</em> (character defects). <em>"Ineptitude: Can't cook, terrible with money"</em> vs <em>"Flaw: Explosive temper, chronic self-sabotage"</em></div>
      </div>
    </div>
    <div class="top-guide">
      <div class="top-guide-toggle" onclick="this.classList.toggle('open');this.nextElementSibling.classList.toggle('open')"><span class="guide-icon">▶</span> ❓ Physical Quirks vs Tics &amp; Quirks vs Mannerisms</div>
      <div class="top-guide-body">
        <div class="guide-row"><strong>Physical Quirks</strong> <span class="guide-vs">vs</span> <strong>Tics &amp; Quirks</strong> — Physical Quirks are <em>whole-body</em> habitual movements — posture, stance, gait, how they hold themselves and move through space. Tics are <em>small-scale involuntary</em> micro-habits — a twitch, a repeated sound, a fidget. <em>"Physical Quirk: Always stands with arms crossed, leans against walls"</em> vs <em>"Tic: Clicks pen constantly, cracks knuckles, taps foot when anxious"</em></div>
        <div class="guide-row"><strong>Tics &amp; Quirks</strong> <span class="guide-vs">vs</span> <strong>Mannerisms</strong> — Tics are <em>involuntary</em> — they happen whether the person wants them to or not. Mannerisms are <em>deliberate everyday behaviors</em> — how they choose to eat, walk, sit, greet people. <em>"Tic: Bites lip when thinking, eye twitch when stressed"</em> vs <em>"Mannerism: Always eats dessert first, Irish goodbyes, reads the ending of books first"</em></div>
        <div class="guide-row"><strong>Body Features</strong> <span class="guide-vs">vs</span> <strong>Physical Quirks</strong> — Body Features are <em>structural/visual</em> — what their body looks like standing still. Physical Quirks are <em>behavioral</em> — how their body moves and acts. <em>"Body Feature: Broad shoulders, long limbs"</em> vs <em>"Physical Quirk: Hunches shoulders, bounces on heels"</em></div>
      </div>
    </div>
  </div>

  <!-- ═══ SKILLS ═══ -->
  <div class="generator-section section--skills" id="section-skills">
    <div class="section-header" data-collapse="section-skills">
      <div class="section-icon">⚔</div>
      <h2>Skills</h2>
      <span class="section-collapse-icon">▼</span>
    </div>
    <div class="section-cards">
      <div class="gen-card" data-generator="savvies">
        <div class="gen-card-header">
          <span class="gen-card-title">Savvies<div class="gen-card-subtitle">Learned skills &amp; trained abilities</div></span>
          <div class="gen-card-controls">
            <div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div>
            <button class="btn-weight-toggle random" data-mha="savvies" title="General only. Click to include MHA content.">🌐 General</button>
            <button class="btn-lock" title="Lock" data-lock>🔓</button>
            <button class="btn-add-all-card" title="Add all to sheet" data-addall>+All</button>
            <button class="btn-clear" data-clear>Clear</button>
            <button class="btn-generate" data-gen>Generate</button>
          </div>
        </div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll savvies…</span></div></div>
      </div>
      <div class="gen-card" data-generator="ineptitudes">
        <div class="gen-card-header">
          <span class="gen-card-title">Ineptitudes<div class="gen-card-subtitle">Skill gaps &amp; practical failings</div></span>
          <div class="gen-card-controls">
            <div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div>
            <button class="btn-weight-toggle random" data-mha="ineptitudes" title="General only. Click to include MHA content.">🌐 General</button>
            <button class="btn-lock" title="Lock" data-lock>🔓</button>
            <button class="btn-add-all-card" title="Add all to sheet" data-addall>+All</button>
            <button class="btn-clear" data-clear>Clear</button>
            <button class="btn-generate" data-gen>Generate</button>
          </div>
        </div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll ineptitudes…</span></div></div>
      </div>
    </div>
  </div>

  <!-- ═══ APPEARANCE ═══ -->
  <div class="generator-section section--appearance" id="section-appearance">
    <div class="section-header" data-collapse="section-appearance">
      <div class="section-icon">👁</div>
      <h2>Appearance</h2>
      <span class="section-collapse-icon">▼</span>
    </div>
    <div class="section-cards">
      <div class="gen-card" data-generator="eyeDescriptor">
        <div class="gen-card-header"><span class="gen-card-title">Eye Descriptor<div class="gen-card-subtitle">Generates a shape + quality + color combination</div></span><div class="gen-card-controls"><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add to sheet" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>🎲 Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll eye description…</span></div></div>
      </div>
      <div class="gen-card" data-generator="hairDescriptor">
        <div class="gen-card-header"><span class="gen-card-title">Hair Descriptor<div class="gen-card-subtitle">Generates a style + texture + color combination</div></span><div class="gen-card-controls"><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add to sheet" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>🎲 Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll hair description…</span></div></div>
      </div>
      <div class="gen-card" data-generator="face">
        <div class="gen-card-header"><span class="gen-card-title">Facial Features<div class="gen-card-subtitle">Face shape, eyes, nose, mouth, skin &amp; facial hair</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle random" data-mha="face" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll facial features…</span></div></div>
      </div>
      <div class="gen-card" data-generator="bodyFeatures">
        <div class="gen-card-header"><span class="gen-card-title">Body Features<div class="gen-card-subtitle">Build, proportions, skin texture &amp; distinctive physical traits</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle random" data-mha="bodyFeatures" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll body features…</span></div></div>
      </div>
      <div class="gen-card" data-generator="physicalQuirks">
        <div class="gen-card-header"><span class="gen-card-title">Physical Quirks<div class="gen-card-subtitle">Posture, habits, gestures &amp; body language</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle random" data-mha="physicalQuirks" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll physical quirks…</span></div></div>
      </div>
      <div class="gen-card" data-generator="identifying">
        <div class="gen-card-header"><span class="gen-card-title">Identifying Characteristics<div class="gen-card-subtitle">Scars, tattoos, piercings, birthmarks &amp; unique marks</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle random" data-mha="identifying" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll identifying characteristics…</span></div></div>
      </div>
    </div>
  </div>

  <!-- ═══ PERSONALITY ═══ -->
  <div class="generator-section section--personality" id="section-personality">
    <div class="section-header" data-collapse="section-personality">
      <div class="section-icon">♠</div>
      <h2>Personality</h2>
      <span class="section-collapse-icon">▼</span>
    </div>
    <div class="section-cards">
      <div class="gen-card" data-generator="likes">
        <div class="gen-card-header"><span class="gen-card-title">Likes<div class="gen-card-subtitle">Things they enjoy &amp; are drawn to</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle" data-weight="likes" title="Weighted: favors normally-liked items. Click for full random.">⚖ Weighted</button><button class="btn-weight-toggle random" data-mha="likes" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll likes…</span></div></div>
      </div>
      <div class="gen-card" data-generator="dislikes">
        <div class="gen-card-header"><span class="gen-card-title">Dislikes<div class="gen-card-subtitle">Things they avoid &amp; find unpleasant</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle" data-weight="dislikes" title="Weighted: favors normally-disliked items. Click for full random.">⚖ Weighted</button><button class="btn-weight-toggle random" data-mha="dislikes" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll dislikes…</span></div></div>
      </div>
      <div class="gen-card" data-generator="virtues">
        <div class="gen-card-header"><span class="gen-card-title">Virtues<div class="gen-card-subtitle">An ideal they hold, even when they fail to live up to it — e.g. Sonic's virtue is Freedom</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll virtues…</span></div></div>
      </div>
      <div class="gen-card" data-generator="perks">
        <div class="gen-card-header"><span class="gen-card-title">Perks<div class="gen-card-subtitle">Innate strengths &amp; natural advantages</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll perks…</span></div></div>
      </div>
      <div class="gen-card" data-generator="vices">
        <div class="gen-card-header"><span class="gen-card-title">Vices<div class="gen-card-subtitle">Bad habits they willingly indulge in, knowing better — e.g. Stocking's Gluttony</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll vices…</span></div></div>
      </div>
      <div class="gen-card" data-generator="flaws">
        <div class="gen-card-header"><span class="gen-card-title">Flaws<div class="gen-card-subtitle">Personality problems &amp; emotional shortcomings</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll flaws…</span></div></div>
      </div>
      <div class="gen-card" data-generator="kinks">
        <div class="gen-card-header"><span class="gen-card-title">Kinks &amp; Preferences<div class="gen-card-subtitle">Intimate tastes &amp; bedroom inclinations</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll kinks &amp; preferences…</span></div></div>
      </div>
      <div class="gen-card" data-generator="taboos">
        <div class="gen-card-header"><span class="gen-card-title">Taboos<div class="gen-card-subtitle">Commonly frowned-upon views or ideals the character holds</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle random" data-mha="taboos" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll taboos…</span></div></div>
      </div>
      <div class="gen-card" data-generator="intellectual">
        <div class="gen-card-header"><span class="gen-card-title">Intellectual Characteristics<div class="gen-card-subtitle">How their mind works — learning, thinking &amp; cognition</div></span><div class="gen-card-controls"><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div data-results><span class="placeholder-text">Click generate to roll intellectual profile…</span></div></div>
      </div>
    </div>
  </div>

  <!-- ═══ MISCELLANEOUS ═══ -->
  <div class="generator-section section--misc" id="section-misc">
    <div class="section-header" data-collapse="section-misc">
      <div class="section-icon">🎭</div>
      <h2>Miscellaneous</h2>
      <span class="section-collapse-icon">▼</span>
    </div>
    <div class="section-cards">
      <div class="gen-card" data-generator="speech">
        <div class="gen-card-header"><span class="gen-card-title">Speech<div class="gen-card-subtitle">How they talk &amp; verbal mannerisms</div></span><div class="gen-card-controls"><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div data-results><span class="placeholder-text">Click generate to roll speech patterns…</span></div></div>
      </div>
      <div class="gen-card" data-generator="pets">
        <div class="gen-card-header"><span class="gen-card-title">Pets<div class="gen-card-subtitle">Animal companions &amp; creature bonds</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll pets…</span></div></div>
      </div>
      <div class="gen-card" data-generator="hobbies">
        <div class="gen-card-header"><span class="gen-card-title">Hobbies<div class="gen-card-subtitle">Free-time activities &amp; personal interests</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle random" data-mha="hobbies" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll hobbies…</span></div></div>
      </div>
      <div class="gen-card" data-generator="religion">
        <div class="gen-card-header"><span class="gen-card-title">Religious Beliefs<div class="gen-card-subtitle">Faith, spirituality &amp; worldview</div></span><div class="gen-card-controls"><button class="btn-weight-toggle random" data-mha="religion" title="General only. Click to include MHA content.">🌐 General</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll religious beliefs…</span></div></div>
      </div>
      <div class="gen-card" data-generator="tics">
        <div class="gen-card-header"><span class="gen-card-title">Tics &amp; Quirks<div class="gen-card-subtitle">Unconscious habits &amp; physical mannerisms</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll tics &amp; quirks…</span></div></div>
      </div>
      <div class="gen-card" data-generator="mannerisms">
        <div class="gen-card-header"><span class="gen-card-title">Mannerisms<div class="gen-card-subtitle">How they eat, walk, sit, greet &amp; approach tasks</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll mannerisms…</span></div></div>
      </div>
      <div class="gen-card" data-generator="hygiene">
        <div class="gen-card-header"><span class="gen-card-title">Hygiene<div class="gen-card-subtitle">Cleanliness, grooming habits &amp; personal care</div></span><div class="gen-card-controls"><div class="count-selector"><label>Count</label><select data-count><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select></div><button class="btn-weight-toggle random" id="hygieneMode" title="Mix of good, bad, and neutral">🔀 Mixed</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>Generate</button></div></div>
        <div class="gen-card-results"><div class="result-tags" data-results><span class="placeholder-text">Click generate to roll hygiene traits…</span></div></div>
      </div>
    </div>
  </div>

  <!-- ═══ IDENTITY & BODY ═══ -->
  <div class="generator-section section--identity" id="section-identity">
    <div class="section-header" data-collapse="section-identity">
      <div class="section-icon">👤</div>
      <h2>Identity &amp; Body</h2>
      <span class="section-collapse-icon">▼</span>
    </div>
    <div class="section-cards">

      <!-- Identity Pickers -->
      <div class="gen-card" data-generator="identity">
        <div class="gen-card-header"><span class="gen-card-title">Identity<div class="gen-card-subtitle">Gender, sex, presentation &amp; orientation</div></span><div class="gen-card-controls"><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add all to sheet" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>🎲 Randomize</button></div></div>
        <div class="gen-card-results">
          <div data-results class="identity-grid">
            <div class="identity-row">
              <label class="identity-label">Gender Identity</label>
              <select class="identity-select" id="selGender">
                <option value="">— Select —</option>
                <option>Cisgender Man</option><option>Cisgender Woman</option>
                <option>Transgender Man</option><option>Transgender Woman</option>
                <option>Non-binary</option><option>Genderqueer</option><option>Genderfluid</option>
                <option>Agender</option><option>Bigender</option><option>Demigender (Demiboy)</option>
                <option>Demigender (Demigirl)</option><option>Two-Spirit</option>
                <option>Neutrois</option><option>Pangender</option><option>Third Gender</option>
                <option>Androgynous</option><option>Questioning</option><option>Other</option>
              </select>
            </div>
            <div class="identity-row">
              <label class="identity-label">Biological Sex</label>
              <select class="identity-select" id="selSex">
                <option value="">— Select —</option>
                <option>Male</option><option>Female</option><option>Intersex</option>
              </select>
            </div>
            <div class="identity-row">
              <label class="identity-label">Presentation</label>
              <select class="identity-select" id="selPresentation">
                <option value="">— Select —</option>
                <option>Masculine</option><option>Feminine</option><option>Androgynous</option>
                <option>Gender non-conforming</option><option>Fluid / varies</option>
                <option>Masc-leaning androgynous</option><option>Fem-leaning androgynous</option>
                <option>Butch</option><option>Femme</option><option>Soft masc</option><option>Soft fem</option>
              </select>
            </div>
            <div class="identity-row">
              <label class="identity-label">Sexuality</label>
              <select class="identity-select" id="selSexuality">
                <option value="">— Select —</option>
                <option>Heterosexual</option><option>Homosexual (Gay)</option><option>Homosexual (Lesbian)</option>
                <option>Bisexual</option><option>Pansexual</option><option>Asexual</option>
                <option>Demisexual</option><option>Greysexual</option><option>Omnisexual</option>
                <option>Polysexual</option><option>Queer</option><option>Fluid</option>
                <option>Questioning</option><option>Skoliosexual</option>
                <option>Androsexual</option><option>Gynesexual</option>
                <option>Autosexual</option><option>Aceflux</option>
              </select>
            </div>
            <div class="identity-row">
              <label class="identity-label">Romantic Preference</label>
              <select class="identity-select" id="selRomantic">
                <option value="">— Select —</option>
                <option>Heteroromantic</option><option>Homoromantic</option>
                <option>Biromantic</option><option>Panromantic</option>
                <option>Aromantic</option><option>Demiromantic</option>
                <option>Greyromantic</option><option>Polyamorous</option>
                <option>Quoiromantic</option><option>Cupioromantic</option>
                <option>Aroflux</option><option>Questioning</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <!-- Height & Weight Tool -->
      <div class="gen-card" data-generator="body">
        <div class="gen-card-header"><span class="gen-card-title">Height &amp; Weight<div class="gen-card-subtitle">Build plausibility checker — see how realistic your numbers are</div></span><div class="gen-card-controls"><button class="btn-weight-toggle random" id="btnRealism" title="Realistic mode. Click for anime/fantasy.">🌍 Realistic</button><button class="btn-lock" title="Lock" data-lock>🔓</button><button class="btn-add-all-card" title="Add to sheet" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button><button class="btn-generate" data-gen>🎲 Randomize</button></div></div>
        <div class="gen-card-results">
          <div data-results class="body-tool">
            <div class="body-controls">
              <div class="body-slider-group">
                <label class="body-label">Height: <span class="body-editable" id="heightDisplay"><input type="number" class="body-inline-input body-inline-sm" id="heightFt" min="0" value="5">′<input type="number" class="body-inline-input body-inline-sm" id="heightIn" min="0" max="11" value="7">″ <span class="body-alt-unit">/ <input type="number" class="body-inline-input" id="heightCm" min="1" value="170"> cm</span></span></label>
                <input type="range" class="body-slider" id="heightSlider" min="60" max="275" value="170" step="1">
              </div>
              <div class="body-slider-group">
                <label class="body-label">Weight: <span class="body-editable" id="weightDisplay"><input type="number" class="body-inline-input" id="weightLbs" min="1" value="150"> lbs <span class="body-alt-unit">/ <input type="number" class="body-inline-input" id="weightKg" min="1" value="68"> kg</span></span></label>
                <input type="range" class="body-slider" id="weightSlider" min="15" max="350" value="68" step="1">
              </div>
              <div class="body-calc-row">
                <label class="body-label">Calculate missing value:</label>
                <div class="body-calc-controls">
                  <select class="identity-select" id="calcBuildType">
                    <option value="">— Pick a build —</option>
                    <option value="13">Emaciated (BMI ~13)</option>
                    <option value="15">Dangerously Thin (BMI ~15)</option>
                    <option value="17">Underweight (BMI ~17)</option>
                    <option value="19.5">Lean (BMI ~19.5)</option>
                    <option value="22">Average (BMI ~22)</option>
                    <option value="25">Athletic / Stocky (BMI ~25)</option>
                    <option value="28">Heavy (BMI ~28)</option>
                    <option value="33">Obese (BMI ~33)</option>
                    <option value="40">Extremely Obese (BMI ~40)</option>
                    <option value="50">Immobile (BMI ~50)</option>
                  </select>
                  <button class="btn-generate" id="btnCalc">Calculate</button>
                </div>
              </div>
            </div>
            <div class="body-result" id="bodyResult">
              <div class="body-bmi-bar">
                <div class="bmi-zone bmi-extreme-under" style="width:8%"></div>
                <div class="bmi-zone bmi-under" style="width:10%"></div>
                <div class="bmi-zone bmi-lean" style="width:12%"></div>
                <div class="bmi-zone bmi-average" style="width:20%"></div>
                <div class="bmi-zone bmi-athletic" style="width:15%"></div>
                <div class="bmi-zone bmi-heavy" style="width:15%"></div>
                <div class="bmi-zone bmi-extreme-over" style="width:10%"></div>
                <div class="bmi-zone bmi-unrealistic" style="width:10%"></div>
                <div class="bmi-marker" id="bmiMarker"></div>
              </div>
              <div class="bmi-labels">
                <span>Emaciated</span><span>Under</span><span>Lean</span><span>Average</span><span>Athletic</span><span>Heavy</span><span>Obese</span><span>Extreme</span>
              </div>
              <div class="body-verdict" id="bodyVerdict"></div>
              <div class="body-note" id="bodyNote"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Body Shape Picker -->
      <div class="gen-card" data-generator="bodyShape">
        <div class="gen-card-header"><span class="gen-card-title">Body Shape<div class="gen-card-subtitle">Overall silhouette, proportions &amp; build type</div></span><div class="gen-card-controls"><button class="btn-body-shape-nsfw" id="btnBodyShapeNsfw" title="Show additional options">👁</button><button class="btn-add-all-card" title="Add selected to sheet" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button></div></div>
        <div class="gen-card-results">
          <div data-results class="condition-picker">
            <input type="text" class="condition-search" id="bodyShapeSearch" placeholder="Search body shapes…" autocomplete="off">
            <div class="condition-options" id="bodyShapeOptions"></div>
            <div class="condition-selected" id="bodyShapeSelected"></div>
          </div>
        </div>
      </div>

      <!-- Conditions Pickers -->
      <div class="gen-card" data-generator="physicalConditions">
        <div class="gen-card-header"><span class="gen-card-title">Physical Conditions<div class="gen-card-subtitle">Chronic conditions, disabilities &amp; physical health</div></span><div class="gen-card-controls"><button class="btn-add-all-card" title="Add selected to sheet" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button></div></div>
        <div class="gen-card-results">
          <div data-results class="condition-picker">
            <input type="text" class="condition-search" id="physCondSearch" placeholder="Search physical conditions…" autocomplete="off">
            <div class="condition-options" id="physCondOptions"></div>
            <div class="condition-selected" id="physCondSelected"></div>
          </div>
        </div>
      </div>
      <div class="gen-card" data-generator="mentalConditions">
        <div class="gen-card-header"><span class="gen-card-title">Mental &amp; Neurological Conditions<div class="gen-card-subtitle">Neurodivergence, mental health &amp; cognitive differences</div></span><div class="gen-card-controls"><button class="btn-add-all-card" title="Add selected to sheet" data-addall>+All</button><button class="btn-clear" data-clear>Clear</button></div></div>
        <div class="gen-card-results">
          <div data-results class="condition-picker">
            <input type="text" class="condition-search" id="mentalCondSearch" placeholder="Search mental/neurological conditions…" autocomplete="off">
            <div class="condition-options" id="mentalCondOptions"></div>
            <div class="condition-selected" id="mentalCondSelected"></div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div class="custom-traits-section" id="customTraitsSection">
    <div class="custom-info-toggle" id="customInfoToggle">
      <span class="custom-info-icon">🔧</span>
      <span class="custom-info-title">Custom Traits</span>
      <span class="custom-trait-count" id="customTraitCount"></span>
      <span class="section-collapse-icon">▶</span>
    </div>
    <div class="custom-info-body" id="customInfoBody" style="display:none;">
      <div class="custom-help">
        <p><strong>How Custom Traits Work</strong></p>
        <p>Every custom trait needs two things: <strong>which generator</strong> it appears in (e.g. Savvies, Identifying Characteristics, Likes) and an optional <strong>pool name</strong> for organizing groups of traits together.</p>
        <p><strong>Step 1:</strong> Pick which generator card these traits should roll in using the <strong>"Add to generator"</strong> dropdown. This is required — it determines where the trait actually appears.</p>
        <p><strong>Step 2:</strong> Write your traits, one per line. Optionally add <code> - Pool Name</code> to group traits (e.g. for a specific fandom). Traits without a pool name go into <strong>"Custom"</strong>.</p>
        <p><strong>Examples:</strong><br>
        <code>Has the Mark of the Outsider - Dishonored</code> → appears in whichever generator you selected, filed under the "Dishonored" pool<br>
        <code>Super strength</code> → appears in whichever generator you selected, filed under "Custom"</p>
        <p>When the <strong>🔧 Custom</strong> toggle is enabled on a generator card, your custom traits are mixed into that generator's rolls. When disabled, only built-in traits are used.</p>
        <p style="margin-top:10px; padding-top:10px; border-top:1px solid var(--border);"><strong>Other ways to add traits:</strong></p>
        <p><strong>Manual Trait Search:</strong> Use the collapsible search bar above the character sheet to find and add any existing built-in trait directly to your sheet.</p>
        <p><strong>Sheet Notes:</strong> Any freeform traits that don't fit categories can be written into the Notes section at the bottom of the sheet. These export with your character.</p>
      </div>
      <div class="custom-import-area">
        <label class="custom-label">Add to generator (required):</label>
        <select class="custom-category-select" id="customCatSelect">
          <option value="">— Select a generator —</option>
        </select>
        <textarea class="custom-textarea" id="customTextarea" rows="6" placeholder="Enter traits, one per line:&#10;Has the Mark of the Outsider - Dishonored&#10;Can Blink between locations - Dishonored&#10;Enhanced reflexes&#10;Sees through walls - Dishonored"></textarea>
        <div class="custom-import-actions">
          <button class="btn-generate" id="btnImportCustom">Import Traits</button>
          <span class="custom-import-status" id="customImportStatus"></span>
        </div>
      </div>
      <div class="custom-pools-list" id="customPoolsList"></div>
      <div class="custom-pool-io" id="customPoolIO" style="display:none; margin-top:12px; padding-top:12px; border-top:1px solid var(--border); display:flex; gap:8px; align-items:center;">
        <button class="btn-generate" id="btnExportPools" style="font-size:0.78rem; padding:5px 12px;">Export Pools (.json)</button>
        <button class="btn-generate" id="btnImportPools" style="font-size:0.78rem; padding:5px 12px;">Import Pools (.json)</button>
        <input type="file" id="poolFileInput" accept=".json" style="display:none;">
        <button class="btn-generate btn-delete-pool" id="btnClearAllPools" style="font-size:0.78rem; padding:5px 12px;">Delete All Pools</button>
      </div>
    </div>
  </div>

</main>

<!-- ═══ CHARACTER SHEET ═══ -->
<div class="sheet-panel">
  <div class="sheet-container">
    <div class="sheet-header">
      <div class="sheet-header-left"><span class="sheet-header-icon">📜</span><h2>Character Sheet</h2><span class="sheet-count" id="sheetCount">0 traits</span></div>
      <div class="sheet-header-actions">
        <button class="btn-sheet-action btn-export" id="btnExportTxt">Export .txt</button>
        <button class="btn-sheet-action btn-export" id="btnExportJson">Export .json</button>
        <button class="btn-sheet-action btn-export" id="btnImportJson">Import .json</button>
        <button class="btn-sheet-action" id="btnPrint">Print</button>
        <button class="btn-sheet-action btn-danger" id="btnClearSheet">Clear All</button>
      </div>
    </div>
    <input type="file" id="importFileInput" accept=".json">
    <input type="file" id="imageFileInput" accept="image/*">
    <!-- Image -->
    <div class="sheet-image-section">
      <div class="sheet-image-preview" id="imagePreview" title="Click to upload image">
        <div class="image-placeholder" id="imagePlaceholder"><span>🖼</span>Add Image</div>
      </div>
      <div class="sheet-image-actions">
        <button class="btn-image-action" id="btnUploadImage">Upload Image</button>
        <button class="btn-image-action" id="btnRemoveImage" style="display:none;">Remove</button>
      </div>
    </div>
    <div class="sheet-name-bar"><input type="text" class="sheet-name-input" id="sheetNameInput" placeholder="Enter character name…"></div>
    <!-- History -->
    <div class="history-toggle" id="historyToggle"><span class="history-toggle-icon">▶</span><span class="history-toggle-label">Generation History</span></div>
    <div class="history-panel" id="historyPanel"><div class="history-inner" id="historyInner"><div class="history-empty">No generation history yet.</div></div></div>
    <!-- Picker -->
    <div class="picker-toggle" id="pickerToggle"><span class="picker-toggle-icon">▶</span><span class="picker-toggle-label">Manual Trait Search</span></div>
    <div class="picker-panel" id="pickerPanel">
      <div class="picker-inner">
        <div class="picker-controls"><input type="text" class="picker-search" id="pickerSearch" placeholder="Search traits… or browse by category" autocomplete="off"><select class="picker-category-select" id="pickerCategory"><option value="">— Select Category —</option><option value="face">Facial Features</option><option value="bodyFeatures">Body Features</option><option value="physicalQuirks">Physical Quirks</option><option value="identifying">Identifying Characteristics</option><option value="savvies">Savvies</option><option value="ineptitudes">Ineptitudes</option><option value="likes">Likes</option><option value="dislikes">Dislikes</option><option value="vices">Vices</option><option value="flaws">Flaws</option><option value="kinks">Kinks & Preferences</option><option value="virtues">Virtues</option><option value="perks">Perks</option><option value="pets">Pets</option><option value="hobbies">Hobbies</option><option value="religion">Religious Beliefs</option><option value="tics">Tics & Quirks</option><option value="mannerisms">Mannerisms</option><option value="intellectual">Intellectual Characteristics</option><option value="hygiene">Hygiene</option><option value="taboos">Taboos</option><option value="speech">Speech</option><option value="bodyShape">Body Shape</option></select></div>
        <div class="picker-list-area" id="pickerListArea"><div class="picker-list-empty">Select a category to browse, or type to search across all traits.</div></div>
        <div class="picker-info"><span class="picker-hint" id="pickerHint"></span></div>
      </div>
    </div>
    <div class="sheet-body" id="sheetBody">
      <div class="sheet-empty"><span class="sheet-empty-icon">✦</span>Click the <strong>+</strong> button on any generated trait to add it here.<br>Your sheet saves automatically.</div>
    </div>
    <!-- Freetext notes -->
    <div class="sheet-notes" style="padding: 0 24px 20px;">
      <div class="sheet-notes-label">Notes</div>
      <textarea class="sheet-notes-textarea" id="sheetNotes" placeholder="Additional notes, backstory, custom traits…"></textarea>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
const DATA = {
  savvies: {
    general: [
    "Running", "Sprinting", "Long-distance running", "Jumping", "Climbing", "Swimming", "Diving",
    "Parkour", "Acrobatics", "Gymnastics", "Balance", "Flexibility", "Strength training",
    "Weightlifting", "Endurance", "Stamina", "Reflexes", "Hand-eye coordination", "Footwork",
    "Agility", "Speed", "Stealth", "Sneaking", "Silent movement", "Lock picking", "Pickpocketing",
    "Sleight of hand", "Escapology", "Contortionism", "Hand-to-hand combat", "Boxing",
    "Kickboxing", "Karate", "Judo", "Jiu-jitsu", "Taekwondo", "Muay Thai", "Wrestling",
    "Grappling", "Knife fighting", "Swordsmanship", "Staff fighting", "Marksmanship", "Archery",
    "Throwing weapons", "Firearms proficiency", "Sharpshooting", "Quick draw",
    "Disarming opponents", "Defensive fighting", "Offensive tactics",
    "Reading opponent's movements", "Counter-attacking", "Blocking", "Dodging", "Evasion",
    "Predicting attacks", "Combat strategy", "Tactical thinking in battle", "Mathematics",
    "Physics", "Chemistry", "Biology", "Engineering", "Computer science", "Programming", "Coding",
    "Hacking", "Data analysis", "Research", "Critical thinking", "Problem-solving",
    "Logic puzzles", "Pattern recognition", "Memory retention", "Mental math",
    "Strategic planning", "Chess", "Debate", "Rhetoric", "Argumentation", "Philosophy",
    "Reading people", "Body language reading", "Lie detection", "Deduction", "Investigation",
    "Detective work", "Forensics", "Crime scene analysis", "Evidence gathering", "Interrogation",
    "Drawing", "Sketching", "Painting", "Sculpting", "Digital art", "Animation", "Graphic design",
    "Photography", "Videography", "Film editing", "Creative writing", "Poetry", "Storytelling",
    "Screenwriting", "Playwriting", "Music composition", "Songwriting", "Playing piano",
    "Playing guitar", "Playing drums", "Playing violin", "Playing other instruments", "Singing",
    "Vocal range", "Pitch perfect hearing", "Music theory", "Conducting", "Dancing (ballet)",
    "Dancing (contemporary)", "Dancing (hip-hop)", "Dancing (ballroom)", "Choreography", "Acting",
    "Voice acting", "Improv", "Stand-up comedy", "Magic tricks", "Illusions", "Ventriloquism",
    "Puppetry", "Charisma", "Persuasion", "Negotiation", "Diplomacy", "Mediation",
    "Conflict resolution", "Public speaking", "Presentations", "Leadership", "Team building",
    "Motivating others", "Inspiring people", "Networking", "Making friends easily", "Small talk",
    "Conversation skills", "Active listening", "Empathy", "Comforting others", "Counseling",
    "Teaching", "Mentoring", "Patience with others", "Understanding different perspectives",
    "Cultural sensitivity", "Language learning", "Multilingual", "Translation", "Interpretation",
    "Accents and dialects", "Voice mimicry", "Impression of others", "Cooking", "Baking",
    "Mixology", "Bartending", "Barista skills", "Food presentation", "Knife skills (culinary)",
    "Meal planning", "Nutrition knowledge", "Cleaning", "Organization", "Interior design",
    "Home repair", "Plumbing", "Electrical work", "Carpentry", "Woodworking", "Metalworking",
    "Welding", "Auto repair", "Mechanics", "Motorcycle maintenance", "Sewing", "Tailoring",
    "Fashion design", "Knitting", "Crocheting", "Embroidery", "Gardening", "Landscaping",
    "Agriculture", "Animal training", "Pet care", "Veterinary knowledge", "First aid", "CPR",
    "Emergency medicine", "Wilderness survival", "Camping skills", "Fire starting",
    "Shelter building", "Foraging", "Hunting", "Fishing", "Tracking", "Navigation", "Map reading",
    "Orienteering", "Driving", "Piloting aircraft", "Sailing", "Boat handling",
    "Business management", "Marketing", "Sales", "Customer service", "Accounting", "Bookkeeping",
    "Financial planning", "Investment knowledge", "Stock trading", "Real estate",
    "Project management", "Time management", "Multitasking", "Prioritization", "Meeting deadlines",
    "Working under pressure", "Attention to detail", "Quality control", "Documentation",
    "Report writing", "Technical writing", "Editing", "Proofreading", "Journalism", "Interviewing",
    "Broadcasting", "News anchoring", "Weather forecasting", "Scientific research", "Lab work",
    "Medical knowledge", "Surgical skills", "Diagnosis", "Pharmacy knowledge", "Legal knowledge",
    "Law practice", "Contract negotiation", "Court proceedings", "Paralegal work",
    "Ultimate moves development", "Special techniques creation", "Signature move execution",
    "Rescue operations", "Civilian evacuation", "Disaster response", "Hostage negotiation",
    "Crime scene securing", "Restraining techniques", "Non-lethal takedowns", "Crowd control",
    "Public relations", "Media handling", "Interview skills", "Fan interaction",
    "Balancing hero/civilian life", "Territory knowledge", "Threat assessment",
    "Damage minimization", "Collateral damage prevention", "Team coordination",
    "Partner synchronization", "Supporting other heroes", "Information gathering", "Infiltration",
    "Undercover work", "Surveillance", "Reconnaissance", "Intelligence analysis",
    "Strategy formulation", "Battle planning", "Contingency planning", "Adaptability in combat",
    "Improvisation", "Quick decision making", "Crisis management", "Stress management",
    "Staying calm under pressure", "Endurance in long battles", "Recovery speed", "Pain tolerance",
    "Mental fortitude", "Willpower", "Determination", "Never giving up", "Budgeting", "Frugality",
    "Finding deals", "Bargaining", "Haggling", "Gambling", "Card counting", "Poker face",
    "Bluffing", "Reading tells", "Gaming skills", "Video game expertise", "Speedrunning",
    "Strategy game mastery", "Trivia knowledge", "General knowledge", "Pop culture knowledge",
    "History knowledge", "Geography", "Memorization", "Mnemonics", "Study techniques",
    "Test-taking", "Typing speed", "Shorthand", "Calligraphy", "Handwriting analysis", "Origami",
    "Puzzle solving", "Rubik's cube", "Riddles", "Crosswords", "Sudoku", "Brain teasers",
    "Pranking", "Practical jokes", "Party planning", "Event coordination", "Wedding planning",
    "Decorating", "Gift wrapping", "Gift selection", "Thoughtfulness",
    "Remembering details about people", "Making people feel special", "Hosting", "Mimicry",
    "Doing accents", "Multiple languages", "Cooking well", "Home repair", "Financial management",
    "Gardening", "Animal training", "Organizational systems", "Touch typing", "Budgeting",
    "Time management", "Support item integration", "Villain apprehension",
    "Maintaining secret identity", "Patrol efficiency", "Leading hero teams",
    "Underground hero tactics"
    ],
    mha: [
    "Quirk control", "Precise quirk activation", "Quirk endurance", "Quirk stamina management",
    "Quirk evolution techniques", "Creative quirk applications", "Quirk combination strategies",
    "Quirk analysis", "Understanding others' quirks", "Predicting quirk abilities",
    "Countering specific quirk types", "Rescue operations with quirk", "Combat with quirk",
    "Quirk-enhanced mobility", "Quirk training methods", "Teaching quirk usage",
    "Minimizing quirk drawbacks", "Managing quirk limitations", "Quirk awakening potential"
    ]
  },

  ineptitudes: {
    general: [
    "Cannot swim", "Clumsy", "Uncoordinated", "Poor balance", "No flexibility",
    "Weak upper body strength", "Weak lower body strength", "Low stamina", "Poor endurance",
    "Slow runner", "Cannot jump high", "Terrible at climbing", "Poor hand-eye coordination",
    "Slow reflexes", "Bad at catching things", "Cannot ride a bike", "Cannot skateboard",
    "Cannot roller skate", "Cannot ice skate", "Terrible dancer", "Stiff movements",
    "Poor posture", "Cannot do a cartwheel", "Cannot do a handstand", "Low pain tolerance",
    "Faints at the sight of blood", "Squeamish", "Poor depth perception", "Cannot throw a punch",
    "Terrible aim", "Cannot use weapons", "Cannot block attacks", "Cannot dodge",
    "Slow to react in combat", "Telegraphs moves", "Cannot form battle plans",
    "Cannot pace themselves in fights", "Glass jaw", "Terrible at math",
    "Cannot do mental arithmetic", "Poor with numbers", "Cannot handle statistics",
    "Bad at logic puzzles", "Cannot solve riddles", "Terrible at chess", "Poor strategic thinking",
    "Cannot plan ahead", "Cannot spot lies", "Bad at deduction", "Poor problem-solving",
    "Cannot focus while reading", "Slow reader", "Poor reading comprehension", "Cannot speed read",
    "Terrible memory", "Forgets names immediately", "Horrible memory for faces",
    "Cannot remember dates", "Poor time management", "Cannot prioritize", "Bad at organization",
    "Cannot follow instructions", "Misunderstands directions", "Processes information slowly",
    "Cannot multitask", "Cannot connect dots", "Cannot read between lines",
    "Takes everything literally", "Cannot write essays", "Terrible grammar", "Poor spelling",
    "Awful penmanship", "Illegible handwriting", "Cannot type fast", "Cannot draw",
    "No sense of proportion", "No understanding of perspective", "Color blind",
    "Cannot mix colors", "Terrible at painting", "Cannot sculpt", "Cannot visualize 3D objects",
    "Tone-deaf", "Cannot sing", "Cannot carry a tune", "No rhythm", "Cannot keep beat",
    "Cannot dance", "Cannot play instruments", "No ear for music", "Cannot read sheet music",
    "Cannot rhyme", "Terrible storytelling", "Boring narrator", "Monotone voice", "Cannot act",
    "Wooden performance", "Cannot improvise comedy", "Cannot take good photos",
    "Cannot frame shots", "Cannot edit videos", "Clashes colors terribly",
    "Cannot coordinate outfits", "Bad at small talk", "Cannot start conversations",
    "Terrible at reading the room", "No tact", "Cannot comfort others", "Terrible listener",
    "Cannot make friends easily", "Struggles with first impressions", "Cannot flirt",
    "Oblivious to flirting", "Misses romantic signals", "Not persuasive", "Cannot convince anyone",
    "Bad negotiator", "Loses every argument", "Cannot debate", "Poor judge of character",
    "Cannot read people", "Misses social cues", "Cannot empathize", "Terrible poker face",
    "Cannot bluff", "Cannot lie convincingly", "Awful liar", "Cannot keep a secret",
    "Cannot read body language", "Misses discomfort cues", "Cannot end conversations",
    "Cannot estimate time needed", "Always underestimates time", "Cannot remember names at events",
    "Cannot cook", "Burns everything they cook", "Undercooks everything", "Cannot follow recipes",
    "Confuses salt and sugar", "Cannot crack eggs properly", "Cannot boil pasta",
    "Cannot make toast", "Cannot use can opener", "Clumsy with knives", "Clumsy with tools",
    "Cannot hammer nail straight", "Cannot use screwdriver", "Cannot assemble furniture",
    "Cannot read assembly instructions", "Cannot do basic repairs", "Cannot sew",
    "Cannot thread needle", "Cannot sew straight line", "Cannot tie knots",
    "Cannot tie shoelaces well", "Cannot wrap gifts", "Cannot fold fitted sheets",
    "Cannot fold anything properly", "Cannot iron clothes", "Cannot do laundry properly",
    "Cannot clean effectively", "Cannot park car properly", "Takes 10 tries to parallel park",
    "Terrible driver", "Terrible with directions", "Cannot read maps", "Gets lost in own city",
    "Gets lost with GPS", "Cannot navigate", "Gets turned around easily",
    "Cannot estimate distances", "Misjudges gaps and spaces", "Cannot back up trailer",
    "Cannot drive stick shift", "Cannot sail", "Cannot tie nautical knots", "Cannot fish",
    "Tangles fishing line", "Cannot bait hook", "Cannot cast properly", "Cannot garden",
    "Kills every plant", "Overwaters plants", "Underwaters plants",
    "Cannot tell if plant needs water", "Bad at training animals", "Terrible with animals",
    "Cannot ride horses", "Falls off horses", "Bad at budgeting", "Terrible with finances",
    "Cannot balance checkbook", "Cannot invest", "Cannot manage people", "Cannot delegate",
    "Cannot work in teams", "Cannot prioritize tasks", "Slow to complete tasks",
    "Makes careless mistakes", "No attention to detail", "Cannot proofread",
    "Cannot use computers well", "Cannot troubleshoot", "Cannot use basic software",
    "Struggles with Microsoft Office", "Cannot format documents", "Terrible at spreadsheets",
    "Breaks formulas in Excel", "Cannot make presentations", "Cannot use email properly",
    "Cannot write professional emails", "Cannot network", "Bad at making connections",
    "Cannot gamble well", "Terrible poker player", "Cannot bluff at poker",
    "Cannot make decisions", "Cannot see nuance", "Cannot compromise", "Cannot form good habits",
    "Cannot finish tasks", "Cannot retain information", "Short-term memory issues",
    "Cannot pronounce certain words", "Mispronounces names", "Butchers foreign words",
    "Cannot do accents", "Terrible at impressions", "Doesn't get jokes", "Cannot tell jokes",
    "Ruins punchlines", "Explains jokes", "Cannot be counted on", "Misses big picture",
    "Gets lost in details", "Cannot perform under pressure", "Chokes when matters most",
    "Terrible at rescues", "Clumsy during evacuations", "Terrible with media",
    "Says wrong things in interviews", "Awkward at meet-and-greets", "Signs autographs illegibly",
    "Bad at fan service", "Sloppy about covering tracks", "Gets lost en route",
    "Slow response time", "Cannot work with partners", "Gets in allies' way",
    "Cannot apprehend properly", "Weak at restraining", "Cannot interrogate",
    "Cannot gauge appropriate force"
    ],
    mha: [
    "Poor quirk control", "Activates quirk accidentally", "Cannot deactivate quirk",
    "Weak quirk output", "Cannot sustain quirk long", "Low quirk stamina",
    "Cannot use quirk creatively", "Predictable quirk usage", "Cannot adapt quirk usage",
    "Struggles with support items", "Cannot integrate gear with quirk",
    "Cannot analyze others' quirks", "Cannot predict quirk moves", "Telegraphs own quirk usage",
    "Cannot develop ultimate moves", "Cannot teach quirk to others",
    "Cannot explain own quirk well", "Cannot maintain secret identity", "Terrible at patrol",
    "Messes up combo moves"
    ]
  },

  opinions: {
    liked: {
      general: [
      "Coffee", "Tea", "Hot chocolate", "Energy drinks", "Soda", "Juice", "Smoothies", "Alcohol",
      "Wine", "Beer", "Spicy food", "Sweet food", "Salty food", "Sour food", "Bitter food",
      "Fried food", "Healthy food", "Junk food", "Fast food", "Home cooking", "Baking", "Cooking",
      "Seafood", "Meat", "Vegetables", "Fruits", "Pasta", "Rice", "Bread", "Cheese", "Chocolate",
      "Candy", "Ice cream", "Desserts", "Breakfast foods", "Ethnic cuisine", "Street food",
      "Fine dining", "Buffets", "Picnics", "BBQs", "Potlucks", "Rain", "Snow", "Sunshine",
      "Cloudy days", "Fog", "Storms", "Thunderstorms", "Wind", "Heat", "Cold", "Humidity",
      "Dry climate", "Spring", "Summer", "Fall", "Winter", "Early mornings", "Late nights",
      "Sunrises", "Sunsets", "Stargazing", "The moon", "Darkness", "Bright lights", "Cats", "Dogs",
      "Birds", "Fish", "Reptiles", "Rodents", "Horses", "Farm animals", "Wild animals", "Insects",
      "Spiders", "Bugs in general", "Pets", "Animal care", "Zoos", "Aquariums",
      "Nature documentaries", "Reading", "Writing", "Drawing", "Painting", "Sculpting",
      "Photography", "Videography", "Crafts", "Knitting", "Sewing", "Woodworking", "Pottery",
      "Gardening", "Cooking as hobby", "Baking as hobby", "Music", "Singing",
      "Playing instruments", "Dancing", "Theater", "Acting", "Movies", "TV shows", "Anime",
      "Cartoons", "Documentaries", "Reality TV", "News", "Podcasts", "Audiobooks", "Radio",
      "Video games", "Board games", "Card games", "Puzzles", "Riddles", "Trivia", "Gambling",
      "Sports (watching)", "Sports (playing)", "Exercise", "Running", "Yoga", "Meditation",
      "Hiking", "Camping", "Fishing", "Hunting", "Swimming", "Surfing", "Skiing", "Snowboarding",
      "Biking", "Skateboarding", "Rock climbing", "Martial arts", "Team sports", "Solo sports",
      "Competition", "Winning", "Losing gracefully", "Traveling", "Road trips", "Flying", "Trains",
      "Boats", "Adventure", "Tourism", "Staycations", "Hotels", "Airbnb", "Camping trips",
      "Beach vacations", "Mountain getaways", "City breaks", "Rural retreats", "Foreign countries",
      "Domestic travel", "Solo travel", "Group travel", "Planning trips", "Spontaneous trips",
      "Parties", "Social gatherings", "Bars", "Clubs", "Concerts", "Festivals", "Conventions",
      "Crowds", "Solitude", "Quiet", "Noise", "Loud music", "Silence", "Small talk",
      "Deep conversations", "Debates", "Arguments", "Gossip", "Rumors", "Drama", "Privacy",
      "Public attention", "Fame", "Anonymity", "Children", "Babies", "Teenagers", "Adults",
      "Elderly", "Families", "Couples", "Singles", "Friend groups", "Coworkers", "Strangers",
      "Acquaintances", "Romance", "Love", "Affection", "Intimacy", "Physical touch", "Hugs",
      "Kisses", "Cuddling", "Hand holding", "Flirting", "Compliments", "Gift giving",
      "Receiving gifts", "Quality time", "Words of affirmation", "Acts of service", "Learning",
      "Studying", "School", "College", "University", "Classes", "Lectures", "Workshops",
      "Seminars", "Conferences", "Research", "Science", "History", "Math", "Literature",
      "Philosophy", "Psychology", "Sociology", "Politics", "Economics", "Law", "Medicine",
      "Technology", "Engineering", "Art", "Music theory", "Languages", "Fashion", "Makeup",
      "Skincare", "Hair styling", "Tattoos", "Piercings", "Body art", "Jewelry", "Accessories",
      "Shopping", "Window shopping", "Thrift stores", "Antiques", "Collecting",
      "Hoarding (positive)", "Minimalism", "Organization", "Cleaning", "Decorating",
      "Interior design", "Architecture", "Home improvement", "Cars", "Motorcycles", "Bicycles",
      "Trucks", "Boats (owning)", "Planes", "Trains (hobby)", "Mechanical work", "Tinkering",
      "DIY projects", "Building things", "Fixing things", "Computers", "Smartphones", "Gadgets",
      "Tech", "Software", "Apps", "Websites", "Social media", "Online communities", "Forums",
      "Blogs", "Vlogs", "Streaming", "Content creation", "Influencing", "Entrepreneurship",
      "Business", "Startups", "Investing", "Stocks", "Crypto", "Real estate", "Side hustles",
      "Freelancing", "Spirituality", "Religion", "Prayer", "Meditation", "Mindfulness",
      "Yoga (spiritual)", "Astrology", "Tarot", "Crystals", "Witchcraft", "Paganism", "New age",
      "Occult", "Supernatural", "Paranormal", "Ghosts", "UFOs", "Conspiracy theories", "Mysteries",
      "True crime", "Horror", "Thriller", "Comedy", "Romance genre", "Fantasy", "Sci-fi", "Action",
      "Adventure genre", "Drama genre", "Mystery genre", "Western", "Historical", "Military",
      "Espionage", "Superhero content", "Slice of life", "Isekai", "Mecha", "Magical girl",
      "Shonen", "Shojo", "Seinen", "Josei", "Nature", "The outdoors", "Fresh air", "Open spaces",
      "Fields", "Meadows", "Forests", "Woods", "Mountains", "Hills", "Valleys", "Rivers", "Lakes",
      "Oceans", "Beaches", "Islands", "Deserts", "Tundra", "Rainforests", "Caves", "Waterfalls",
      "Hot springs", "Geysers", "Volcanoes", "Glaciers", "Gardens", "Parks", "Botanical gardens",
      "National parks", "Wildlife reserves", "Flowers", "Trees", "Plants", "Herbs", "Mushrooms",
      "Moss", "Ferns", "Day time", "Night time", "Dawn", "Dusk", "Twilight", "Golden hour",
      "Blue hour", "Full moon", "New moon", "Stars", "Constellations", "Northern lights",
      "Meteor showers", "Routine", "Structure", "Spontaneity", "Flexibility", "Freedom",
      "Independence", "Autonomy", "Control", "Power", "Authority", "Leadership", "Teamwork",
      "Collaboration", "Cooperation", "Helping others", "Volunteering", "Charity", "Activism",
      "Advocacy", "Justice", "Equality", "Fairness", "Democracy", "Tradition", "Culture",
      "Heritage", "History (personal)", "Nostalgia", "Memories", "Sentimentality", "Keepsakes",
      "Souvenirs", "Photos", "Scrapbooks", "Journals", "Progress", "Growth", "Self-improvement",
      "Personal development", "Goal setting", "Achievement", "Success", "Recognition", "Awards",
      "Praise", "Validation", "Respect", "Admiration", "Loyalty", "Trust", "Honesty",
      "Transparency", "Safety", "Security", "Stability", "Consistency", "Reliability",
      "Predictability", "Excitement", "Thrills", "Adrenaline", "Risk-taking", "Danger", "Edge",
      "Surprises", "Gifts", "Celebrations", "Birthdays", "Holidays", "Anniversaries", "Weddings",
      "Graduations", "Milestones", "New beginnings", "Fresh starts", "Saving people",
      "Rescue missions", "Training", "Battle strategy", "Community outreach", "Cultural festivals",
      "Award ceremonies", "Friendly rivalries", "Training montages", "Overcoming challenges",
      "Proving doubters wrong", "Protecting the innocent", "Standing up for others", "Mentoring",
      "Being mentored", "Teamwork in battle", "Fighting villains", "Sparring", "Costume design",
      "Popularity", "Internships", "Cosplaying as heroes", "Power scaling debates",
      "Hypothetical battles", "Tier lists", "Equipment reviews", "Strategy discussions"
      ],
      mha: [
      "Hero work", "Quirk development", "Gear upgrades", "Hero rankings", "Fan mail",
      "Autograph signings", "Meet and greets", "Hero merchandise", "All Might",
      "Specific Pro Heroes", "U.A. High School", "Hero agencies", "Work studies", "Hero team-ups",
      "Quirk analysis", "Power discussions", "Combo moves", "Support items", "Hero costumes",
      "Villain takedowns", "Patrol duty", "Civilian interaction", "Hero events",
      "Sports festivals", "Hero galas"
      ]
    },
    disliked: {
      general: [
      "Being interrupted", "Being talked over", "Being ignored", "Being dismissed",
      "Being patronized", "Being condescended to", "Being lectured", "Being nagged",
      "Being micromanaged", "Being controlled", "Being bossed around", "Being told what to do",
      "Being corrected constantly", "Being criticized", "Being judged", "Being gossiped about",
      "Being lied to", "Being manipulated", "Being guilt-tripped", "Being passive-aggressived",
      "Being given the silent treatment", "Being ghosted", "Being stood up",
      "Being canceled on last minute", "Being kept waiting", "People being late",
      "Chronic lateness", "Flakiness", "Unreliability", "Broken promises", "Empty promises",
      "False hope", "Fake people", "Two-faced people", "Hypocrites", "Liars", "Cheaters",
      "Backstabbers", "Snitches", "Suck-ups", "Know-it-all attitude", "One-uppers",
      "Attention seekers", "Drama queens", "Complainers", "Whiners", "Negative people",
      "Pessimists", "Buzzkills", "Killjoys", "Sore losers", "Sore winners", "Show-offs",
      "Braggarts", "Egomaniacs", "Narcissists", "Arrogant people", "Pretentious people", "Snobs",
      "Elitists", "Rude people", "Inconsiderate people", "Selfish people", "Greedy people",
      "Stingy people", "Moochers", "Freeloaders", "Energy vampires", "Clingy people",
      "Possessive people", "Controlling people", "Manipulative people", "Toxic people", "Bullies",
      "Aggressive people", "Confrontational people", "Hostile people", "Mean people",
      "Cruel people", "Spiteful people", "Vindictive people", "Petty people", "Bitter people",
      "Grudge holders", "Loud chewing", "Mouth breathing", "Snoring", "Cracking knuckles loudly",
      "Pen clicking", "Invading personal space", "Standing too close",
      "Touching without permission", "Nosy people", "Prying questions", "Unsolicited advice",
      "Backseat driving", "Being treated like you're stupid", "Being underestimated",
      "Being talked down to", "Pain", "Headaches", "Migraines", "Nausea", "Dizziness",
      "Motion sickness", "Itching", "Muscle pain", "Joint pain", "Back pain", "Cramps", "Bloating",
      "Indigestion", "Heartburn", "Sunburn", "Chafing", "Blisters", "Paper cuts", "Dry skin",
      "Chapped lips", "Bad breath", "Body odor", "Excessive sweating", "Being too hot",
      "Overheating", "Being too cold", "Freezing", "Numbness", "Pins and needles", "Hiccups",
      "Congestion", "Sore throat", "Coughing fits", "Awkward situations", "Embarrassing moments",
      "Public embarrassment", "Humiliation", "Second-hand embarrassment", "Running into exes",
      "Forced social interaction", "Mandatory fun", "Team building exercises", "Icebreakers",
      "Group projects", "Public speaking", "Being put on the spot", "Being singled out",
      "Confrontations", "Arguments", "Drama", "Toxic workplaces", "Toxic relationships",
      "Power imbalances", "Inequality", "Injustice", "Unfairness", "Discrimination", "Bigotry",
      "Intolerance", "Willful ignorance", "Close-mindedness", "Loud noises", "Sudden loud noises",
      "Constant noise", "Sirens", "Car alarms", "Leaf blowers", "Construction noise",
      "Traffic noise", "Honking", "Loud motorcycles", "Bass through walls", "Neighbors being loud",
      "Barking dogs", "Crying babies", "Screaming children", "Crowded places", "Being jostled",
      "Long lines", "Traffic jams", "Rush hour", "Commuting", "Delays", "Being stuck",
      "Small spaces", "Cramped spaces", "No personal space", "Humidity", "Muggy weather",
      "Oppressive heat", "Extreme cold", "Strong wind", "Heavy rain", "Getting rained on",
      "Getting wet unexpectedly", "Hail", "Black ice", "Blizzards", "Mud", "Bad smells",
      "Foul odors", "Garbage smell", "Sewage smell", "Rotten food smell", "Strong perfume",
      "Overpowering cologne", "Cigarette smoke", "Pollution", "Dust", "Dirt", "Filth", "Mess",
      "Clutter", "Disorganization", "Spiders", "Cockroaches", "Flies", "Mosquitoes",
      "Mosquito bites", "Wasps", "Hornets", "Bee stings", "Ants", "Fire ants", "Bedbugs", "Fleas",
      "Ticks", "Lice", "Maggots", "Slugs", "Centipedes", "Scorpions", "Snakes", "Rats", "Mice",
      "Pigeons", "Aggressive geese", "Burnt food", "Overcooked food", "Undercooked food",
      "Slimy textures", "Mushy textures", "Soggy food", "Stale food", "Moldy food", "Hair in food",
      "Gristle", "Mystery meat", "Liver", "Tripe", "Nails on chalkboard", "Fork on plate",
      "Styrofoam squeaking", "Chewing sounds", "Smacking lips", "Slurping", "High-pitched sounds",
      "Screeching", "Microphone feedback", "Chores", "Doing dishes", "Laundry", "Ironing",
      "Scrubbing toilets", "Yard work", "Shoveling snow", "Grocery shopping in crowds",
      "Bureaucracy", "Red tape", "Paperwork", "Filling out forms", "Taxes", "Bills", "Debt",
      "Financial stress", "Job searching", "Rejection", "Failure", "Disappointing others",
      "Obligation", "Forced participation", "Lack of control", "Helplessness", "Slow internet",
      "Buffering", "Lag", "Crashes", "Error messages", "Pop-up ads", "Unskippable ads",
      "Spam emails", "Robocalls", "Scam calls", "Viruses", "Dead batteries", "Tangled cords",
      "Forgetting passwords", "Captchas", "Autocorrect fails", "Cracked screens", "Spoilers",
      "Bad endings", "Plot holes", "Clickbait", "Double standards", "Hypocrisy", "Inconsistency",
      "Plans changing", "Canceled plans", "Disappointment", "Unmet expectations",
      "False advertising", "Breaking easily", "Planned obsolescence", "Waste", "Inefficiency",
      "Over-explaining", "Vagueness", "Mixed signals", "Passive aggression",
      "Beating around the bush", "All talk no action", "Gatekeeping", "Cliques", "Being left out",
      "Being excluded", "Being forgotten", "Being overlooked", "Being taken for granted",
      "Being used", "Being exploited", "Loneliness", "Isolation", "Abandonment", "Rejection",
      "Being misunderstood", "Not belonging", "Not fitting in", "Overthinking", "Anxiety",
      "Stress", "Pressure", "Unrealistic expectations", "Never good enough", "Constant criticism",
      "Nightmares", "Insomnia", "Sleep deprivation", "Exhaustion", "Burnout", "Bad bosses",
      "Micromanagers", "Office politics", "Unnecessary meetings", "Meetings that could be emails",
      "Time wasting", "Death", "Dying", "Illness", "Disease", "Grief", "Loss", "Heartbreak",
      "Violence", "War", "Bloodshed", "Suffering", "Cruelty", "Evil", "Corruption", "Oppression",
      "Tyranny", "Censorship", "Propaganda", "Collateral damage", "Property destruction",
      "Being caught in crossfire", "Hostage situations", "Rescue delays", "Media scrutiny",
      "Paparazzi", "Tabloids", "Fickle fans", "Costume malfunctions", "Repeat offenders"
      ],
      mha: [
      "Quirk discrimination", "Quirkless discrimination", "Heteromorph discrimination",
      "Being judged by quirk", "Quirk accidents", "Quirk misfires", "Quirk drawbacks",
      "Quirk exhaustion", "Quirk limitations", "Restrictive quirk laws", "Hero society corruption",
      "Fake heroes", "Glory-seeking heroes", "Villain attacks", "Hero gossip",
      "Commission control", "HPSC interference", "Sidekick exploitation", "Support item failures",
      "Villain escapes"
      ]
    }
  },

  taboos: {
    general: [
    "Believes the strong should rule the weak", "Thinks might makes right",
    "Believes democracy is flawed", "Thinks monarchy is the best system",
    "Believes dictatorships are more efficient", "Thinks authoritarian rule is necessary",
    "Believes freedom is overrated", "Thinks people need to be controlled for their own good",
    "Believes individual rights should be sacrificed for collective good",
    "Thinks privacy is a luxury not a right", "Believes surveillance of all citizens is justified",
    "Thinks the government should control information", "Believes censorship is necessary for social order",
    "Thinks dissent should be punished", "Believes protest is destructive not productive",
    "Thinks revolution is never justified", "Believes the current system is perfect as-is",
    "Thinks change is always bad", "Believes tradition must be preserved at all costs",
    "Thinks progress is dangerous", "Believes nationalism above all else",
    "Thinks immigration should be stopped entirely", "Believes borders should be completely open",
    "Thinks citizenship should be earned not birthright", "Believes voting rights should be restricted",
    "Thinks only the educated should vote", "Believes hierarchies are natural and good",
    "Thinks most people are too stupid to govern themselves",
    "Believes bloodlines determine worth", "Thinks nobility should exist",
    "Believes in a rigid caste system", "Believes the poor deserve their poverty",
    "Thinks poverty is always self-inflicted", "Believes the wealthy earned everything fairly",
    "Thinks the rich are inherently superior", "Believes trickle-down economics works",
    "Thinks charity creates dependency", "Believes welfare is theft",
    "Thinks social safety nets make people lazy", "Thinks privilege doesn't exist",
    "Believes systemic inequality is a myth", "Thinks people who fail just didn't try hard enough",
    "Believes success is purely individual effort", "Thinks workers have too many rights",
    "Believes the free market solves everything",
    "Believes the ends always justify the means",
    "Thinks lying is acceptable if it serves a greater good",
    "Believes stealing from the rich is morally fine", "Thinks vigilante justice is acceptable",
    "Believes revenge is justice", "Thinks an eye for an eye is correct",
    "Believes capital punishment for all violent crimes", "Thinks public executions should return",
    "Believes torture is justified for information", "Thinks criminals have too many rights",
    "Believes innocent until proven guilty is outdated", "Thinks rehabilitation is impossible",
    "Believes once a criminal always a criminal", "Thinks prison should be purely punitive",
    "Believes public shaming should be institutionalized",
    "Thinks juvenile offenders should be tried as adults always",
    "Believes some people are born evil", "Thinks nurture doesn't matter only nature",
    "Believes moral relativism means nothing is wrong",
    "Believes traditional gender roles are correct and immutable",
    "Thinks men are naturally superior to women", "Believes women are naturally superior to men",
    "Thinks women belong in the home", "Believes men shouldn't show emotion",
    "Thinks crying is weakness", "Believes non-binary identities don't exist",
    "Thinks gender is purely biological", "Thinks gender identity is a choice",
    "Thinks gay people choose to be gay", "Believes homosexuality is unnatural",
    "Thinks same-sex marriage is wrong", "Believes same-sex couples shouldn't raise children",
    "Thinks bisexuality is just confusion", "Thinks asexuality isn't real",
    "Believes polyamory is immoral", "Thinks kink is mental illness",
    "Thinks sex work should be criminalized", "Believes arranged marriages are superior",
    "Thinks divorce should be illegal", "Believes single parents are failures",
    "Thinks childless people are selfish", "Believes women's purpose is reproduction",
    "Thinks age gap relationships are always predatory",
    "Thinks age gap relationships are always fine",
    "Believes virginity is sacred", "Thinks promiscuity is immoral",
    "Believes some races are superior to others", "Thinks racial purity should be maintained",
    "Believes interracial relationships are wrong", "Thinks diversity is overrated",
    "Believes multiculturalism doesn't work", "Thinks assimilation should be mandatory",
    "Believes reverse racism is the real problem", "Thinks talking about race creates racism",
    "Believes colonialism was beneficial", "Thinks some cultures are objectively superior",
    "Believes racial profiling works", "Thinks stereotypes exist for a reason",
    "Believes their religion is the only truth", "Thinks all other religions are false",
    "Believes atheists are immoral", "Thinks you cannot be good without God",
    "Believes religious law should be civil law", "Thinks blasphemy should be punished",
    "Believes evangelism is mandatory", "Thinks teaching evolution is wrong",
    "Believes faith over evidence always", "Thinks questioning doctrine is sinful",
    "Believes holy war is justified", "Thinks religious texts are literally true",
    "Believes LGBTQ+ people are sinful", "Thinks religious freedom means freedom to discriminate",
    "Believes religion is inherently harmful", "Thinks all faith is delusion",
    "Believes raising children religious is child abuse",
    "Thinks nihilism is the only honest philosophy",
    "Believes science is just another religion", "Thinks experts are always lying",
    "Believes conspiracy theories over established science",
    "Thinks modern medicine is poison", "Believes natural is always better",
    "Believes mental illness is fake", "Thinks therapy is brainwashing",
    "Thinks ADHD is just bad parenting", "Thinks depression is weakness",
    "Believes anxiety is just overthinking", "Thinks PTSD is an excuse",
    "Believes addiction is purely moral failing", "Thinks willpower cures mental illness",
    "Believes modern technology is evil", "Thinks progress has ruined society",
    "Believes social media is destroying humanity", "Thinks video games cause violence",
    "Believes every generation is worse than the last", "Thinks the past was always better",
    "Believes formal education is indoctrination", "Thinks critical thinking is dangerous",
    "Believes questioning authority is wrong", "Thinks IQ is everything",
    "Believes intelligence is fixed at birth", "Thinks some people are unteachable",
    "Believes art is useless", "Thinks creativity is frivolous",
    "Believes STEM is all that matters", "Thinks humanities are worthless",
    "Believes love is weakness", "Thinks emotions are irrational",
    "Believes empathy is a flaw", "Thinks compassion is foolish",
    "Believes mercy enables bad behavior", "Thinks forgiveness is weakness",
    "Believes altruism doesn't exist", "Thinks kindness is a manipulation tactic",
    "Believes brutal honesty is always a virtue", "Thinks people are too sensitive",
    "Believes apologies are weakness", "Thinks asking for help is failure",
    "Believes needing others is pathetic", "Thinks vulnerability is dangerous",
    "Believes everyone is too soft now", "Thinks coddling has ruined people",
    "Believes respect must be earned never given", "Thinks age equals wisdom automatically",
    "Believes children should be seen not heard", "Thinks corporal punishment is necessary",
    "Believes tough love is the only real love",
    "Thinks jealousy proves you care", "Believes possessiveness is romantic",
    "Thinks controlling behavior is protective", "Believes your partner should be your everything",
    "Thinks checking your partner's phone is normal",
    "Believes if you loved them enough you'd stay",
    "Thinks abuse victims share blame", "Believes leaving is always cowardly",
    "Believes meat eating is murder", "Thinks veganism is a cult",
    "Believes food allergies are fake", "Thinks eating disorders are vanity",
    "Believes fat people are lazy", "Thinks fat shaming motivates health",
    "Believes conventional beauty is objective", "Thinks cosmetic procedures are always vain",
    "Believes caring about looks is superficial", "Thinks hobbies must be productive",
    "Believes leisure is laziness", "Thinks rest is weakness",
    "Believes working yourself to death is admirable", "Thinks burnout is just weakness",
    "Believes animals have no feelings", "Thinks animal abuse isn't real abuse",
    "Believes hunting is always just sport", "Thinks endangered species don't matter",
    "Believes extinction is natural", "Thinks climate change is a hoax",
    "Believes humans cannot affect the climate", "Thinks environmentalism is a religion",
    "Believes the economy matters more than the environment",
    "Thinks nature exists purely for human use",
    "Believes self-sacrifice is always foolish not noble",
    "Thinks self-care is selfish", "Believes suffering for others is the only real love",
    "Thinks if it doesn't hurt it's not real love"
    ],
    mha: [
    "Thinks quirkless people are lesser", "Believes quirks determine human worth",
    "Thinks mutation quirks are unsettling", "Secretly fears heteromorphs",
    "Believes some quirks should be banned entirely",
    "Thinks dangerous quirks should mean sterilization",
    "Believes quirk marriages for stronger offspring are good",
    "Thinks forced quirk awakening should be researched",
    "Supports human experimentation for quirk advancement",
    "Believes Nomu research could benefit society",
    "Thinks All For One's power concept isn't inherently evil",
    "Believes One For All should go to the strongest not worthiest",
    "Thinks quirk-based caste system is natural",
    "Believes a council of the strongest should govern",
    "Thinks quirk suppressant drugs should be used permanently on criminals",
    "Believes children with dangerous quirks should be institutionalized",
    "Thinks mind-reading quirks should be mandatory in investigations",
    "Believes quirk registration from birth is necessary",
    "Thinks Hero Commission should have more power",
    "Believes lethal force should be allowed for heroes",
    "Thinks weak heroes should be forced to retire",
    "Believes emotions have no place in hero work",
    "Thinks underground heroes are cowards",
    "Believes flashy quirks are inherently better",
    "Thinks popularity rankings are the only real measure",
    "Believes sidekicks deserve no recognition",
    "Thinks support course students are lesser",
    "Believes general education students are wasting their time",
    "Thinks U.A. is elitist and that's good",
    "Believes hero schools should only accept the strongest",
    "Thinks some villains have valid points",
    "Believes hero society creates more villains than it stops",
    "Questions whether All Might was truly good for society",
    "Thinks Stain had the right idea about fake heroes",
    "Agrees with parts of the League of Villains' ideology",
    "Believes society abandoned people like Shigaraki",
    "Thinks the hero system is fundamentally broken",
    "Believes all villains are beyond redemption",
    "Thinks rehabilitation programs are wasted resources",
    "Believes Endeavor should never have been forgiven",
    "Thinks the Todoroki family drama is their own fault",
    "Believes All Might's self-destruction was irresponsible",
    "Thinks arranged partnerships produce better heroes",
    "Believes breeding programs for optimal quirks are necessary",
    "Thinks individual rights matter less than public safety with quirks",
    "Believes preemptive punishment for dangerous quirk holders is justified",
    "Thinks the media should be controlled by Hero Commission",
    "Believes information about quirks should be restricted",
    "Thinks people can't handle the truth about hero society",
    "Believes heteromorph-human relationships are unnatural",
    "Thinks inter-species relationships with mutant quirks are wrong",
    "Believes the world would be better without quirks",
    "Thinks quirks are a curse on humanity",
    "Believes the quirk singularity will end civilization",
    "Thinks humanity peaked before quirks appeared",
    "Believes only the original quirkless humans were truly human",
    "Thinks evolution through quirks is degradation not progress"
    ]
  },
  vices: [
    "Smoking tobacco", "Vaping", "Drinking alcohol excessively", "Recreational drug use",
    "Prescription medication misuse", "Caffeine dependency", "Sugar addiction",
    "Stress eating", "Binge eating", "Gambling", "Compulsive shopping", "Hoarding",
    "Stealing (kleptomania)", "Lying habitually", "Cheating in relationships",
    "Pornography addiction", "Sex addiction", "Masturbation compulsion", "Gossiping",
    "Eavesdropping", "Stalking (online or offline)", "Procrastination",
    "Chronic tardiness", "Sleeping excessively (sloth)", "Staying up all night regularly",
    "Binge-watching television", "Video game addiction", "Social media scrolling addiction",
    "Doomscrolling news", "Phone dependency", "Swearing excessively", "Throwing tantrums",
    "Breaking objects when angry", "Road rage", "Speeding/reckless driving",
    "Thrill-seeking dangerous activities", "Tanning bed addiction", "Steroid use",
    "Cosmetic procedure addiction", "Catfishing people online", "Ghosting romantic interests",
    "Manipulating others emotionally", "Gaslighting", "Plotting revenge",
    "Cruelty to animals", "Bullying others", "Trolling online", "Picking fights deliberately",
    "Overworking compulsively", "Micromanaging everything", "Enabling destructive behavior",
    "Attention-seeking dramatics", "Constant complaining", "Self-pity wallowing",
    "Blaming others for everything", "Making excuses habitually", "Oversharing inappropriately",
    "Interrupting conversations constantly", "Talking over people", "Never listening to others",
    "Criticizing everyone", "One-upping others' stories", "Bragging and showing off",
    "Name-dropping constantly", "Keeping score in relationships", "Holding grudges indefinitely",
    "Passive-aggressive behavior", "Giving the silent treatment", "Guilt-tripping others",
    "Playing the victim", "Feigning helplessness", "Collecting obsessively", "Impulse buying",
    "Shoplifting habitually", "Embezzling funds", "Pathological exaggeration",
    "Serial flirting", "Exhibitionism", "Voyeurism", "Reading others' private messages",
    "Vanity and excessive mirror-checking", "Skipping work/responsibilities frequently",
    "Emotional eating", "Risky sexual behavior", "Schadenfreude indulgence",
    "Prank-pulling cruelly", "Starting arguments for entertainment", "Hazing others",
    "Revenge porn", "Doxing people", "Spreading misinformation knowingly",
    "Procrastinating deliberately", "Gossiping about friends behind their backs",
    "Bragging inappropriately", "One-upping everyone's stories",
    "Oversharing personal information", "Choosing laziness over responsibility"
  ],

  flaws: [
    "Arrogant", "Insecure", "Stubborn", "Jealous", "Envious", "Cowardly", "Reckless",
    "Impulsive", "Indecisive", "Gullible", "Cynical", "Naive", "Paranoid",
    "Trusting to a fault", "Distrustful", "Suspicious", "Pessimistic",
    "Unrealistically optimistic", "Judgmental", "Close-minded", "Narrow-minded",
    "Ignorant", "Willfully ignorant", "Anti-intellectual", "Prideful", "Vain",
    "Self-absorbed", "Selfish", "Self-centered", "Egotistical", "Narcissistic",
    "Lacks self-awareness", "Oblivious to others' feelings", "Emotionally unavailable",
    "Emotionally volatile", "Overly emotional", "Cold and unfeeling", "Apathetic",
    "Lacks empathy", "Heartless", "Cruel", "Sadistic", "Vindictive", "Spiteful",
    "Petty", "Bitter", "Resentful", "Unforgiving", "Holds grudges", "Aggressive",
    "Confrontational", "Hot-tempered", "Short-fused", "Volatile", "Angry", "Wrathful",
    "Irritable", "Impatient", "Restless", "Anxious", "Fearful", "Timid", "Meek",
    "Pushover", "Spineless", "Weak-willed", "Easily influenced", "Follower mentality",
    "Lacks conviction", "Unprincipled", "Morally flexible", "Amoral", "Immoral",
    "Dishonest", "Untrustworthy", "Disloyal", "Unfaithful", "Unreliable",
    "Irresponsible", "Careless", "Negligent", "Sloppy", "Disorganized", "Messy",
    "Chaotic", "Undisciplined", "Lacks focus", "Easily distracted", "Scattered",
    "Forgetful", "Absent-minded", "Spacey", "Oblivious", "Dense", "Slow to understand",
    "Lacks common sense", "Foolish", "Idiotic", "Simple-minded", "Shallow",
    "Superficial", "Materialistic", "Greedy", "Stingy", "Cheap", "Penny-pinching",
    "Wasteful", "Extravagant", "Frivolous", "Lazy", "Unmotivated",
    "Apathetic about goals", "Lacks ambition", "Complacent", "Entitled", "Spoiled",
    "Demanding", "High-maintenance", "Needy", "Clingy", "Dependent", "Smothering",
    "Overbearing", "Controlling", "Domineering", "Bossy", "Tyrannical",
    "Authoritarian", "Rigid", "Inflexible", "Unadaptable", "Resistant to change",
    "Set in their ways", "Traditional to a fault", "Prudish", "Uptight", "Humorless",
    "Serious all the time", "Overly sensitive", "Thin-skinned",
    "Takes everything personally", "Defensive", "Melodramatic", "Histrionic",
    "Theatrical", "Fake", "Phony", "Two-faced", "Hypocritical", "Sanctimonious",
    "Self-righteous", "Holier-than-thou", "Preachy", "Condescending", "Patronizing",
    "Belittling", "Dismissive", "Contemptuous", "Disdainful", "Snobbish", "Elitist",
    "Pretentious", "Pompous", "Haughty", "Aloof", "Distant", "Unapproachable",
    "Antisocial", "Socially awkward", "Lacks social skills", "Tactless",
    "Blunt to a fault", "Insensitive", "Rude", "Crass", "Vulgar", "Crude",
    "Abrasive", "Obnoxious", "Annoying", "Irritating", "Grating", "Whiny",
    "Negative", "Debbie Downer", "Killjoy", "Buzzkill", "Boring",
    "Dull", "Uninteresting", "Bland", "Forgettable", "Pushover with no backbone",
    "Doormat personality", "Conflict-averse to detriment", "People-pleaser excessively",
    "Approval-seeking", "Validation-seeking", "Attention-needy", "Glory-seeking",
    "Competitive to a fault", "Sore loser", "Sore winner", "Ungracious",
    "Lacks humility", "Boastful", "Know-it-all attitude", "Unteachable",
    "Refuses to learn", "Stuck in the past", "Living in the past",
    "Nostalgic to dysfunction", "Futurephobic", "Commitment-phobic", "Avoidant",
    "Escapist", "In denial", "Delusional", "Out of touch with reality",
    "Lives in fantasy", "Immature", "Childish", "Perpetual teenager",
    "Refuses to grow up", "Overly serious", "Joyless", "Can't have fun",
    "Workaholic mentality", "Obsessive", "Compulsive personality", "Perfectionist",
    "Never satisfied", "Impossible standards", "Hypercritical", "Fault-finding",
    "Nit-picky", "Overly analytical", "Overthinks everything",
    "Indecisive from overanalysis", "Analysis paralysis", "Catastrophizes",
    "Always expects worst", "Doomer mentality",
    "Freezes under pressure", "Panics easily", "Runs from danger", "Gives up easily",
    "Hesitant", "Chronically late", "Cannot say no",
    "Gets taken advantage of easily", "Trusts the wrong people",
    "Self-centered in conversation", "Shows off",
    "Cannot maintain friendships", "Burns bridges", "Cannot forgive", "Cannot apologize",
    "Cries easily", "Emotional at wrong times", "Cannot control emotions publicly",
    "Cannot hide feelings", "Blabs secrets", "Ruins surprises", "Overspends",
    "Impulse buyer", "Cannot save money", "Falls for scams",
    "Does everything themselves", "Micromanages poorly", "Wastes time",
    "Clicks on scams", "Too casual professionally",
    "Too stiff professionally", "Clashes with coworkers", "Goes rogue",
    "Doesn't listen to plans", "Second-guesses constantly",
    "Shows mercy inappropriately", "Too brutal", "Escalates unnecessarily", "Rage quits",
    "Sore about losing", "Gloats when winning", "Cannot take compliments",
    "Deflects praise", "Downplays achievements", "Overestimates abilities",
    "Bites off more than can chew", "Cannot ask for help", "Refuses help",
    "Makes same mistakes repeatedly", "Cannot adapt", "Falls apart without routine",
    "Wishy-washy", "Flip-flops", "Never changes mind", "Cannot resist temptation",
    "Cannot stick to plans", "Breaks promises", "Starts projects never finishes",
    "Quits when difficult", "Cannot handle setbacks", "Devastated by failure",
    "Cannot bounce back", "Dwells on mistakes", "Cannot let go", "Cannot move forward",
    "Bottles emotions", "Spills emotions everywhere", "Cannot calm down", "Spirals",
    "Assumes worst", "Cannot relax", "Cannot enjoy the moment", "Always worried",
    "Cannot be present", "Daydreams inappropriately", "Zones out",
    "Repeats themselves", "No volume control", "Laughs inappropriately",
    "Cannot control laughter", "Never laughs", "Takes jokes too seriously",
    "Offended easily", "Tries too hard to be funny", "No filter",
    "Cannot keep thoughts private", "Talks to self", "Oblivious to social norms",
    "Drains others", "Cannot be independent", "Cannot be alone",
    "Gets attached too quickly", "Falls in love too easily", "Trusts too fast",
    "Opens up too soon", "No boundaries", "Invades personal space",
    "Doesn't respect boundaries", "Overstays welcome", "Doesn't know when to leave",
    "Talks too long", "Cancels last minute", "No-shows", "Forgets commitments",
    "Overcommits", "Stretches too thin", "Sets unrealistic goals",
    "Makes big promises doesn't deliver", "Lets people down",
    "Works on wrong priorities", "Focuses on trivial things",
    "Ignores important details", "Waits passively", "Uncomfortable with attention",
    "Hides from recognition", "Self-sabotages", "Afraid of standing out",
    "Crumbles under scrutiny", "Chokes under pressure", "Panics in emergencies",
    "Makes crises worse", "Dependent on others", "Cannot survive independently",
    "Shirks responsibility", "Avoids obligations", "Runs from commitment",
    "Takes easy way out", "Avoids confrontation", "Lets self be walked over"
  ],

  kinks: [
    "Dominance", "Submission", "Switch", "Power exchange", "Total power exchange",
    "Master/slave dynamic", "Owner/pet dynamic", "Primal dom", "Primal prey",
    "Brat taming", "Service submission", "Service dominance",
    "Consensual non-consent", "Free use", "Authority figures", "Being in charge",
    "Following orders", "Giving orders", "Taking control", "Surrendering control",
    "Topping", "Bottoming", "Versatile", "Power play", "Discipline", "Obedience",
    "Disobedience (playful)", "Defiance kink", "Corruption",
    "Innocence corruption", "Experience gap", "Teacher/student dynamic",
    "Senpai/kouhai dynamic", "Age gap (adults only)", "Protectiveness",
    "Possessiveness", "Jealousy play", "Ownership", "Claiming",
    "Marking territory", "Being claimed", "Being owned",
    "Guardianship dynamic", "Caretaker dynamic",
    "Praise kink", "Verbal affirmation", "Compliments", "Encouragement",
    "Good boy/good girl", "Appreciation", "Worship", "Adoration", "Degradation",
    "Humiliation", "Name calling", "Insults (playful)", "Verbal abuse (consensual)",
    "Embarrassment", "Public humiliation", "Private humiliation", "Objectification",
    "Dehumanization", "Pet play", "Puppy play", "Kitten play", "Pony play",
    "Bunny play", "Cow play", "Being treated as furniture", "Being ignored",
    "Free use objectification",
    "Spanking", "Paddling", "Flogging", "Whipping", "Caning", "Slapping",
    "Face slapping", "Ass slapping", "Thigh slapping", "Tit slapping",
    "Ball slapping", "Punching (consensual)", "Kicking (consensual)",
    "Rough handling", "Manhandling", "Being thrown around", "Pinning down",
    "Wrestling", "Fighting for dominance", "Impact marks", "Bruising", "Welts",
    "Pain play", "Masochism", "Sadism", "Biting", "Scratching", "Clawing",
    "Marking", "Hickeys", "Love bites", "Bruising kink", "Marks and bruises",
    "Cutting (edge play)", "Knife play", "Blood play", "Wax play",
    "Temperature play", "Ice play", "Heat play", "Fire play", "Sensation play",
    "Feather play", "Silk scarves", "Rough textures", "Smooth textures",
    "Sensory overload", "Sensory deprivation", "Nipple play", "Nipple clamps",
    "Nipple torture", "Cock and ball torture (CBT)", "Genital torture",
    "Electrostimulation", "Violet wand", "TENS unit",
    "Restraints", "Rope bondage", "Shibari", "Kinbaku", "Handcuffs", "Chains",
    "Leather cuffs", "Spreader bars", "Bondage furniture", "St. Andrew's Cross",
    "Bondage bench", "Stocks", "Mummification", "Suspension",
    "Partial suspension", "Full suspension", "Predicament bondage", "Self-bondage",
    "Being tied up", "Tying others up", "Escape attempts", "Struggling",
    "Helplessness", "Immobilization", "Movement restriction", "Position training",
    "Forced positions",
    "Blindfolds", "Sight deprivation", "Hoods", "Masks", "Gags", "Ball gags",
    "Ring gags", "Bit gags", "Tape gags", "Cloth gags", "Muffled sounds",
    "Silence enforcement", "Earplugs", "Sensory deprivation tanks", "Isolation",
    "Confinement", "Cages", "Kennels", "Closets", "Small spaces", "Claustrophilia",
    "Oral sex", "Blowjobs", "Cunnilingus", "Anilingus", "Rimming",
    "Deep throating", "Gagging", "Choking on cock", "Face fucking",
    "Throat training", "Cum play", "Cum swallowing", "Cum on face",
    "Cum on body", "Bukkake", "Creampie", "Breeding kink",
    "Impregnation kink", "Pregnancy kink", "Lactation", "Breastfeeding",
    "Nursing", "Spit play", "Spitting", "Drool", "Saliva", "Kissing",
    "Deep kissing", "Neck kissing", "Body kissing", "Worship kissing",
    "Foot worship", "Ass worship", "Cock worship", "Pussy worship",
    "Body worship", "Muscle worship",
    "Vaginal sex", "Anal sex", "Double penetration", "Triple penetration",
    "Airtight", "Gangbang", "Reverse gangbang", "Orgy", "Group sex",
    "Threesome", "Moresome", "Fisting", "Vaginal fisting", "Anal fisting",
    "Stretching", "Gaping", "Size kink", "Size difference", "Size queen/king",
    "Big cock", "Huge cock", "Small cock", "Cock size humiliation", "Tight fit",
    "Loose fit", "Cervix penetration", "Deep penetration", "Shallow penetration",
    "Missionary", "Doggy style", "Cowgirl", "Reverse cowgirl", "Mating press",
    "Full nelson", "Prone bone", "Spooning", "Standing sex", "Against wall",
    "Bent over", "On knees", "Riding", "Being ridden",
    "Macro", "Giant/tiny", "Giantess", "Size growth", "Size shrinkage",
    "Microphilia", "Macrophilia", "Hyper", "Hyper cock", "Hyper breasts",
    "Hyper ass", "Hyper balls", "Hyper muscles", "Hyper proportions",
    "Extreme insertions", "Extreme stretching", "Inflation", "Belly bulge",
    "Stomach bulge", "Cum inflation", "Air inflation", "Impossibly large",
    "Unrealistic proportions", "Futanari", "Hermaphrodite",
    "Dual genitalia", "Multiple breasts", "Multiple cocks", "Multiple holes",
    "Extra body parts", "Tentacles", "Oviposition", "Egg laying",
    "Alien anatomy", "Monster anatomy", "Non-human genitalia", "Knots",
    "Barbs", "Ridges", "Unusual shapes",
    "Lingerie", "Stockings", "Thigh highs", "Garter belts", "Corsets", "Latex",
    "Rubber", "Leather", "PVC", "Spandex", "Lycra", "Satin", "Silk", "Lace",
    "Fishnets", "Body suits", "Catsuits", "Zentai", "Encasement",
    "Uniform fetish", "School uniforms", "Military uniforms", "Police uniforms",
    "Nurse uniforms", "Maid outfits", "Butler outfits", "Hero costumes",
    "Villain costumes", "Cosplay", "Crossdressing", "Feminization",
    "Sissification", "Forced feminization", "Masculinization", "Gender play",
    "Clothing appreciation", "Partial undressing", "Staying clothed",
    "Clothed sex", "Ripping clothes off", "Slow undressing", "Striptease",
    "Nudity", "Public nudity", "Casual nudity", "Exhibitionism", "Voyeurism",
    "Being watched", "Watching others", "Mirrors", "Recording", "Sex tapes",
    "Photos", "Erotic photography",
    "Foot fetish", "Toe sucking", "Footjobs", "High heels", "Bare feet",
    "Stockinged feet", "Trampling", "Crushing", "Hand fetish", "Finger sucking",
    "Handjobs", "Fingering", "Breast fetish", "Tit fucking", "Boob play",
    "Lactation play", "Ass fetish", "Ass eating", "Anal play", "Butt plugs",
    "Anal beads", "Anal hooks", "Thigh fetish", "Thigh fucking",
    "Armpit fetish", "Belly button fetish", "Navel play", "Neck fetish",
    "Choking", "Breath play", "Asphyxiation", "Erotic asphyxiation",
    "Hair fetish", "Hair pulling", "Scalp massage", "Long hair", "Short hair",
    "Specific hair colors", "Muscle fetish", "Abs", "Biceps", "Pecs",
    "Thighs", "Calves", "Flexibility", "Contortionism", "Body modification",
    "Tattoos", "Piercings", "Genital piercings", "Nipple piercings",
    "Body jewelry", "Scarification", "Branding",
    "Quirk use during sex", "Quirk play", "Power-enhanced sex",
    "Emitter quirks in bed", "Transformation during sex",
    "Mutation quirk appreciation", "Heteromorph attraction", "Tentacle quirks",
    "Size-changing quirks", "Duplication quirks", "Multiple partners (clones)",
    "Elemental quirks", "Temperature quirks", "Fire play (quirk)",
    "Ice play (quirk)", "Electricity quirks", "Shocking play",
    "Hardening quirks", "Texture play (quirk)", "Invisibility quirk",
    "Stealth sex", "Permeation quirk", "Intangibility play",
    "Mind control quirks", "Telepathy quirks", "Erasure quirk play",
    "Quirkless preference", "Power difference", "Quirk compatibility",
    "Quirk combos", "Support item integration", "Hero/villain dynamic",
    "Rescue fantasy", "Damsel in distress", "Knight in shining armor",
    "Captured hero", "Villain corruption", "Hero corruption",
    "Vigilante appeal", "Underground attraction",
    "Teacher/student", "Boss/employee", "Doctor/patient", "Nurse/patient",
    "Therapist/patient", "Cop/criminal", "Guard/prisoner", "Captor/captive",
    "Kidnapper/victim", "Hunter/prey", "Predator/prey", "Trainer/trainee",
    "Coach/athlete", "Photographer/model", "Artist/muse", "Celebrity/fan",
    "Idol/groupie", "Royalty/servant", "Noble/peasant", "Deity/worshipper",
    "Demon/angel", "Monster/human", "Alien/human", "Robot/human",
    "Scientist/experiment", "Creator/creation", "Summoner/summon", "Strangers",
    "Anonymous sex", "Gloryhole", "One night stand", "Pickup scenarios", "Exes",
    "Rivals", "Enemies to lovers", "Hate sex", "Revenge sex", "Makeup sex",
    "Forbidden love", "Cheating fantasy", "Affair", "Netorare (NTR)",
    "Cuckolding", "Hotwife", "Sharing", "Swinging", "Partner swapping",
    "First time", "Virginity", "Taking virginity", "Losing virginity",
    "Experience teaching", "Corruption of innocence", "Gentle first time",
    "Rough first time", "Slow sex", "Slow burn tension", "Anticipation",
    "Edging", "Teasing and denial", "Orgasm control", "Orgasm denial",
    "Forced orgasm", "Multiple orgasms", "Overstimulation", "Ruined orgasm",
    "Cock warming", "Lazy sex", "Morning sex", "Sleepy sex", "Wake up sex",
    "Somnophilia (consensual)", "Sleep sex", "Drunk sex", "High sex",
    "Adrenaline sex", "Post-fight sex", "Angry sex", "Competition sex",
    "Competition and challenge", "Sexual competition", "Endurance challenge",
    "Marathon sex", "All night sessions", "Quickie", "Secret sex", "Hidden sex",
    "Public sex", "Semi-public sex", "Risk of getting caught", "Bathroom sex",
    "Closet sex", "Car sex", "Outdoor sex", "Beach sex", "Pool sex",
    "Shower sex", "Bath sex", "Hot tub sex", "Sauna sex", "Gym sex",
    "Office sex", "Classroom sex", "Library sex", "Dressing room sex",
    "Elevator sex", "Alley sex",
    "After-care focused", "Gentle after-care", "Cuddles", "Praise after",
    "Reassurance", "Physical comfort", "Emotional comfort", "Bathing together",
    "Cleaning partner", "Tending wounds", "Massages", "Soft touches",
    "Gentle and intimate", "Trust-based vulnerability", "Emotional intimacy",
    "Deep connection", "Eye contact", "Missionary intimacy", "Face to face",
    "Holding hands", "Interlocked fingers", "Forehead touches", "Nose rubs",
    "Gentle kisses", "Soft kisses", "Romantic", "Passionate", "Love making",
    "Sensual", "Tantric sex", "Extended sessions", "Connection focus",
    "Spiritual sex", "Energy exchange", "Soul bonding",
    "Voice kink", "Dirty talk", "Filthy talk", "Sweet talk", "Commands",
    "Begging", "Moaning", "Loud moaning", "Quiet moaning", "Screaming",
    "Crying (pleasure)", "Whimpering", "Gasping", "Panting", "Heavy breathing",
    "Pet names", "Daddy/mommy kink", "Sir/ma'am", "Master/mistress",
    "Honorifics", "Title use", "Sexting", "Phone sex", "Audio recordings",
    "ASMR", "Whispers", "Breathing sounds", "Wet sounds", "Slapping sounds",
    "Body sounds",
    "Scent fixation", "Natural scent", "Musk", "Sweat", "Pheromones",
    "Perfume/cologne", "Body odor (light)", "Smell fetish", "Taste fetish",
    "Oral fixation", "Flavor play", "Food play", "Messy eating", "Sploshing",
    "Wet and messy (WAM)", "Sticky", "Cum taste", "Pussy taste",
    "Sweat licking", "Armpit licking",
    "Cum eating", "Cum feeding", "Cum facial", "Cum on breasts", "Cum inside",
    "Creampie eating", "Snowballing", "Squirting", "Female ejaculation",
    "Watersports", "Golden showers", "Piss play", "Wetting", "Omorashi",
    "Desperation", "Holding it", "Accidents", "Scat play (extreme)",
    "Messiness", "Getting dirty", "Staying clean", "Shower after",
    "No shower after",
    "Medical play", "Medical examination", "Gynecological exam", "Prostate exam",
    "Speculums", "Medical restraints", "Hospital setting", "Enemas",
    "Anal douching", "Catheterization", "Sounding", "Urethral play", "Needles",
    "Injections", "Piercing play", "Clinical atmosphere", "Sterile environment",
    "Medical instruments", "Stethoscope", "Gloves", "Latex gloves",
    "Impregnation fantasy", "Pregnancy", "Pregnant sex", "Breeding dirty talk",
    "Fertility worship", "Virility worship", "Potent seed", "Seed planting",
    "Womb filling", "Cervix kissing", "Claiming womb", "Baby making",
    "Risk play", "Contraceptive sabotage fantasy", "Pregnancy risk",
    "Fertile period", "Ovulation", "Heat cycles", "Rut cycles", "Omegaverse",
    "Alpha/omega", "Knotting", "Bonding bites", "Scenting", "Nesting",
    "Age play (adult only)", "Little/caregiver", "DDLG", "MDLB",
    "Age regression", "Infantilism", "Diaper play",
    "Incest fantasy (not real)", "Pseudo-incest", "Step-family",
    "Forbidden family dynamics", "Race play", "Raceplay scenarios",
    "Interracial", "Exotic attraction", "Religious play", "Nun/priest",
    "Blasphemy", "Sacrilege", "Desecration", "Satanic imagery", "Occult",
    "Ritual sex", "Blood magic sex", "Sacrificial play",
    "Beast play (fantasy only)", "Furry", "Anthro", "Monster fucking",
    "Xenophilia", "Alien sex", "Supernatural beings", "Vampires", "Werewolves",
    "Demons", "Angels", "Ghosts", "Zombies (fantasy)",
    "Necrophilia fantasy (not real)", "Death fetish", "Snuff fantasy (not real)",
    "Gore (fantasy)", "Vore", "Soft vore", "Hard vore",
    "Cannibalism fantasy", "Cooking play", "Preparation fantasy",
    "Dildos", "Vibrators", "Butt plugs", "Anal beads", "Strap-ons", "Pegging",
    "Prostate toys", "Double-ended dildos", "Fucking machines", "Sex machines",
    "Sybian", "Fuck bench", "Sex furniture", "Sex swings", "Nipple clamps",
    "Cock rings", "Chastity devices", "Chastity belts", "Chastity cages",
    "Orgasm belts", "Denial devices", "Penis pumps", "Pussy pumps",
    "Vacuum play", "Suction", "Ben wa balls", "Kegel balls", "Vaginal weights",
    "Vaginal training", "Anal training", "Plugs worn all day",
    "Remote control toys", "App-controlled toys", "Public play with toys",
    "Hidden vibrators", "Bullet vibes",
    "Monogamy", "Polyamory", "Open relationships", "Group dynamics", "Harem",
    "Reverse harem", "Multiple partners", "Serial monogamy",
    "Friends with benefits", "Casual sex", "No strings attached",
    "Relationship sex only", "Married sex", "Long-term intimacy",
    "New relationship energy", "Established relationship", "Comfort sex",
    "Scheduled sex", "Spontaneous sex", "Same partner", "Different partners",
    "Heterosexual", "Homosexual", "Bisexual", "Pansexual", "Demisexual",
    "Sapiosexual",
    "Thin", "Slender", "Petite", "Short", "Tall", "Curvy", "Thick", "Chubby",
    "Fat", "BBW/BHM", "Plus-size", "Athletic", "Muscular", "Ripped",
    "Bodybuilder", "Toned", "Soft", "Squishy", "Dad bod", "Mom bod",
    "Pear shaped", "Apple shaped", "Hourglass", "Rectangle",
    "Inverted triangle", "Small breasts", "Medium breasts", "Large breasts",
    "Huge breasts", "Flat chest", "Small ass", "Bubble butt", "Big ass",
    "Huge ass", "Slim waist", "Wide hips", "Thick thighs", "Thin legs",
    "Muscular legs", "Hairy", "Smooth", "Trimmed", "Natural", "Shaved",
    "Waxed", "Bush", "Treasure trail", "Body hair appreciation",
    "Lack of body hair",
    "Lipstick marks", "Makeup", "Makeup smearing", "Mascara running",
    "Ruined makeup", "Working out", "Gym bodies", "Athletic wear",
    "Yoga pants", "Compression shorts", "Jockstraps", "Underwear", "Boxers",
    "Briefs", "Panties", "Thongs", "Commando", "No underwear",
    "Going commando", "Glasses", "Nerdy aesthetic"
  ],

  pets: [
    "Dog", "Cat", "Goldfish", "Betta fish", "Hamster", "Guinea pig", "Rabbit",
    "Gerbil", "Mouse", "Rat", "Ferret", "Chinchilla", "Hedgehog",
    "Parakeet (budgie)", "Cockatiel", "Canary", "Finch", "Lovebird",
    "Golden Retriever Dog", "Labrador Retriever Dog", "German Shepherd Dog",
    "Bulldog Dog", "Poodle Dog", "Beagle Dog", "Chihuahua Dog", "Husky Dog",
    "Corgi Dog", "Shiba Inu Dog", "Akita Dog", "Dachshund Dog", "Pomeranian Dog",
    "Great Dane Dog", "Doberman Dog", "Rottweiler Dog", "Border Collie Dog",
    "Australian Shepherd Dog", "Pit Bull Dog", "Boxer Dog", "Pug Dog", "Maltese Dog",
    "Yorkshire Terrier Dog", "Schnauzer Dog", "Saint Bernard Dog",
    "Domestic shorthair Cat", "Domestic longhair Cat", "Persian Cat", "Maine Coon Cat",
    "Siamese Cat", "Ragdoll Cat", "Bengal Cat", "Sphynx (hairless) Cat",
    "British Shorthair Cat", "Russian Blue Cat", "Scottish Fold Cat", "Abyssinian Cat",
    "Birman Cat", "Himalayan Cat", "Norwegian Forest Cat", "Turkish Angora Cat",
    "Penguin", "Parrot", "Dove", "Pigeon", "Duck", "Crow", "Raven",
    "Owl (illegal in many places but possible)",
    "Bearded dragon", "Leopard gecko", "Crested gecko", "Ball python", "Corn snake",
    "King snake", "Milk snake", "Boa constrictor", "Green tree python", "Garter snake",
    "Hognose snake", "Red-eared slider turtle", "Box turtle", "Tortoise",
    "Russian tortoise", "Sulcata tortoise", "Iguana", "Blue-tongued skink", "Tegu",
    "Chameleon", "Veiled chameleon", "Panther chameleon", "Anole", "Monitor lizard",
    "Savannah monitor", "Nile monitor", "Komodo dragon (extremely dangerous/illegal)",
    "Alligator (illegal in most places)", "Crocodile (illegal in most places)", "Caiman",
    "Frog", "Tree frog", "Poison dart frog", "Pacman frog", "African clawed frog",
    "Bullfrog", "Toad", "Fire-bellied toad", "Axolotl", "Salamander",
    "Fire salamander", "Newt",
    "Koi", "Guppy", "Molly", "Platy", "Swordtail", "Tetra", "Neon tetra",
    "Angelfish", "Discus", "Gourami", "Rainbowfish", "Barb", "Danio", "Zebrafish",
    "Loach", "Clown loach", "Catfish", "Plecostomus (pleco)", "Cory catfish",
    "Cichlid", "Oscar", "Arowana", "Pufferfish", "Clownfish", "Tang", "Damselfish",
    "Wrasse", "Dottyback", "Triggerfish", "Lionfish", "Moray eel", "Seahorse",
    "Jellyfish", "Octopus", "Cuttlefish", "Shrimp", "Cherry shrimp", "Amano shrimp",
    "Ghost shrimp", "Crayfish", "Lobster", "Crab", "Hermit crab", "Fiddler crab",
    "Snail", "Mystery snail", "Nerite snail", "Sea urchin", "Starfish",
    "Sea anemone", "Coral",
    "Syrian hamster", "Dwarf hamster", "Lop rabbit", "Angora rabbit", "Dutch rabbit",
    "Rex rabbit", "Fancy mouse", "Fancy rat", "African pygmy hedgehog", "Sugar glider",
    "Flying squirrel", "Chipmunk", "Squirrel", "Degu", "Prairie dog", "Meerkat",
    "Mongoose",
    "Chicken", "Rooster", "Goose", "Turkey", "Pig", "Potbelly pig", "Micro pig",
    "Goat", "Pygmy goat", "Nigerian Dwarf goat", "Sheep", "Miniature sheep", "Cow",
    "Miniature cow", "Horse", "Pony", "Miniature horse", "Donkey", "Miniature donkey",
    "Mule", "Llama", "Alpaca", "Peacock", "Peafowl",
    "Wallaby", "Kangaroo", "Capybara", "Coati", "Kinkajou", "Raccoon", "Skunk",
    "Fox", "Fennec fox", "Red fox", "Arctic fox", "Bat", "Fruit bat", "Opossum",
    "Sloth", "Two-toed sloth", "Three-toed sloth", "Armadillo", "Anteater", "Otter",
    "River otter", "Sea otter", "Beaver", "Porcupine", "Flying fox (large bat)",
    "Monkey", "Capuchin monkey", "Squirrel monkey", "Marmoset", "Tamarin",
    "Spider monkey", "Howler monkey", "Macaque", "Baboon", "Lemur",
    "Ring-tailed lemur", "Bush baby (galago)", "Slow loris", "Gibbon", "Orangutan",
    "Chimpanzee", "Gorilla",
    "Wolf", "Coyote", "Jackal", "Hyena", "Lion", "Tiger", "Leopard", "Cheetah",
    "Jaguar", "Cougar (puma/mountain lion)", "Lynx", "Bobcat", "Serval", "Caracal",
    "Ocelot", "Bear", "Black bear", "Grizzly bear", "Polar bear", "Panda",
    "Elephant", "Asian elephant", "African elephant", "Rhinoceros", "Hippopotamus",
    "Giraffe", "Zebra", "Bison", "Buffalo", "Moose", "Elk", "Deer", "Reindeer",
    "Tarantula", "Scorpion", "Praying mantis", "Stick insect", "Walking stick",
    "Leaf insect", "Beetle", "Stag beetle", "Rhinoceros beetle", "Ant farm (ants)",
    "Butterfly", "Moth", "Madagascar hissing cockroach", "Millipede",
    "Giant millipede", "Centipede",
    "Land snail", "Giant African land snail", "Slug", "Worm farm", "Vinegaroon (whip scorpion)",
    "Emperor scorpion", "Land hermit crab", "Isopods (pill bugs/roly polies)"
  ],

  hobbies: {
    general: [
    "Painting", "Drawing", "Sketching", "Sketching strangers", "Digital art", "Illustration",
    "Cartooning", "Comics creation", "Manga drawing", "Calligraphy", "Graffiti art", "Street art",
    "Spray painting", "Mural painting", "Portrait painting", "Landscape painting",
    "Abstract painting", "Watercolor painting", "Oil painting", "Acrylic painting", "Sculpture",
    "Clay modeling", "Pottery", "Ceramics", "Origami", "Paper crafts", "Scrapbooking",
    "Keeping a scrapbook", "Collage making", "Mixed media art", "Printmaking", "Screen printing",
    "Block printing", "Photography", "Film photography", "Digital photography",
    "Portrait photography", "Nature photography", "Street photography", "Macro photography",
    "Astrophotography", "Photo editing", "Videography", "Video editing", "Filmmaking", "Animation",
    "Stop-motion animation", "3D modeling", "Knitting", "Crocheting", "Sewing", "Embroidery",
    "Cross-stitch", "Quilting", "Weaving", "Macramé", "Leatherworking", "Leather crafting",
    "Bookbinding", "Candle making", "Soap making", "Jewelry making", "Beadwork", "Metalworking",
    "Blacksmithing", "Welding", "Woodworking", "Whittling", "Wood carving", "Woodturning",
    "Furniture making", "Model building", "Model trains", "Model airplanes", "Model ships",
    "Miniature building", "Diorama creation", "Terrarium making", "Glassblowing", "Stained glass",
    "Mosaic making", "Tie-dye", "Batik", "Screen printing clothes", "Upcycling", "DIY projects",
    "Home improvement", "Restoration", "Antique restoration", "Singing", "Singing alone",
    "Playing an instrument", "Playing guitar", "Playing piano", "Playing drums", "Playing violin",
    "Playing bass", "Playing saxophone", "Playing trumpet", "Playing flute", "DJing",
    "Music production", "Beat making", "Songwriting", "Composing music", "Sound engineering",
    "Choir singing", "A cappella", "Beatboxing", "Karaoke", "Music collecting", "Vinyl collecting",
    "Instrument collecting", "Writing", "Journaling", "Writing poetry", "Creative writing",
    "Fiction writing", "Novel writing", "Short story writing", "Screenwriting", "Playwriting",
    "Fanfiction writing", "Blogging", "Vlogging", "Podcasting", "Reviewing (books, movies, etc.)",
    "Letter writing", "Pen pals", "Worldbuilding", "Character creation", "Tabletop RPG creation",
    "Acting", "Theater", "Community theater", "Improv comedy", "Stand-up comedy", "Magic tricks",
    "Card tricks", "Illusions", "Juggling", "Circus arts", "Acrobatics", "Trapeze", "Dancing",
    "Ballet", "Jazz dance", "Hip-hop dance", "Ballroom dancing", "Salsa dancing", "Tango",
    "Swing dancing", "Breakdancing", "Belly dancing", "Pole dancing", "Cosplay", "Makeup artistry",
    "Special effects makeup", "Face painting", "Puppetry", "Ventriloquism", "Storytelling",
    "Public speaking", "Running", "Jogging", "Sprinting", "Marathon running", "Track and field",
    "Swimming", "Diving", "Synchronized swimming", "Water polo", "Cycling", "Mountain biking",
    "BMX", "Road cycling", "Skateboarding", "Rollerblading", "Ice skating", "Figure skating",
    "Hockey", "Field hockey", "Skiing", "Snowboarding", "Surfing", "Wakeboarding",
    "Paddleboarding", "Kayaking", "Canoeing", "Rowing", "Rock climbing", "Bouldering",
    "Mountaineering", "Hiking", "Trail running", "Parkour", "Freerunning", "Gymnastics",
    "Cheerleading", "Wrestling", "Boxing or sparring", "Boxing", "Kickboxing", "Martial arts",
    "Karate", "Taekwondo", "Judo", "Jiu-jitsu", "Muay Thai", "Kendo", "Fencing",
    "Fencing practice", "Archery", "Target practice", "Shooting", "Sport shooting", "Hunting",
    "Fishing", "Fly fishing", "Deep sea fishing", "Horseback riding", "Equestrian sports", "Polo",
    "Golf", "Tennis", "Badminton", "Table tennis", "Squash", "Racquetball", "Basketball",
    "Football", "Soccer", "Baseball", "Softball", "Volleyball", "Beach volleyball", "Cricket",
    "Rugby", "Ultimate frisbee", "Disc golf", "Bowling", "Billiards", "Pool", "Darts", "Crossfit",
    "Weightlifting", "Powerlifting", "Bodybuilding", "Calisthenics", "Yoga or meditation", "Yoga",
    "Pilates", "Tai chi", "Qigong", "Meditation", "Camping", "Backpacking", "Bushcraft",
    "Survival skills", "Foraging", "Mushroom hunting", "Birdwatching", "Wildlife watching",
    "Stargazing", "Amateur astronomy", "Geocaching", "Metal detecting", "Fossil hunting",
    "Rock collecting", "Mineral collecting", "Beachcombing", "Gardening", "Vegetable gardening",
    "Flower gardening", "Bonsai", "Topiary", "Landscaping", "Tending bees", "Beekeeping",
    "Chicken keeping", "Farming", "Homesteading", "Sailing", "Boating", "Yachting", "Jetskiing",
    "Scuba diving", "Snorkeling", "Freediving", "Spearfishing", "Night walks", "Urban exploration",
    "Exploring ruins", "Visiting abandoned places", "Ghost hunting", "Paranormal investigation",
    "Collecting coins", "Coin collecting", "Stamp collecting", "Trading card collecting",
    "Sports card collecting", "Pokemon card collecting", "Comic book collecting",
    "Action figure collecting", "Toy collecting", "Doll collecting", "Funko Pop collecting",
    "LEGO collecting", "Model car collecting", "Die-cast collecting", "Vinyl record collecting",
    "CD collecting", "Book collecting", "First edition collecting", "Antique collecting",
    "Vintage collecting", "Memorabilia collecting", "Movie prop collecting",
    "Autograph collecting", "Crystal collecting", "Gemstone collecting", "Fossil collecting",
    "Shell collecting", "Insect collecting", "Collecting insects", "Butterfly collecting",
    "Specimen collecting", "Pressed flower collecting", "Collecting pressed flowers",
    "Art collecting", "Painting collecting", "Weapon collecting", "Collecting weapons",
    "Knife collecting", "Sword collecting", "Antiquities collecting", "Numismatics", "Philately",
    "Reading", "Reading fiction", "Reading non-fiction", "Book clubs", "Chess", "Checkers", "Go",
    "Shogi", "Backgammon", "Bridge", "Poker", "Card games", "Board games", "Strategy games",
    "War gaming", "Miniature war gaming", "Tabletop RPGs", "Dungeons & Dragons",
    "Roleplaying games", "Video gaming", "PC gaming", "Console gaming", "Retro gaming",
    "Speedrunning", "Game collecting", "Puzzle solving", "Jigsaw puzzles", "Crossword puzzles",
    "Sudoku", "Rubik's cube", "Brain teasers", "Escape rooms", "Logic puzzles", "Riddles",
    "Trivia", "Quiz games", "Pub trivia", "Debate", "Philosophy", "Learning languages",
    "Language learning", "Linguistics study", "Code breaking", "Cryptography", "Programming",
    "Coding", "Web development", "App development", "Game development", "Hacking (ethical)",
    "Mathematics", "Physics", "Chemistry", "Biology study", "Astronomy", "History study",
    "Genealogy", "Family tree research", "Archaeology interest", "Paleontology", "Geology",
    "Meteorology", "Amateur radio", "Ham radio", "Electronics", "Robotics", "3D printing",
    "Tinkering", "Inventing", "Cooking", "Cooking experiments", "Baking", "Pastry making",
    "Bread making", "Sourdough", "Cake decorating", "Candy making", "Chocolate making", "Brewing",
    "Home brewing", "Beer brewing", "Wine making", "Mead making", "Brewing potions or teas",
    "Tea brewing", "Coffee roasting", "Mixology", "Cocktail making", "Grilling", "BBQ",
    "Smoking meats", "Fermenting", "Pickling", "Preserving", "Canning", "Cheese making",
    "Sausage making", "Foraging for food", "Mushroom foraging", "People-watching", "Socializing",
    "Party hosting", "Event planning", "Volunteering", "Community service", "Activism",
    "Protesting", "Campaigning", "Mentoring", "Teaching", "Tutoring", "Coaching", "Youth programs",
    "Networking", "Toastmasters", "Club membership", "Lodge membership", "Fraternal organizations",
    "Meetup groups", "Fan clubs", "Convention attending", "Renaissance fairs", "LARPing",
    "Historical reenactment", "Civil War reenactment", "Playing tavern games", "Dice games",
    "Gambling", "Casino games", "Blackjack", "Roulette", "Slot machines", "Sports betting",
    "Horse racing", "Fantasy sports", "Magic: The Gathering", "Yu-Gi-Oh", "Trading card games",
    "Mahjong", "Dominoes", "Mindfulness", "Stretching", "Massage", "Spa visits", "Hot tub soaking",
    "Sauna", "Bath taking", "Aromatherapy", "Candle lighting", "Incense burning", "Tea drinking",
    "Wine tasting", "Whiskey tasting", "Beer tasting", "Napping", "Daydreaming", "Cloud watching",
    "People watching", "Window shopping", "Thrift shopping", "Antiquing", "Flea market browsing",
    "Visiting museums", "Gallery hopping", "Visiting graveyards", "Cemetery walks",
    "Church visiting", "Temple visiting", "Mapmaking", "Cartography", "Urban sketching",
    "Architectural drawing", "Technical drawing", "Blueprint reading", "Graph making",
    "Data visualization", "Statistics", "Market watching", "Stock trading", "Day trading",
    "Investing", "Cryptocurrency", "Economics study", "Political analysis", "News junkie",
    "Documentaries", "True crime", "Mystery solving", "Cold case analysis", "Conspiracy theories",
    "UFO watching", "Cryptozoology", "Treasure hunting", "Artifact hunting", "Car restoration",
    "Classic cars", "Hot rods", "Motorcycles", "Motorcycle restoration", "Bicycle repair",
    "Bicycle building", "Aviation", "Flying planes", "Drone flying", "RC cars", "RC planes",
    "RC helicopters", "Slot car racing", "Go-karting", "Racing", "Drag racing", "Rally racing",
    "Drifting", "Car shows", "Bike shows", "Train spotting", "Plane spotting", "Ship spotting",
    "Business course networking", "General education activities", "Symbol of Peace history",
    "High-security containment interest", "Dragon Ball hunting", "Isu artifact research",
    "Isu site exploration", "Animus simulation running", "Genetic memory exploration",
    "Ancient civilization study (Isu)", "Parkour (Mirror's Edge style)", "Freerunning urban",
    "Faith's running techniques", "Runner culture", "Anti-surveillance techniques",
    "Totalitarian regime resistance", "Dishonored simulation gaming",
    "Chaos vs Clean Hands debates", "Outsider mark theories", "Void magic study (simulated)",
    "Corvo tactics analysis", "Emily's powers discussion", "Dunwall history",
    "Karnaca appreciation", "Mushroom Kingdom tourism", "Pipe traveling",
    "Coin collecting (from kingdoms)", "Power-up research", "Koopa biology study",
    "Princess Peach following", "Bowser incident tracking", "Kingdom politics", "Star collection",
    "1-Up hunting", "Warp pipe mapping", "Kryptonian history", "Kryptonian language study",
    "House of El research", "Phantom Zone study", "Kryptonian technology interest",
    "Fortress of Solitude lore", "Rao worship study", "Kryptonian culture preservation",
    "Atomic Betty episode watching", "Galactic Guardian fandom", "Space fashion from the show",
    "Alien species cataloging (from show)", "Maximus I.Q. theories", "Space travel interest",
    "Intergalactic politics", "Sonic the Hedgehog racing", "Chaos Emerald hunting",
    "Ring collecting", "Speed training (Sonic-inspired)", "Chao raising", "Chao garden tending",
    "Eggman tech analysis", "Badnik studying", "Green Hill Zone tourism", "Special Stage attempts",
    "Sonic comic reading", "Powerpuff Girls Z watching", "PPGZ merchandise collecting",
    "Chemical Z theories", "Tokyo City following", "Magical girl genre study",
    "Peach-Pit character analysis", "Him conspiracy theories", "Mayor's incompetence debates",
    "Monster-of-the-week discussions", "Assassin history study", "Creed vs Templar debates",
    "Hidden blade mechanics", "Eagle vision research", "Leap of faith practice",
    "Assassination techniques (historical)", "Bureau exploration", "Apple of Eden hunting",
    "Pieces of Eden research", "Templar conspiracy tracking", "Assassin Brotherhood history",
    "Mentor lineage study", "Historical Assassins research", "Ezio Auditore fandom",
    "Altair Ibn-La'Ahad study", "Desmond Miles theories", "Bleeding effect study",
    "First Civilization archaeology", "Isu temple exploration", "Precursor site visiting",
    "Meditation practice", "Sleep optimization", "Lucid dreaming", "Dream journaling", "Astrology",
    "Tarot reading", "Fortune telling", "Palm reading", "Crystal healing", "Reiki", "Energy work",
    "Witchcraft", "Spell casting", "Herbalism", "Natural medicine", "Essential oils",
    "Perfume making", "Fashion", "Outfit planning", "Wardrobe curation", "Thrifting",
    "Vintage fashion", "Sneaker collecting", "Watch collecting", "Hat collecting",
    "Tattoo collecting", "Piercing", "Body modification", "Hair styling", "Nail art",
    "Self-improvement", "Life coaching", "Motivational speaking", "Journaling practice",
    "Bullet journaling", "Planning", "Organizing", "Cleaning", "Decluttering", "Minimalism",
    "Interior design", "Feng shui", "Home staging", "Furniture flipping", "Upcycling furniture",
    "Costume design", "Costume making", "Disaster response training"
    ],
    mha: [
    "Hero merchandise collecting", "Hero card collecting", "Hero autograph hunting",
    "Hero meet-and-greet attending", "Quirk analysis", "Quirk theory crafting",
    "Quirk combination speculation", "Support item design", "Support gear tinkering",
    "Hero costume design", "Hero studies", "Villain history research",
    "Infamous villain case studies", "Hero ranking tracking", "Following hero rankings",
    "Debating hero rankings", "Pro hero watching", "Watching hero fights",
    "Analyzing hero techniques", "Rescue simulation practice", "Hero news following",
    "Reading hero magazines", "Hero gossip following", "Support course projects",
    "U.A. Sports Festival watching", "Sports Festival speculation", "Hero license exam prep",
    "Studying hero laws", "Hero Public Safety Commission tracking", "Vigilante history research",
    "Anti-quirk discrimination activism", "Quirkless rights advocacy",
    "Heteromorph rights activism", "Mutation-type quirk acceptance work",
    "Quirk counseling interest", "Quirk marriage ethics debates",
    "All Might memorabilia collecting", "Studying the dawn of quirks", "Pre-quirk era history",
    "Quirk emergence theories", "Hero school entrance exam prep", "Mock villain battles",
    "Hero team-up analysis", "Sidekick culture study", "Underground hero appreciation",
    "Rescue hero fandom", "Combat hero fandom", "Villain rehabilitation interest",
    "Tartarus prison study"
    ]
  },

  religion: {
    general: [
    "Christianity", "Catholic", "Protestant", "Baptist", "Methodist", "Lutheran",
    "Presbyterian", "Episcopalian/Anglican", "Pentecostal", "Evangelical",
    "Orthodox Christianity", "Eastern Orthodox", "Russian Orthodox", "Greek Orthodox",
    "Coptic Orthodox", "Mormon (Latter-day Saints)", "Jehovah's Witness",
    "Seventh-day Adventist", "Quaker", "Amish", "Mennonite",
    "Islam", "Sunni Islam", "Shia Islam", "Sufi Islam", "Ahmadiyya",
    "Judaism", "Orthodox Judaism", "Conservative Judaism", "Reform Judaism",
    "Reconstructionist Judaism", "Hasidic Judaism",
    "Sikhism", "Bahá'í Faith", "Zoroastrianism", "Rastafarianism", "Druze",
    "Hinduism", "Vaishnavism (Vishnu worship)", "Shaivism (Shiva worship)",
    "Shaktism (Goddess worship)", "Smartism",
    "Shinto", "Buddhism", "Theravada Buddhism", "Mahayana Buddhism",
    "Vajrayana Buddhism", "Zen Buddhism", "Tibetan Buddhism", "Pure Land Buddhism",
    "Jainism", "Ancient Greek religion", "Ancient Roman religion",
    "Ancient Egyptian religion", "Norse/Germanic paganism", "Celtic paganism",
    "Slavic paganism", "Hellenism (modern Greek paganism)",
    "Kemeticism (modern Egyptian paganism)", "Ásatrú (modern Norse paganism)",
    "Rodnovery (Slavic native faith)", "Wicca", "Neo-paganism", "Druidry", "Thelema",
    "Santería", "Vodou (Voodoo)", "Candomblé", "Umbanda", "Yoruba religion", "Ifá",
    "Orisha worship", "Heathenry", "Reconstructionist paganism",
    "Taoism", "Confucianism", "Shintoism", "Tenrikyo", "Cao Dai",
    "Chinese folk religion", "Korean shamanism (Muism)", "Vietnamese folk religion",
    "Japanese folk religion",
    "Native American spirituality", "Aboriginal Australian spirituality",
    "Māori spirituality", "Polynesian spirituality", "African traditional religions",
    "Amazonian shamanism", "Inuit spirituality", "Animism", "Totemism", "Shamanism",
    "Ancestor worship", "Nature worship",
    "Atheism", "Agnosticism", "Secular humanism", "Existentialism", "Stoicism",
    "Epicureanism", "Skepticism", "Rationalism", "Materialism", "Nihilism", "Deism",
    "Pantheism", "Panentheism", "Spiritual but not religious",
    "Unitarian Universalism",
    "Eckankar", "Scientology", "Theosophy", "Anthroposophy",
    "Hare Krishna (ISKCON)", "Transcendental Meditation", "New Thought",
    "Christian Science", "Unity Church", "New Age spirituality", "Universalism",
    "Omnism (all religions contain truth)",
    "Monotheistic (belief in one god)", "Polytheistic (belief in many gods)",
    "Henotheistic (worship one god among many)",
    "Pantheistic (god is everything/nature)",
    "Panentheistic (god encompasses and transcends universe)",
    "Nontheistic (no god/gods)", "Agnostic theist (believes but uncertain)",
    "Agnostic atheist (doesn't believe but uncertain)",
    "Antitheist (actively opposes religion)", "Apatheist (indifferent to religion)",
    "Ignostic (concept of god is meaningless)",
    "Misotheist (believes in god but hates them)",
    "Dystheist (believes god is not wholly good)", "Maltheist (believes god is evil)",
    "Autotheist (believes oneself is a god)"
    ],
    mha: [
    "Worships Palutena (goddess of sex, fertility, creativity, joy and life)",
    "Worships Hecate (purifier of souls for reincarnation)",
    "Worships Chronoa (goddess of time)",
    "Worships Towa (false goddess, time-travelling chaos agent)"
    ]
  },

  tics: [
    "Cracks knuckles constantly", "Drums fingers on surfaces", "Taps fingers rhythmically",
    "Fidgets with rings or jewelry", "Twirls hair around a finger", "Picks at their nails",
    "Picks at cuticles", "Chews on fingernails", "Bites nails down to the quick",
    "Rubs hands together", "Wrings hands when nervous", "Flexes fingers repeatedly",
    "Makes fists and releases", "Counts on fingers unconsciously", "Traces patterns on surfaces",
    "Snaps fingers", "Cracks each finger individually", "Interlaces and unlaces fingers",
    "Always has to be holding something", "Spins pens between fingers",
    "Plays with whatever's in reach", "Pulls at fingers", "Massages own palm",
    "Taps thumbs together",
    "Blinks rapidly under stress", "Squints at people when suspicious",
    "Narrows eyes when thinking", "Twitches eyebrow", "Raises one eyebrow",
    "Wrinkles nose", "Scrunches face", "Flares nostrils",
    "Bites the inside of their cheek", "Chews bottom lip", "Licks lips when nervous",
    "Presses lips together tightly", "Purses lips", "Sucks teeth", "Grinds teeth",
    "Clenches jaw when angry", "Jaw twitches", "Works jaw side to side",
    "Touches face constantly", "Rubs eyes", "Rubs nose when lying",
    "Touches their ear when uncomfortable", "Scratches behind their ear",
    "Pulls on earlobe", "Rubs temples", "Massages bridge of nose",
    "Pinches bridge of nose", "Covers mouth when laughing", "Covers mouth when speaking",
    "Touches chin when thinking", "Strokes chin", "Cups own face", "Puffs out cheeks",
    "Sucks in cheeks", "Chews on inside of mouth", "Tongue pokes cheek",
    "Sticks tongue out slightly", "Wets lips constantly", "Smacks lips", "Bites tongue",
    "Eyes dart around", "Avoids eye contact", "Stares intensely",
    "Stares off mid-conversation", "Looks away when lying", "Eye twitches",
    "Winks unconsciously", "Furrows brow constantly", "Raises both eyebrows repeatedly",
    "Forehead wrinkles when listening",
    "Hums under their breath", "Hums while thinking", "Whistles tunelessly",
    "Clicks their tongue", "Tuts disapprovingly", "Clucks tongue",
    "Sucks air through teeth", "Sighs dramatically", "Sighs constantly",
    "Exhales loudly", "Sniffs loudly when concentrating", "Sniffles",
    "Clears throat constantly", "Coughs to fill silence", "Harrumphs", "Grunts",
    "Makes small noises", "'Mm-hmm' constantly", "'Uh-huh' repeatedly",
    "Mutters to themselves", "Talks under their breath", "Repeats last word of sentences",
    "Repeats others' last words", "Echoes phrases", "Makes popping sounds with mouth",
    "Whistles through teeth", "Hisses when annoyed", "Tsks", "Shushes people",
    "Laughs nervously", "Giggles at inappropriate times", "Chuckles to themselves",
    "Snorts when laughing",
    "Tilts head when listening", "Cocks head to side", "Nods constantly",
    "Shakes head subtly", "Cracks their neck", "Rolls neck", "Stretches neck",
    "Tilts head back", "Looks up when thinking", "Looks down when embarrassed",
    "Turns head away", "Looks over shoulder constantly",
    "Always looking over their shoulder", "Jerks head", "Head bobs slightly",
    "Hair flip", "Shakes head to clear thoughts", "Scratches head",
    "Runs hand through hair repeatedly", "Tugs on hair", "Plays with hair",
    "Twists hair", "Pulls hair forward", "Pushes hair back",
    "Touches hair constantly", "Adjusts hair", "Musses own hair",
    "Taps their foot when thinking", "Bounces their leg when sitting",
    "Paces when anxious", "Shifts weight constantly", "Rocks back and forth",
    "Sways slightly", "Rolls their shoulders", "Shrugs constantly",
    "Hunches shoulders", "Straightens posture repeatedly", "Stretches constantly",
    "Cracks back", "Arches back", "Crosses arms reflexively",
    "Uncrosses and recrosses arms", "Wraps arms around self", "Hugs self",
    "Touches own shoulders", "Adjusts clothing constantly", "Tugs at sleeves",
    "Pulls at collar", "Straightens shirt", "Smooths down clothing",
    "Picks at clothing", "Fidgets with hem", "Adjusts waistband", "Fixes tie",
    "Touches necklace", "Plays with zipper", "Buttons and unbuttons",
    "Checks pockets", "Pats pockets", "Shifts in seat", "Leans forward",
    "Leans back", "Crosses and uncrosses legs", "Ankle on knee",
    "Tucks feet under chair", "Wraps feet around chair legs", "Stands on one foot",
    "Shifts between feet", "Taps toes", "Wiggles toes (in shoes)", "Heels tap ground",
    "Paces", "Cannot sit still", "Gets up and sits down repeatedly",
    "Walks in circles", "Takes unnecessary steps", "Always in motion",
    "Fidgets constantly", "Squirms", "Twitches", "Random muscle twitches",
    "Shoulder twitches", "Spasms", "Jerky movements", "Rocks on heels",
    "Bounces on toes", "Kicks at ground", "Scuffs feet", "Drags feet",
    "Stamps foot", "Knee bounces", "Restless legs", "Swings arms", "Flaps hands",
    "Shakes out hands", "Clenches and unclenches fists", "Touches things unnecessarily",
    "Has to touch certain objects", "Taps walls while walking", "Counts steps",
    "Avoids cracks in sidewalk", "Steps on every line", "Has to touch doorframes",
    "Spins when standing", "Does small hops", "Shifts weight rhythmically",
    "Chews on pen caps or sticks", "Clicks pen repeatedly", "Spins pen",
    "Taps pen on surface", "Fidgets with pen", "Plays with whatever's on desk",
    "Straightens papers compulsively", "Stacks and restacks things", "Lines things up",
    "Has to organize", "Arranges items by size/color", "Touches books on shelf",
    "Adjusts picture frames", "Straightens crooked things", "Flips coin",
    "Rolls dice", "Shuffles cards", "Folds and unfolds paper",
    "Tears paper into strips", "Doodles constantly", "Draws on self",
    "Picks at labels", "Peels stickers", "Scratches at surfaces", "Taps objects",
    "Spins objects", "Fidgets with phone", "Checks phone constantly",
    "Adjusts glasses (even when unnecessary)", "Pushes up glasses",
    "Takes glasses on and off", "Cleans glasses repeatedly", "Plays with glasses",
    "Chews on glasses arm", "Fidgets with jewelry", "Twists ring",
    "Touches necklace", "Plays with earrings", "Adjusts watch", "Winds watch",
    "Checks watch constantly",
    "Checks locks multiple times", "Rechecks things", "Counts things",
    "Has to count to certain number", "Taps in patterns", "Does things in threes",
    "Symmetry compulsion", "Has to balance actions", "Touches things twice",
    "Repeats movements", "Retraces steps", "Goes back to check",
    "Straightens things compulsively", "Organizes and reorganizes",
    "Alphabetizes things", "Color codes everything", "Lines things up perfectly",
    "Adjusts until 'just right'", "Ritualistic behaviors", "Same routine always",
    "Must do things in order", "Panics if routine disrupted",
    "Picks at scabs", "Picks at skin", "Scratches arms", "Scratches neck",
    "Rubs arms", "Wraps arms tight", "Grips own arm", "Digs nails into palm",
    "Pinches self", "Pulls at clothes", "Tugs shirt", "Chews on collar/sleeves",
    "Covers face", "Hides behind hands", "Peeks through fingers", "Pulls hood up",
    "Hunches into self", "Makes self small", "Curls up", "Knees to chest",
    "Defensive posture",
    "Stares into space", "Zones out", "Looks up and right",
    "Closes eyes when thinking", "Squints when concentrating",
    "Bites lip while working", "Tongue sticks out when focused", "Holds breath",
    "Breathes shallowly", "Mutters while reading", "Mouths words when reading",
    "Traces text with finger", "Nods along while listening",
    "Tilts head various angles", "Looks at ceiling", "Paces while thinking",
    "Walks to think", "Has to move to process", "Taps rhythm while thinking",
    "Counts on fingers", "Talks through problems aloud", "Narrates own actions",
    "Repeats phrases", "Catchphrase user",
    "Verbal filler ('um,' 'uh,' 'like')", "'You know' constantly",
    "'Basically' before everything", "Ends sentences with 'yeah?'",
    "Trails off mid-sentence", "Interrupts self", "Corrects self constantly",
    "Apologizes unnecessarily", "Over-explains", "Rambles when nervous",
    "Talks faster under stress", "Talks slower deliberately",
    "Emphasizes random words", "Voice goes up at end (upspeak)",
    "Pauses mid-word", "Stutters slightly", "Repeats first syllable",
    "Elongates words", "Clips words short", "Drops letters", "Adds extra syllables"
  ],

  face: {
    general: [
    "Round face",     "Oval face",     "Square face",     "Heart-shaped face",     "Diamond-shaped face",
    "Triangular face",     "Oblong face",     "Rectangular face",     "Pear-shaped face",     "Long face",
    "Wide face",     "Narrow face",     "Soft features",     "Sharp features",     "Angular features",
    "Delicate features",     "Strong features",     "Chiseled features",     "Gaunt face",     "Sunken features",
    "Full face",     "Chubby cheeks",     "Hollow cheeks",     "High cheekbones",     "Prominent cheekbones",
    "Flat cheekbones",     "Wide-set features",     "Close-set features",     "Symmetrical face",     "Asymmetrical face",
    "Lopsided features",     "Almond-shaped eyes",     "Round eyes",     "Hooded eyes",     "Deep-set eyes",
    "Protruding eyes",     "Close-set eyes",     "Wide-set eyes",     "Upturned eyes",     "Downturned eyes",
    "Monolid eyes",     "Double eyelids",     "Heavy-lidded eyes",     "Large eyes",     "Small eyes",
    "Doe eyes",     "Sleepy eyes",     "Piercing eyes",     "Bright eyes",     "Sharp eyes",
    "Squinty eyes",     "One eye smaller than the other",     "Blue eyes",     "Green eyes",     "Brown eyes",
    "Hazel eyes",     "Amber eyes",     "Gray eyes",     "Black eyes",     "Pale blue eyes",
    "Dark blue eyes",     "Light blue eyes",     "Bright green eyes",     "Dark green eyes",     "Olive green eyes",
    "Sea green eyes",     "Light brown eyes",     "Dark brown eyes",     "Golden brown eyes",     "Honey-colored eyes",
    "Yellow eyes",     "Red eyes",     "Purple eyes",     "Violet eyes",     "Orange eyes",
    "Heterochromia (two different colored eyes)",     "Central heterochromia (ring of different color around pupil)",     "Sectoral heterochromia (partial color difference in one eye)",     "Pale eyes",     "Milky eyes",
    "Cloudy eyes",     "Long eyelashes",     "Short eyelashes",     "Thick eyelashes",     "Sparse eyelashes",
    "Curly eyelashes",     "Straight eyelashes",     "Dark eyelashes",     "Light eyelashes",     "No eyelashes",
    "White eyelashes",     "Thin eyebrows",     "Thick eyebrows",     "Bushy eyebrows",     "Arched eyebrows",
    "Straight eyebrows",     "Low-set eyebrows",     "High-set eyebrows",     "Unibrow",     "Split eyebrow",
    "Scarred eyebrow",     "Shaved eyebrow slit",     "No eyebrows",     "Pierced eyebrow",     "Dark eyebrows",
    "Light eyebrows",     "Gray eyebrows",     "White eyebrows",     "Crow's feet",     "Dark circles under eyes",
    "Bags under eyes",     "Puffy eyes",     "Sunken eye sockets",     "Laugh lines around eyes",     "Small nose",
    "Large nose",     "Button nose",     "Aquiline nose (eagle-like curve)",     "Roman nose (prominent bridge)",     "Snub nose",
    "Upturned nose",     "Hooked nose",     "Crooked nose",     "Previously broken nose",     "Wide nose",
    "Narrow nose",     "Flat nose",     "Pointed nose",     "Bulbous nose",     "Long nose",
    "Short nose",     "Prominent nose",     "Delicate nose",     "Wide nostrils",     "Narrow nostrils",
    "Flared nostrils",     "High nose bridge",     "Low nose bridge",     "Flat nose bridge",     "Bumpy nose bridge",
    "Scarred nose",     "Nose piercing",     "Septum piercing",     "Nostril piercing",     "Bridge piercing",
    "Freckled nose",     "Perpetually red nose",     "Full lips",     "Thin lips",     "Plump lips",
    "Bow-shaped lips",     "Heart-shaped lips",     "Wide mouth",     "Small mouth",     "Pronounced cupid's bow",
    "No cupid's bow",     "Upper lip fuller than lower",     "Lower lip fuller than upper",     "Even lips",     "Pouty lips",
    "Chapped lips",     "Scarred lips",     "Split lip scar",     "Cleft lip (repaired)",     "Cleft lip (unrepaired)",
    "Lip piercing",     "Snake bite piercings",     "Labret piercing",     "Monroe piercing",     "Medusa piercing",
    "Dark lips",     "Pale lips",     "Naturally pink lips",     "Naturally red lips",     "Wide smile",
    "Small smile",     "Crooked smile",     "Lopsided smile",     "Smirk",     "Toothy grin",
    "Closed-mouth smile",     "Gap between front teeth",     "Straight teeth",     "Crooked teeth",     "Overlapping teeth",
    "Buck teeth",     "Overbite",     "Underbite",     "Perfect teeth",     "Yellowed teeth",
    "Bright white teeth",     "Stained teeth",     "Missing teeth",     "Gold tooth",     "Silver tooth",
    "Chipped tooth",     "Sharp canines",     "Pointed teeth",     "Small teeth",     "Large teeth",
    "Gummy smile",     "Dimples when smiling",     "Single dimple",     "Deep dimples",     "Smile lines",
    "Strong jawline",     "Soft jawline",     "Square jaw",     "Sharp jawline",     "Defined jawline",
    "Undefined jawline",     "Wide jaw",     "Narrow jaw",     "Prominent jaw",     "Receding jaw",
    "Double chin",     "Prominent chin",     "Receding chin",     "Pointed chin",     "Square chin",
    "Rounded chin",     "Cleft chin",     "Small chin",     "Large chin",     "Pale skin",
    "Fair skin",     "Light skin",     "Medium skin",     "Tan skin",     "Olive skin",
    "Brown skin",     "Dark brown skin",     "Deep brown skin",     "Ebony skin",     "Alabaster skin",
    "Porcelain skin",     "Golden skin",     "Bronze skin",     "Copper skin",     "Warm undertones",
    "Cool undertones",     "Neutral undertones",     "Ruddy complexion",     "Sallow complexion",     "Ashen complexion",
    "Rosy cheeks",     "Reddish skin",     "Smooth skin",     "Rough skin",     "Leathery skin",
    "Weathered skin",     "Sun-damaged skin",     "Clear skin",     "Acne-prone skin",     "Acne scars",
    "Pockmarked skin",     "Freckled face",     "Heavy freckles",     "Light freckles",     "Freckles across nose and cheeks",
    "Beauty mark on face",     "Mole on face",     "Multiple facial moles",     "Birthmark on face",     "Port wine stain on face",
    "Vitiligo",     "Wrinkled face",     "Fine lines",     "Deep wrinkles",     "Forehead wrinkles",
    "Frown lines",     "No wrinkles despite age",     "Youthful skin",     "Aged skin",     "Oily skin",
    "Dry skin",     "Rosacea",     "Clean-shaven",     "Five o'clock shadow",     "Light stubble",
    "Heavy stubble",     "Goatee",     "Van Dyke beard",     "Full beard",     "Short beard",
    "Long beard",     "Bushy beard",     "Scraggly beard",     "Patchy beard",     "Well-groomed beard",
    "Unkempt beard",     "Braided beard",     "Handlebar mustache",     "Pencil mustache",     "Horseshoe mustache",
    "Walrus mustache",     "Chevron mustache",     "Fu Manchu mustache",     "Mutton chops",     "Long sideburns",
    "Soul patch",     "Chin strap beard",     "Peach fuzz",     "Cannot grow facial hair",     "Gray beard",
    "White beard",     "Salt and pepper beard",     "High forehead",     "Low forehead",     "Wide forehead",
    "Narrow forehead",     "Prominent forehead",     "Widow's peak",     "Straight hairline",     "Receding hairline",
    "Scarred forehead",     "Forehead birthmark",     "Small ears",     "Large ears",     "Prominent ears",
    "Protruding ears",     "Flat ears",     "Rounded ears",     "Cauliflower ears",     "Scarred ears",
    "Notched ear",     "Torn ear",     "Pierced ears",     "Multiple ear piercings",     "Stretched earlobes (gauges)",
    "Industrial piercing",     "Helix piercing",     "Tragus piercing",     "Attached earlobes",     "Detached earlobes",
    "Large earlobes",     "Asymmetrical ears",     "Missing ear",     "Partial ear"
    ],
    mha: [
    "Animal ears instead of human ears",     "Cat ears",     "Dog ears",     "Fox ears",     "Rabbit ears",
    "Wolf ears",     "Bear ears",     "Deer ears with antlers",     "Horns on head",     "Single horn",
    "Multiple horns",     "Curled horns",     "Straight horns",     "Broken horn",     "Bull horns",
    "Ram horns",     "Goat horns",     "Dragon horns",     "Scales on face",     "Reptilian scales",
    "Feathers on face",     "Feathered eyebrows",     "Beak instead of nose",     "Sharp beak",     "Hooked beak",
    "Pronounced tusks",     "Retractable fangs",     "Venom fangs",     "Multiple rows of teeth",     "Shark-like teeth",
    "No nose (just nostril slits)",     "Snake-like nostrils",     "Reptilian slit pupils",     "Cat-slit pupils",     "Insect compound eyes",
    "Multiple eyes",     "Third eye on forehead",     "All-black eyes (no whites)",     "No visible pupils",     "Glowing eyes (emit actual light)",
    "Crystalline eyes",     "Metallic eyes",     "Fire-colored irises",     "Stone face",     "Rock-textured features",
    "Crystal formations on face",     "Metal plates on face",     "Wooden features",     "Plant growth on face",     "Flowers growing from facial skin",
    "Vines across face",     "Fur covering face",     "Feathered face",     "Scaled patches on face",     "Transparent skin showing skull",
    "Partially see-through face",     "Face partially made of fire",     "Face partially made of water",     "Face partially made of ice",     "Face partially made of shadow",
    "Face partially made of light",     "Tentacles instead of hair",     "Snake hair (Medusa-like)",     "Fire for hair",     "Living animated hair",
    "Morphing facial features",     "Shapeshifting face",     "Multiple faces on head",     "Face on back of head",     "Blank featureless face",
    "Constantly changing face",     "Screen or display for face",     "Holographic face",     "Ghostly transparent features",     "Mechanical face parts",
    "Cyborg facial elements",     "Stitched-together face",     "Mismatched skin tones across face",     "Two-tone face (split down middle)",     "Half skeletal half flesh",
    "Chimera face (mixed animal features)"
    ]
  },

  bodyFeatures: {
    general: [
    "Petite build",     "Willowy build",     "Stocky build",     "Burly build",     "Slender build",
    "Well-built",     "Muscular build",     "Lean build",     "Thin build",     "Skinny",
    "Emaciated",     "Gaunt",     "Overweight",     "Heavyset",     "Chubby",
    "Plump",     "Big-boned frame",     "Small-boned frame",     "Delicate frame",     "Sturdy frame",
    "Athletic build",     "Swimmer's build",     "Runner's build",     "Gymnast build",     "Weightlifter build",
    "Powerlifter build",     "Dad bod",     "Soft body",     "Compact build",     "Lanky build",
    "Wiry build",     "Unusual proportions",     "Disproportionate build",     "Toned and defined",     "Ripped with visible muscle definition",
    "Soft undefined middle",     "Beer belly",     "Flat stomach",     "Visible six-pack abs",     "Love handles",
    "Broad chest",     "Narrow chest",     "Barrel chest",     "Flat chest",     "Sunken chest",
    "Muscular chest",     "Stretch marks",     "Visible cellulite",     "Excess loose skin",     "Tight firm skin",
    "Broad shoulders",     "Narrow shoulders",     "Sloped shoulders",     "Square shoulders",     "Uneven shoulders (one higher)",
    "Prominent collarbone",     "V-taper torso (wide shoulders, narrow waist)",     "Box-shaped torso",     "Strong muscular back",     "Long arms",
    "Short arms",     "Arms too long for body",     "Thin arms",     "Thick muscular arms",     "Defined biceps",
    "Vascular forearms",     "Hairy arms",     "Hairless arms",     "Thick wrists",     "Thin wrists",
    "Delicate wrists",     "Big hands",     "Small hands",     "Long elegant fingers",     "Short stubby fingers",
    "Thick fingers",     "Working hands (rough and calloused)",     "Soft smooth hands",     "Scarred hands",     "Veiny hands",
    "Prominent knuckles",     "Scarred knuckles",     "Manicured nails",     "Bitten-down nails",     "Long nails",
    "Ink-stained fingers",     "Paint-stained hands",     "Perpetually dirty hands",     "Perpetually clean hands",     "Visible scoliosis (curved spine)",
    "Kyphosis (rounded upper back)",     "Lordosis (swayback)",     "Back dimples (dimples of Venus)",     "Hairy back",     "Smooth hairless back",
    "Long torso",     "Short torso",     "Thick waist",     "Thin waist",     "Narrow defined waist",
    "Hourglass waist",     "Blocky straight waist",     "Wide hips",     "Narrow hips",     "Prominent hip bones",
    "Hip dips",     "Thick thighs",     "Thin thighs",     "Muscular thighs",     "Thigh gap",
    "Thunder thighs",     "Long legs",     "Short legs",     "Legs too long for body",     "Legs too short for body",
    "Muscular legs",     "Skinny legs",     "Large defined calves",     "Skinny calves",     "Bowed legs",
    "Knock knees",     "Chicken legs (skinny legs on bigger body)",     "Tree-trunk legs",     "Hairy legs",     "Smooth hairless legs",
    "Thick ankles",     "Thin delicate ankles",     "Big feet",     "Small feet",     "Wide feet",
    "Narrow feet",     "Flat feet",     "High arches",     "Calloused feet",     "Bunions",
    "Dancer's feet",     "Smooth skin everywhere",     "Rough skin patches",     "Leathery tough skin",     "Thin delicate skin",
    "Bruises easily",     "Scars easily (keloid-prone)",     "Sunburns easily",     "Tans easily",     "Never burns or tans",
    "Moles all over body",     "Freckles all over body",     "Visible veins throughout body",     "Spider veins on legs",     "Vitiligo pattern",
    "Hyperpigmentation patches",     "Completely hairless body",     "Full thick body hair",     "Moderate body hair",     "Sparse body hair",
    "Hairy chest",     "Hairless chest",     "Treasure trail (happy trail)",     "Hairy back and shoulders",     "Shaved/waxed body",
    "Unkempt wild body hair",     "Dark body hair",     "Light body hair",     "Gray or white body hair",     "Red body hair",
    "Long limbs relative to body",     "Short limbs relative to body",     "Gangly and awkward proportions",     "Well-proportioned",     "Long torso with short legs",
    "Short torso with long legs",     "Top-heavy build",     "Bottom-heavy build",     "Symmetrical body",     "Noticeably asymmetrical body",
    "One side visibly bigger/stronger",     "Long neck",     "Short thick neck",     "No visible neck",     "Swan-like graceful neck",
    "Bull neck",     "Prominent Adam's apple",     "No visible Adam's apple",     "Very flexible body",     "Very inflexible/stiff body",
    "Hypermobile double-jointed",     "Stiff arthritic joints",     "Creaky popping joints",     "Prominent bony joints",     "Visible musculature definition",
    "No visible muscle definition",     "Very vascular (veiny)",     "Not vascular at all"
    ],
    mha: [
    "Prehensile tail",     "Long tail",     "Short tail",     "Scaled tail",     "Furred tail",
    "Feathered tail",     "Multiple tails",     "Spiked tail",     "Cat tail",     "Dog tail",
    "Fox tail",     "Lizard tail",     "Monkey tail",     "Fish tail (mermaid lower half)",     "Scorpion stinger tail",
    "Whip-thin tail",     "Feathered wings",     "Bat-like wings",     "Insect wings",     "Dragon wings",
    "Butterfly wings",     "Tiny vestigial wings (can't fly)",     "Large flight-capable wings",     "Retractable wings",     "Wings that can't fold flat",
    "Crystalline wings",     "Ethereal translucent wings",     "Four arms",     "Six arms",     "Eight arms",
    "Extra legs",     "Centaur lower body",     "Spider lower body (eight legs)",     "Satyr legs (goat lower half)",     "Lamia/Naga serpent lower body",
    "Tentacles instead of arms",     "Tentacles instead of legs",     "Additional tentacles alongside limbs",     "Retractable tentacles",     "No arms",
    "No legs",     "Mechanical prosthetic limbs",     "Robotic body parts",     "Scales covering entire body",     "Partial scale patches",
    "Feathers covering body",     "Partial feather patches",     "Fur covering entire body",     "Partial fur patches",     "Exoskeleton",
    "Shell on back (turtle-like)",     "Natural bone armor plating",     "Chitinous insect plates",     "Metal plating on body",     "Skin changes color (chameleon)",
    "Transparent body parts",     "Crystal formations on body",     "Rock-like skin",     "Metal skin",     "Wooden bark-like skin",
    "Plant growths on body",     "Flowers blooming from skin",     "Vines as limbs or growing from body",     "Bioluminescent skin",     "Glowing skin patterns",
    "Iridescent shimmering skin",     "Metallic sheen skin",     "Body partially made of fire",     "Body partially made of water",     "Body partially made of ice",
    "Body made of shadow",     "Body made of light",     "Gaseous or smoke-like form",     "Shapeshifting form",     "Constantly shifting unstable form",
    "Ghostly ethereal body",     "Holographic projected body",     "Partially intangible",     "Size-shifting ability",     "Elastic stretchy body",
    "Can inflate body parts",     "Flat two-dimensional appearance",     "Dragon-like build",     "Minotaur build",     "Unicorn horn on body",
    "Kitsune multiple tails",     "Oni horns and build",     "Living skeleton",     "Zombie-like decaying body",     "Stitched-together patchwork body",
    "Floats slightly off the ground",     "Exists in multiple places simultaneously",     "Flickers in and out of visibility"
    ]
  },
  physicalQuirks: {
    general: [
    "Perfect posture",     "Slouches constantly",     "Hunched shoulders",     "Ramrod straight back",     "Leans to one side habitually",
    "Shifts weight constantly while standing",     "Rocks back and forth",     "Sways while standing",     "Crosses arms when standing",     "Hands always in pockets",
    "Hands-on-hips stance",     "Wide stance",     "Pigeon-toed",     "Duck-footed walk",     "Walks on tiptoes habitually",
    "Heavy footfalls",     "Near-silent footsteps",     "Stomps when walking",     "Shuffles feet",     "Drags feet when walking",
    "Bouncy walk",     "Confident strut",     "Swagger in walk",     "Timid walk",     "Always in a hurry",
    "Leisurely pace always",     "Long strides",     "Short quick steps",     "Military-precise walk",     "Limps slightly",
    "Favors one leg",     "Uneven gait",     "Graceful movement",     "Jerky movements",     "Stiff walk",
    "Gangly uncoordinated walk",     "Athletic fluid movement",     "Cracks knuckles constantly",     "Wrings hands when nervous",     "Steeples fingers when thinking",
    "Drums fingers on surfaces",     "Picks at nails",     "Bites nails",     "Flexes fingers repeatedly",     "Clenches fists unconsciously",
    "Gestures wildly when talking",     "Talks with hands constantly",     "Keeps hands perfectly still",     "Arms always crossed",     "Arms clasped behind back",
    "Shaky hands",     "Steady surgeon's hands",     "Trembling hands",     "Drops things frequently",     "Catches things reflexively",
    "Ambidextrous",     "Left-handed",     "Strong grip",     "Gentle touch always",     "Heavy-handed with everything",
    "Constantly adjusts rings or jewelry",     "Plays with jewelry when nervous",     "Bandaged hands often",     "Perpetually bruised knuckles",     "Double-jointed fingers",
    "Missing finger(s)",     "Bounces leg when sitting",     "Taps foot rhythmically",     "Picks at skin when anxious",     "Scratches neck when nervous",
    "Rubs back of neck",     "Rolls shoulders frequently",     "Cracks neck",     "Cracks back",     "Stretches constantly",
    "Yawns frequently",     "Sighs often",     "Holds breath without realizing",     "Hyperventilates when nervous",     "Hiccups when nervous",
    "Sneezes in sunlight (photic sneeze reflex)",     "Always sneezes in pairs or triples",     "Shivers easily",     "Sweats easily",     "Blushes readily",
    "Goes pale when startled",     "Always seems too hot",     "Always seems too cold",     "Gets goosebumps easily",     "Perpetually clammy hands",
    "Perpetually cold hands",     "Perpetually warm hands",     "Tilts head when listening",     "Cocks head like a bird",     "Nods constantly while others talk",
    "Shakes head while talking",     "Noticeable head bob when walking",     "Looks over shoulder frequently",     "Constantly scanning the room",     "Intense unbroken eye contact",
    "Avoids eye contact",     "Stares without realizing",     "Gazes off into distance",     "Daydreams visibly (zones out mid-conversation)",     "Chin always up",
    "Chin always down (looks through eyebrows)",     "Looks down when walking",     "Habitual side-eye",     "Resting angry face",     "Resting sad face",
    "Expressionless face by default",     "Extremely expressive face",     "Perpetual smirk",     "Frowns when concentrating",     "Scowls at nothing",
    "Winces at loud noises",     "Bites lip habitually",     "Licks lips frequently",     "Chews inside of cheek",     "Jaw clenches when stressed",
    "Grinds teeth visibly",     "Mouth always slightly open",     "Sticks tongue out when concentrating",     "Nose scrunches when thinking",     "Nostrils flare when angry",
    "One eyebrow always slightly raised",     "Eye twitches when stressed",     "Winks unconsciously",     "Doesn't blink enough",     "Blinks rapidly when lying",
    "Covers face when embarrassed",     "Hides face in hands",     "Chin-in-hand thinking pose",     "Always looks tired",     "Always looks alert",
    "Looks angry when deep in thought",     "Looks sad when neutral",     "Cannot hide emotions — face gives everything away",     "Completely unreadable poker face",     "Mouth breather",
    "Audible heavy breathing",     "Wheezes slightly",     "Whistling breath through nose",     "Sighs dramatically",     "Sharp inhales when surprised",
    "Visible breathing exercises when stressed",     "Out of breath easily",     "Never seems out of breath",     "Hiccups frequently",     "Burps without shame",
    "Yawns contagiously and loudly",     "Full-body yawns with stretching",     "Sniffles constantly",     "Always sounds congested",     "Throat-clearing tic",
    "Chronic dry cough",     "Gags easily (strong gag reflex)",     "Hypersensitive to smells",     "Cannot smell anything (anosmia)",     "Very touchy-feely person",
    "Maintains large personal bubble",     "No concept of personal space",     "Invades space without realizing",     "Leans in uncomfortably close when talking",     "Flinches away from touch",
    "Actively seeks physical contact",     "Touch-averse",     "Touch-starved behavior",     "Bone-crushing handshake",     "Limp handshake",
    "Avoids handshakes entirely",     "Hugs everyone freely",     "Hugs reluctantly and awkwardly",     "Hugs too tight",     "Lifts people during hugs",
    "Pats people on the back",     "Hand on shoulder constantly",     "Touches people while talking",     "Taps or nudges to get attention",     "Holds hands easily with anyone",
    "Leans on people when standing",     "Rests head on people's shoulders",     "Uses people as furniture",     "Always asks before touching",     "Touches without thinking to ask",
    "Has to touch every texture they see",     "Feels fabric of everything",     "Seeks warm things to touch",     "Seeks cold things to touch",     "Perpetually tired appearance",
    "Never looks tired",     "Falls asleep anywhere easily",     "Obviously insomniac",     "Naps in odd places and positions",     "Can't nap at all",
    "Needs caffeine to function (always has a cup)",     "Natural boundless energy",     "Crashes hard in the afternoon",     "Hyperactive — can't sit still",     "Lethargic slow movements",
    "Restless — always fidgeting",     "Can stay perfectly still like a statue",     "Economical efficient movements",     "Wasteful flailing movements"
    ],
    mha: [
    "Tail wags when happy",     "Tail droops when sad",     "Tail puffs up when scared",     "Tail lashes when angry",     "Tail curls around things for comfort",
    "Tail constantly moving",     "Tail knocks things over",     "Tail wraps around people affectionately",     "Wings flare when startled",     "Wings droop when tired",
    "Wings puff up to appear larger",     "Wings wrap around self when cold",     "Wings flutter when excited",     "Wings knock things over in tight spaces",     "Preens feathers/wings habitually",
    "Extra arms gesture independently",     "Extra arms fidget while main arms work",     "Tentacles move unconsciously",     "Tentacles reach for things without thinking",     "Scales rustle audibly when moving",
    "Fur bristles when emotional",     "Skin color shifts with mood involuntarily",     "Glows brighter when emotional",     "Sparks or crackles when agitated",     "Leaves scorch marks when upset",
    "Frost forms nearby when angry",     "Plants grow near them when calm",     "Small tremors when stressed",     "Phases through things accidentally",     "Floats when relaxed or sleeping",
    "Size fluctuates with emotion",     "Form destabilizes when stressed",     "Purrs when content",     "Growls when threatened",     "Hisses when angry",
    "Chirps or trills when happy",     "Ears swivel toward sounds",     "Ears flatten when upset",     "Pupils dilate dramatically with emotion",     "Sheds scales/feathers/fur seasonally",
    "Needs to bask in sun for energy",     "Nocturnal sleep patterns",     "Nests or burrows when sleeping",     "Territorial marking behavior",     "Instinctive prey-chasing response",
    "Freezes completely when frightened (prey response)"
    ]
  },

  identifying: {
    general: [
    "Scar across face",     "Scar on forehead",     "Scar through eyebrow",     "Scar across eye",     "Scar on cheek",
    "Scar across nose",     "Scar on chin",     "Scar across lips",     "Scar on neck",     "Scar across throat",
    "Scar on shoulder",     "Scar on chest",     "Scar across back",     "Scars down spine",     "Scar on forearm",
    "Scar on wrist",     "Scars on hands",     "Scars on knuckles",     "Scar on leg",     "Scar on torso",
    "Scar on abdomen",     "Thin clean scar",     "Thick raised scar",     "Keloid scar",     "Surgical scar",
    "Stitch mark scars",     "Burn scar",     "Chemical burn scar",     "Brand mark scar",     "Bite scar",
    "Claw mark scars",     "Slash scar",     "Stab wound scar",     "Bullet wound scar",     "Shrapnel scars",
    "Jagged poorly-healed scar",     "Old faded scar",     "Fresh pink scar",     "Puckered scar",     "X-shaped scar",
    "Star-shaped scar",     "Web of many small scars",     "Network of crossing scars",     "One large dramatic scar",     "Many scattered scars",
    "Parallel scars",     "Defensive wound scars on forearms",     "Fighting scars",     "Childhood accident scar",     "Half face scarred",
    "Both hands scarred",     "Forearms covered in scars",     "Back completely scarred",     "Full body scarring",     "Minimal scarring",
    "Lightning-pattern Lichtenberg scars (from electrocution)",     "Ritual scarification patterns",     "Decorative intentional scarring",     "Whip or lash scars on back",     "Birthmark on face",
    "Birthmark on neck",     "Birthmark on shoulder",     "Birthmark on arm",     "Birthmark on back",     "Birthmark on chest",
    "Small birthmark",     "Large birthmark",     "Port wine stain",     "Café au lait spot",     "Raised birthmark",
    "Flat birthmark",     "Shaped birthmark (resembles something recognizable)",     "Map-like birthmark",     "Beauty mark above lip",     "Mole on cheek",
    "Mole on chin",     "Mole on neck",     "Mole on shoulder",     "Prominent raised mole",     "Multiple facial moles",
    "Constellation pattern of moles",     "Distinguished beauty mark",     "Face covered in freckles",     "Freckles across nose and cheeks only",     "Freckles everywhere",
    "Heavy dense freckles",     "Light sparse freckles",     "Seasonal freckles (appear in sun)",     "Freckles on shoulders and arms",     "Freckles on back and chest",
    "Dark freckles",     "Faded freckles",     "Face tattoo",     "Neck tattoo",     "Full sleeve tattoo",
    "Half sleeve tattoo",     "Forearm tattoo",     "Hand tattoos",     "Knuckle tattoos",     "Finger tattoos",
    "Chest piece tattoo",     "Full back piece",     "Spine tattoo",     "Rib tattoo",     "Shoulder tattoo",
    "Thigh tattoo",     "Full leg sleeve",     "Ankle tattoo",     "Wrist tattoo",     "Tribal style tattoo",
    "Traditional (old school) tattoo",     "Japanese irezumi style",     "Photorealistic tattoo",     "Blackwork tattoo",     "Dotwork tattoo",
    "Fine line tattoo",     "Bold line tattoo",     "Geometric tattoo",     "Watercolor style tattoo",     "Biomechanical tattoo",
    "Black and gray tattoo",     "Full color tattoo",     "Minimalist tattoo",     "Heavily detailed tattoo",     "Stick and poke tattoo",
    "Prison tattoo",     "Professional high-quality tattoo",     "Amateur rough tattoo",     "Faded old tattoo",     "Fresh vibrant tattoo",
    "Cover-up tattoo",     "Meaningful personal tattoo",     "Impulse regret tattoo",     "Matching tattoo with someone",     "Sleeve that tells a story",
    "Dragon tattoo",     "Snake tattoo",     "Wolf tattoo",     "Tiger or lion tattoo",     "Bird tattoo",
    "Phoenix tattoo",     "Skull tattoo",     "Rose or flower tattoo",     "Tree tattoo",     "Compass or nautical tattoo",
    "Anchor tattoo",     "Crown tattoo",     "Heart tattoo",     "Dagger or sword tattoo",     "Flames tattoo",
    "Stars tattoo",     "Moon tattoo",     "Sun tattoo",     "Religious symbol tattoo",     "Angel or wings tattoo",
    "Clock or hourglass tattoo",     "Infinity or ouroboros tattoo",     "Yin yang tattoo",     "Koi fish tattoo",     "Cherry blossom tattoo",
    "Celtic knot tattoo",     "Runes or ancient symbols tattoo",     "Barbed wire tattoo",     "Tribal patterns tattoo",     "Portrait tattoo of someone",
    "Coordinates or location tattoo",     "Fandom or pop culture tattoo",     "Music-related tattoo",     "Science or formula tattoo",     "Literary quote tattoo",
    "Eyebrow piercing",     "Bridge piercing",     "Nostril piercing",     "Septum piercing",     "Double nostril piercings",
    "Lip piercing",     "Labret piercing",     "Snake bite lip piercings",     "Monroe piercing",     "Medusa piercing",
    "Cheek piercings",     "Tongue piercing",     "Standard lobe piercings",     "Multiple lobe piercings",     "Stretched earlobes (gauges)",
    "Helix piercing",     "Industrial piercing",     "Tragus piercing",     "Rook piercing",     "Daith piercing",
    "Conch piercing",     "Full ear with many piercings",     "Belly button piercing",     "Nipple piercings",     "Surface piercings",
    "Dermal anchor piercings",     "Nape piercing",     "Extra finger (polydactyly)",     "Missing finger",     "Webbed fingers",
    "Extra toe",     "Missing toe",     "Cleft lip (repaired)",     "Lazy eye",     "Heterochromia (different colored eyes)",
    "Differently sized pupils (anisocoria)",     "Vitiligo",     "Albinism",     "Prominent protruding ears",     "Missing ear",
    "Cauliflower ears (from fighting)",     "Missing limb",     "Curved visible spine (scoliosis)",     "Crooked previously-broken nose",     "Missing teeth",
    "Gold teeth",     "Dental grill",     "Gap between front teeth",     "Branded mark (from branding iron)",     "Frostbite scars",
    "Lightning strike scar",     "Perfectly circular scar",     "Unusually shaped scar",     "Tattoo removal scarring",     "Ritual or ceremonial markings",
    "Permanent face paint or markings",     "Permanent skin dye or staining",     "Uneven skin tone",     "Two-tone skin",     "Patchy pigmentation",
    "Streak of white hair",     "Gray streak in hair",     "Natural streak of different colored hair",     "Bald patches (alopecia)",     "Unusual hairline pattern",
    "Widow's peak",     "No body hair at all",     "Excessive body hair",     "Hair growing in unusual pattern"
    ],
    mha: [
    "Scales in unique fingerprint-like pattern",     "Color-changing scale patches",     "Iridescent scales",
    "Metallic sheen to skin",     "Pearlescent skin",     "Bioluminescent patterns on skin",
    "Glowing quirk activation marks",     "Luminous birthmarks that react to quirk use",     "Quirk-related scarring",
    "Scars from quirk overuse",     "Scars from quirk awakening",     "Burn scars from a fire-type quirk",
    "Frostbite patterns from an ice-type quirk",     "Electrical Lichtenberg scars from a lightning quirk",     "Permanent discoloration from chemical quirk exposure",
    "Skin hardened or textured by a defensive quirk",     "Veins that glow when quirk is active",     "Marks that appear only when quirk activates",
    "Cracks or fractures in skin from a hardening quirk",     "Animal-pattern markings (stripes, spots, rosettes)",     "Tiger stripe markings",
    "Leopard spot markings",     "Reptilian scale pattern across body",     "Feather-pattern skin markings",
    "Fur color patches that form unique patterns",     "Horn growth rings (like tree rings, showing age)",     "Tail scarring from childhood accidents",
    "Wing molt patterns",     "Shed scale patches revealing new color underneath",     "Unique ear shape distinguishing from similar mutation types",
    "Heterochromatic mutation markings (different colors on different body parts)",     "Scars from a famous villain encounter",     "Battle damage scarring",
    "Support gear contact marks (where equipment presses against skin)",     "Costume tan lines from hero suit",     "Calluses shaped by specific weapon use",
    "Chemical staining from support gear maintenance",     "Branding or mark from a villain organization",     "Hero license tattoo or ID marking",
    "Training scars from quirk development",     "Scars from rescue operations",     "Burns from a hero/villain with a fire quirk",
    "Impact crater scars from a strength-type quirk hit",     "Crystalline growths on body from quirk buildup",     "Gem-like formations embedded in skin",
    "Metal deposits visible under skin from a metal quirk",     "Bark-textured patches from a plant-based quirk",     "Permanent plant growth on skin from a nature quirk",
    "Vine-like patterns where quirk energy flows",     "Frost patterns that never fully fade",     "Permanent static charge visible as hair standing on end",
    "Shadow-stained skin from a dark-type quirk",     "Light-bleached patches from an emitter quirk",     "Erosion or weathering marks from an elemental quirk",
    "Circuitry-like patterns under skin from an energy quirk",     "Visible quirk energy lines across body",     "Residual glow from a light-producing quirk",
    "Constellation-like pattern of glowing spots",     "Star-map birthmarks unique to their mutation",     "Binary or digital-looking marks from a tech-based quirk",
    "Glitch-like visual artifacts on skin (from a reality-warping quirk)",     "Data-stream patterns visible under skin"
    ]
  },
  hygiene: {
    good: [
      "Impeccably clean at all times",       "Germaphobe-level obsessive cleanliness",       "Compulsively cleans themselves",       "Showers twice daily without fail",       "Daily shower, strict routine",
      "Showers after any physical activity",       "Meticulous hair care routine",       "Washes and styles hair daily",       "Hair always looks perfect",       "Uses expensive hair products religiously",
      "Gets professional haircuts regularly",       "Healthy well-maintained hair",       "Brushes teeth religiously (twice daily, flosses, mouthwash)",       "Flosses daily",       "Always has fresh breath",
      "Bright white well-maintained teeth",       "Regular dental checkups",       "Perfectly manicured nails always",       "Nails are clean and trimmed",       "Gets professional manicures/pedicures",
      "Long well-maintained nails",       "Elaborate multi-step skincare routine",       "Wears sunscreen religiously",       "Always removes makeup thoroughly",       "Uses expensive serums and treatments",
      "Moisturizes regularly",       "Treats skin problems proactively",       "Moisturizes entire body daily",       "Maintains body hair carefully",       "Immaculately groomed at all times",
      "Looks polished and refined",       "High-maintenance grooming routine",       "Always smells amazing",       "Has a signature fragrance",       "Subtle pleasant fragrance",
      "Smells clean — like soap and laundry",       "Fresh clean outfit every single day",       "Clothes are always pressed and wrinkle-free",       "Takes excellent care of clothing",       "Clothes always smell like fresh laundry",
      "Organized closet — everything has its place"
    ],
    bad: [
      "Rarely bothers with hygiene",       "Perpetually dirty or grimy",       "Could stand to shower more often",       "Survival-level hygiene only",       "Only cleans up for special occasions",
      "Showers a few times a week at best",       "Rarely showers or bathes",       "Forgets to bathe regularly",       "Hates getting wet — avoids bathing",       "Bathes only when they start to smell",
      "Rarely washes hair (greasy look)",       "Never washes hair — believes in natural oils",       "Never styles hair — whatever it does is fine",       "Hair always looks like they just woke up",       "Tangled messy hair from never brushing",
      "Cuts own hair (with mixed results)",       "Hair is clearly damaged from neglect",       "Greasy hair",       "Dry frizzy hair",       "Brushes once a day if they remember",
      "Brushes sometimes at best",       "Rarely brushes teeth",       "Has never flossed in their life",       "Chronic bad breath",       "Bad breath they\'re unaware of",
      "Yellow or stained teeth from poor care",       "Avoids the dentist at all costs",       "Bitten-down nails",       "Dirt perpetually under fingernails",       "Nails are cracked or broken",
      "Never does anything with nails",       "Neglects toenails entirely",       "Washes face with whatever soap is nearby",       "No skincare routine whatsoever",       "Has never used sunscreen",
      "Sleeps in makeup regularly",       "Never moisturizes — perpetually dry/ashy skin",       "Ignores all skin issues",       "Never uses lotion",       "Natural body hair — no removal or maintenance",
      "Clearly doesn\'t try",       "Scruffy and unkempt",       "Looks rough around the edges",       "Noticeable body odor",       "Strong body odor they\'ve gone nose-blind to",
      "Forgets deodorant frequently",       "Wears no fragrance — and probably should",       "Smells perpetually of cigarette smoke",       "Smells like whatever they last ate",       "Overpowering cheap fragrance",
      "Rewears clothes if they pass the sniff test",       "Wears the same outfit multiple days in a row",       "Clothes are perpetually wrinkled",       "Visible stains on clothes regularly",       "Ruins clothes quickly through neglect",
      "Clothes smell like mildew (forgot in the washer)",       "Has a floordrobe instead of a wardrobe",       "Can\'t tell clean clothes from dirty",       "Washes clothes way too infrequently"
    ],
    neutral: [
      "Generally clean and presentable",       "Clean enough — gets the job done",       "Situationally clean (depends on context)",       "Clean in public but messy in private",       "Showers every other day",
      "Quick five-minute showers",       "Hour-long showers (wastes all the hot water)",       "Takes freezing cold showers",       "Scalding hot showers only",       "Prefers long hot baths over showers",
      "Loves water — showers are meditative",       "Washes hair every few days",       "Basic shampoo, nothing else",       "Dry shampoo between washes",       "Styles hair carefully every day",
      "Never uses heat — air dries only",       "Heat styles daily (straightener, curler)",       "Brushes twice a day, no extras",       "Constantly chewing gum or mints",       "Nails are functional — trimmed when needed",
      "Paints nails regularly",       "Basic wash-and-moisturize routine",       "Only moisturizes hands and face",       "Inconsistent body hair maintenance",       "Razor bumps and ingrown hairs from hasty grooming",
      "Somewhat put-together",       "Low-maintenance — minimum effort",       "Well-groomed when it matters, messy otherwise",       "Wears too much cologne/perfume",       "Wears no fragrance — natural scent only",
      "Sweats heavily — needs strong deodorant",       "Barely sweats — rarely smells",       "Reapplies deodorant throughout the day",       "Smells like their workplace (smoke, grease, chemicals, etc.)",       "Smells like their hobbies (paint, motor oil, cooking, etc.)",
      "Smells like their pets",       "Fragrance fades by midday",       "Overwashes clothes (they fade fast)",       "Piles of dirty laundry everywhere but person is clean"
    ]
  },
  eyeDescriptor: {
    shape: [
      "Almond-shaped",       "Round",       "Hooded",       "Deep-set",       "Protruding",
      "Close-set",       "Wide-set",       "Upturned",       "Downturned",       "Monolid",
      "Heavy-lidded",       "Doe-like",       "Cat-like",       "Fox-like",       "Narrow",
      "Angular",       "Soft",       "Large",       "Small",       "Sleepy"
    ],
    quality: [
      "Piercing",       "Intense",       "Soft",       "Gentle",       "Kind",
      "Cold",       "Warm",       "Sharp",       "Bright",       "Sparkling",
      "Glittering",       "Shimmering",       "Luminous",       "Vivid",       "Muted",
      "Clear",       "Cloudy",       "Glassy",       "Watery",       "Tired",
      "Alert",       "Keen",       "Watchful",       "Guarded",       "Wary",
      "Trusting",       "Innocent",       "Wise",       "Haunted",       "Sad",
      "Melancholy",       "Joyful",       "Cheerful",       "Amused",       "Playful",
      "Mischievous",       "Cunning",       "Calculating",       "Intelligent",       "Thoughtful",
      "Contemplative",       "Dreamy",       "Distant",       "Vacant",       "Hollow",
      "Lifeless",       "Lively",       "Expressive",       "Passionate",       "Fiery",
      "Smoldering",       "Icy",       "Calm",       "Serene",       "Stormy",
      "Wild",       "Fierce",       "Predatory",       "Dangerous",       "Commanding",
      "Vulnerable",       "Steady",       "Determined",       "Steely",       "Unyielding",
      "Fearful",       "Brave",       "Bold",       "Shy",       "Flirtatious",
      "Sultry",       "Welcoming",       "Hostile",       "Flinty",       "Stony",
      "Mesmerizing",       "Hypnotic",       "Captivating",       "Striking",       "Stunning",
      "Forgettable",       "Distinctive"
    ],
    color: [
      "Pale blue",       "Sky blue",       "Cerulean",       "Azure",       "Sapphire blue",
      "Cobalt blue",       "Royal blue",       "Navy blue",       "Deep blue",       "Steel blue",
      "Ice blue",       "Electric blue",       "Stormy blue",       "Ocean blue",       "Aquamarine",
      "Pale green",       "Bright green",       "Emerald green",       "Jade green",       "Sea green",
      "Forest green",       "Olive green",       "Moss green",       "Sage green",       "Light brown",
      "Dark brown",       "Chocolate brown",       "Golden brown",       "Honey brown",       "Amber brown",
      "Chestnut brown",       "Warm brown",       "Rich brown",       "Hazel",       "Golden hazel",
      "Green hazel",       "Amber hazel",       "Light gray",       "Dark gray",       "Slate gray",
      "Steel gray",       "Silver gray",       "Stormy gray",       "Blue-gray",       "Amber",
      "Golden",       "Honey",       "Copper",       "Tawny",       "Black",
      "Jet black",       "Obsidian",       "Red",       "Crimson",       "Ruby red",
      "Violet",       "Purple",       "Amethyst",       "Orange",       "White",
      "Milky",       "Silver",       "Color-changing",       "Heterochromatic (two different colors)",       "Sectoral heterochromia (partial color split)",
      "Central heterochromia (ring of different color)"
    ]
  },
  hairDescriptor: {
    style: [
      "Bald",       "Shaved",       "Buzzed",       "Very short",       "Short",
      "Cropped",       "Chin-length",       "Shoulder-length",       "Medium",       "Chest-length",
      "Long",       "Very long",       "Waist-length",       "Hip-length",       "Floor-length",
      "Pixie cut",       "Bob cut",       "Layered",       "Choppy",       "Shaggy",
      "Asymmetrical",       "Undercut",       "Shaved sides",       "Fade",       "Mohawk",
      "Mullet",       "Loose and flowing",       "Messy and tousled",       "Windswept",       "Slicked back",
      "Pushed back",       "Side-swept",       "In a bun",       "In a messy bun",       "In a top knot",
      "High ponytail",       "Low ponytail",       "In braids",       "In a single braid",       "In pigtails",
      "French braided",       "In cornrows",       "In box braids",       "In dreadlocks",       "In twists",
      "Half-up half-down",       "Pinned back",       "With blunt bangs",       "With curtain bangs",       "With side-swept bangs",
      "With wispy bangs"
    ],
    texture: [
      "Straight",       "Pin-straight",       "Slightly wavy",       "Wavy",       "Beach-waved",
      "Curly",       "Tight curls",       "Ringlets",       "Coily",       "Kinky",
      "Silky",       "Smooth",       "Soft",       "Coarse",       "Wiry",
      "Fine",       "Thick",       "Frizzy",       "Flyaway",       "Glossy",
      "Shiny",       "Dull",       "Greasy",       "Dry",       "Brittle",
      "Fluffy",       "Bouncy",       "Limp",       "Voluminous",       "Flat",
      "Wild",       "Unruly",       "Sleek",       "Tousled",       "Healthy",
      "Damaged",       "Well-maintained",       "Neglected",       "Tangled"
    ],
    color: [
      "Platinum blonde",       "Ice blonde",       "Ash blonde",       "Golden blonde",       "Honey blonde",
      "Strawberry blonde",       "Dirty blonde",       "Sandy blonde",       "Light brown",       "Medium brown",
      "Dark brown",       "Chestnut",       "Chocolate brown",       "Coffee brown",       "Caramel",
      "Auburn",       "Black",       "Jet black",       "Blue-black",       "Soft black",
      "Red",       "Ginger",       "Copper",       "Burgundy",       "Cherry red",
      "Rust",       "Cinnamon",       "Gray",       "Silver",       "Salt-and-pepper",
      "Prematurely gray",       "White",       "Snow white",       "Dyed blue",       "Dyed green",
      "Dyed purple",       "Dyed pink",       "Dyed red",       "Dyed orange",       "Dyed teal",
      "Pastel-colored",       "Neon-colored",       "Rainbow",       "Two-toned",       "Ombre (light to dark)",
      "Balayage highlights",       "Streaked with color",       "Tips dyed",       "With grown-out roots"
    ]
  },
  intellectual: {
    learningStyle: [
      "Visual learner — needs to see it to understand it",
      "Auditory learner — absorbs information through listening",
      "Kinesthetic learner — has to physically do it to learn",
      "Learns best by reading and writing",
      "Learns by watching others first",
      "Learns through trial and error",
      "Learns by teaching others",
      "Learns through discussion and debate",
      "Needs repetition to retain information",
      "Learns through immersion — throw them in the deep end",
      "Self-directed learner — teaches themselves everything",
      "Needs structured instruction with clear steps",
      "Collaborative learner — thinks best with others",
      "Competitive learner — needs rivalry to engage",
      "Requires hands-on experimentation"
    ],
    thinkingPattern: [
      "Linear thinker — follows logical A-to-B-to-C chains",
      "Lateral thinker — approaches problems sideways",
      "Abstract thinker — comfortable with theoretical concepts",
      "Concrete thinker — needs tangible real-world examples",
      "Big-picture thinker — sees the forest, misses the trees",
      "Detail-oriented thinker — sees the trees, misses the forest",
      "Systems thinker — sees how everything connects",
      "Compartmentalizes — keeps thoughts in neat separate boxes",
      "Stream-of-consciousness thinker — thoughts flow associatively",
      "Sees patterns everywhere (sometimes where there aren't any)",
      "Overthinks everything to paralysis",
      "Black-and-white thinker — struggles with nuance",
      "Nuanced thinker — sees gray areas in everything",
      "Thinks in metaphors and analogies",
      "Very literal thinker — takes things at face value",
      "Connects disparate ideas others wouldn't link",
      "Single-track mind — can only hold one thread at a time",
      "Parallel processor — juggles multiple thought threads"
    ],
    problemSolving: [
      "Methodical problem-solver — step by step",
      "Intuitive problem-solver — goes with gut feeling",
      "Analytical approach — breaks everything into data",
      "Creative problem-solver — finds novel unconventional solutions",
      "Research-first approach — won't start until fully informed",
      "Trial-and-error approach — just tries things until something works",
      "Plans extensively before acting",
      "Jumps right in and figures it out as they go",
      "Collaborative problem-solver — seeks input from others",
      "Solo problem-solver — figures it out alone",
      "Evidence-based decision-maker",
      "Goes with gut instinct over data",
      "Iterative approach — refines solutions through multiple passes",
      "First answer is always their final answer",
      "Questions every assumption before proceeding",
      "Accepts things at face value and moves on"
    ],
    memory: [
      "Photographic memory — remembers visual details exactly",
      "Excellent long-term memory but poor short-term",
      "Strong short-term memory but forgets over time",
      "Selective memory — remembers what interests them, forgets the rest",
      "Terrible memory for names but remembers every face",
      "Remembers faces perfectly but forgets every name",
      "Remembers numbers and dates with ease",
      "Cannot remember numbers to save their life",
      "Emotional memory — remembers how things felt, not the details",
      "Procedural memory — remembers how to DO things, not facts",
      "Memory triggered by smells or music",
      "Unreliable memory — confident in false recollections",
      "Foggy memory — everything is vague and approximate",
      "Remembers everything they've ever read",
      "Forgets conversations almost immediately",
      "Tip-of-the-tongue syndrome constantly"
    ],
    processingSpeed: [
      "Lightning-fast thinker",
      "Slow and deliberate processor",
      "Quick on the uptake — grasps things instantly",
      "Needs time to process — understanding comes later",
      "Thinks on their feet easily",
      "Needs time alone to think before responding",
      "Racing thoughts — mind never stops",
      "Measured careful thoughts — each one deliberate",
      "Quick learner — picks things up on the first try",
      "Slow study — needs many exposures but retention is deep",
      "Impulsive thinker — blurts out first thought"
    ],
    attention: [
      "Hyperfocus capable — loses hours to one task",
      "Sustained laser focus for long periods",
      "Short attention span — jumps between topics",
      "Easily distracted by anything novel",
      "Hard to distract once locked in",
      "Scattered attention — monitors everything at once",
      "Tunnel vision — blocks out everything else",
      "Daydreams constantly — mind wanders freely",
      "Extremely present and mindful",
      "Absent-minded — sharp mind but forgets where they put things",
      "Notices tiny details others miss",
      "Misses obvious things right in front of them",
      "Needs silence to concentrate",
      "Focuses better with background noise or chaos",
      "Achieves flow state easily",
      "Cannot achieve flow — constantly self-interrupting"
    ],
    cognitiveStrength: [
      "Exceptional pattern recognition",
      "Strong spatial reasoning",
      "Powerful logical reasoning",
      "Gifted verbal and linguistic ability",
      "Natural mathematical ability",
      "Musical intelligence — thinks in rhythms and patterns",
      "Strong emotional intelligence — reads people effortlessly",
      "High social intelligence — navigates group dynamics naturally",
      "Practical intelligence — street smart",
      "Strategic thinking — always planning several moves ahead",
      "Strong critical thinking skills",
      "Synthesizes information from multiple sources easily",
      "Excellent at simplifying complex ideas",
      "Grasps complex systems intuitively",
      "Predicts people's behavior accurately",
      "Reads between the lines — catches subtext easily",
      "Visualizes complex things clearly in their mind",
      "Strong sense of direction and spatial awareness",
      "Natural troubleshooter"
    ],
    cognitiveWeakness: [
      "Struggles with abstract concepts",
      "Poor spatial awareness — gets lost easily",
      "Difficulty with numbers and math",
      "Struggles to read social cues",
      "Poor at explaining their own thoughts",
      "Cannot simplify complex ideas for others",
      "Misses subtext and implications",
      "Poor at predicting consequences of actions",
      "Struggles with long-term planning",
      "Difficulty distinguishing correlation from causation",
      "Takes everything literally — misses figurative language",
      "Overgeneralizes from single experiences",
      "Cannot prioritize — everything feels equally important",
      "Struggles with ambiguity — needs clear answers",
      "Poor theory of mind — can't see others' perspectives easily",
      "Difficulty transferring skills from one domain to another"
    ],
    curiosity: [
      "Insatiably curious about everything",
      "Selectively curious — deep interest in specific topics",
      "Asks questions constantly — always wants to know why",
      "Completely indifferent to learning",
      "Reads voraciously — always has a book",
      "Never reads unless forced",
      "Deep-dives obsessively into topics",
      "Surface-level interest only — moves on quickly",
      "Renaissance mind — interested in everything",
      "Specialist — knows one thing deeply and doesn't care about the rest",
      "Autodidact — taught themselves everything they know",
      "Only learns when required to",
      "Seeks knowledge for its own sake",
      "Only interested in practical useful knowledge",
      "Challenges assumptions and conventional wisdom",
      "Accepts what they're told without questioning"
    ],
    comprehension: [
      "Grasps new concepts almost instantly",
      "Needs multiple explanations from different angles",
      "Understands intuitively — can't explain how they know",
      "Must reason through every step explicitly",
      "Contextual understanding — gets it in context but not isolation",
      "Literal understanding — needs things spelled out exactly",
      "Deep comprehension — truly understands underlying principles",
      "Surface understanding — gets the gist but not the depth",
      "Dunning-Kruger tendency — overestimates own understanding",
      "Imposter syndrome — underestimates own knowledge",
      "Knows what they don't know",
      "Doesn't know what they don't know"
    ],
    flexibility: [
      "Mentally flexible — adapts thinking readily",
      "Mentally rigid — set in their ways",
      "Changes mind easily with new evidence",
      "Almost never changes their mind",
      "Growth mindset — believes abilities can be developed",
      "Fixed mindset — believes abilities are innate",
      "Open to radically new ideas",
      "Resistant to ideas that challenge existing beliefs",
      "Breaks out of thinking patterns easily",
      "Stuck in mental ruts — same approaches every time",
      "Comfortable with uncertainty and ambiguity",
      "Needs certainty and clear answers to function",
      "Forward-thinking — always looking ahead",
      "Backward-looking — relies on past experience and tradition"
    ],
    creativity: [
      "Artistic creativity — expressive and aesthetic",
      "Scientific creativity — innovative hypotheses and experiments",
      "Practical creativity — finds clever real-world solutions",
      "Inventive — comes up with truly original ideas",
      "Derivative — combines and remixes existing ideas well",
      "Not particularly creative",
      "Creative but can't execute their ideas",
      "Great executor but needs others' ideas to work from"
    ],
    mentalStamina: [
      "Can sustain deep thought for hours",
      "Mental stamina runs out quickly — needs frequent breaks",
      "Hyperfocus endurance — can think through marathon sessions",
      "Burns out fast under cognitive load",
      "Thinks best in short intense bursts",
      "Slow burn thinker — builds momentum over time"
    ]
  },
  bodyShape: {
    realistic: [
      // General frames
      "Ectomorph (narrow, lean frame)", "Mesomorph (naturally muscular)", "Endomorph (wide, soft frame)",
      // Silhouettes
      "Hourglass", "Pear-shaped (wider hips)", "Apple-shaped (wider torso)", "Rectangle (straight up and down)", "Inverted triangle (broad shoulders, narrow hips)", "Spoon-shaped (wider hips than bust with defined waist)", "Diamond (narrow shoulders, wide midsection, narrow hips)",
      // Athletic builds
      "Athletic build", "Swimmer's build (broad shoulders, long torso)", "Runner's build (lean, long-limbed)", "Gymnast's build (compact, muscular)", "Powerlifter build (thick, barrel-chested)", "Wrestler's build (dense, low center of gravity)", "Dancer's build (lean, flexible, long-limbed)", "Martial artist build (wiry, fast)", "Linebacker build (massive upper body)",
      // Weight distribution
      "Top-heavy", "Bottom-heavy", "Evenly distributed weight", "Carries weight in midsection", "Carries weight in thighs and hips",
      // Proportions
      "Long-legged", "Short-legged / long torso", "Long-armed", "Short-armed", "Broad-shouldered", "Narrow-shouldered", "Wide-hipped", "Narrow-hipped", "Long neck", "No visible neck", "Barrel-chested", "Flat-chested", "Deep-chested", "Broad-backed",
      // Size descriptors
      "Petite (small all over)", "Compact and sturdy", "Lanky / gangly", "Willowy (tall and slender)", "Stocky", "Burly", "Heavyset", "Beanpole", "Wiry", "Husky", "Brawny", "Rotund", "Gaunt", "Reedy", "Rangy", "Thick-set", "Slight", "Statuesque",
      // Misc anatomical
      "Large hands", "Small hands", "Big feet", "Small feet", "Pronounced collarbone", "Visible ribs", "Thick wrists/ankles", "Dainty wrists/ankles", "Wide ribcage", "Narrow ribcage", "High waist", "Low waist", "Long fingers", "Stubby fingers", "Prominent Adam's apple", "No visible Adam's apple"
    ],
    anime: [
      // Classic anime body types
      "Bishōnen (pretty boy, slender)", "Bishōjo (pretty girl, delicate)", "Chibi proportions (oversized head, tiny body)",
      "Shōnen protagonist build (lean but cut)", "Shōjo protagonist build (willowy, long-legged)", "JoJo-tier muscular (impossibly ripped)",
      "Moe (small, cute, round-faced)", "Ikemen (tall, chiseled, model-like)",
      // Exaggerated proportions
      "Noodle limbs (extremely thin, long limbs)", "Super deformed (SD)", "CLAMP proportions (impossibly tall and thin)",
      "Toriyama build (massive upper body, tiny waist)", "One Piece proportions (wildly exaggerated)", "Baki-tier muscle (anatomy-defying muscle definition)",
      // Size tropes
      "Tiny but terrifying (small body, immense power)", "Gentle giant (massive but soft)", "Tank (wall of muscle, no neck)",
      "Ara ara body (tall, mature, curvaceous)", "Loli/shota proportions (childlike frame, any age)", "Delinquent build (tall, broad, intimidating)",
      "Magical girl figure (petite, accentuated by transformation)", "Mecha pilot build (lean, fit, compact)",
      // Fantasy races
      "Elf-like (tall, impossibly thin, ethereal)", "Dwarf-like (short, barrel-chested, dense)", "Orc-like (massive, green-tinted, hulking)",
      "Fairy-like (tiny, delicate, weightless)", "Giant (scaled up human, towering)", "Beast-hybrid (partially animal proportions)",
      // Specific tropes
      "Pretty-boy villain (slender, angular, menacing elegance)", "Battle-scarred veteran (bulky, asymmetric from damage)",
      "Android/cyborg (partially mechanical limbs, joints visible)", "Kemonomimi (human body with animal ears/tail)",
      "Monster form (humanoid but wrong proportions)"
    ],
    kinky: [
      // Exaggerated curves
      "Extremely busty", "Extremely bottom-heavy", "Exaggerated hourglass", "Hyper-muscular", "Hyper-curvy",
      "Thicc (exaggerated hips and thighs)", "Shortstack (very short, very curvy)",
      // Size/proportion extremes
      "Amazonian (extremely tall and muscular)", "Impossibly thin waist", "Mile-long legs", "Exaggerated V-taper",
      "Macro (building-sized)", "Micro (palm-sized)",
      // Transformation/fantasy
      "Slime body (translucent, amorphous)", "Inflation body (exaggerated roundness)", "Muscle growth (beyond human limits)",
      "Multi-armed", "Multi-limbed", "Lamia (snake lower body)", "Centaur (horse lower body)", "Arachne (spider lower body)",
      "Merfolk (fish lower body)", "Harpy (wing-arms, bird legs)", "Naga (long serpentine body)",
      // Fetish archetypes
      "SSBBW/SSBHM (super-sized)", "Feeder body", "Doll-like proportions (ball-jointed aesthetic)",
      "Rubber/latex body (shiny, skin-tight)", "Pregnant", "Heavily pregnant (multiples/overdue)",
      "Bimbo/Himbo body (exaggerated everything)", "Hyper-endowed",
      // Body mod
      "Extreme piercings (many, prominent)", "Extreme tattoo coverage (80%+ body)", "Split tongue", "Subdermal implants",
      "Corset-trained waist", "Extreme body modification",
      // Other
      "Living clothing/symbiote", "Tentacle appendages", "Goo/gel body", "Crystalline body", "Floral/plant body"
    ]
  },
  physicalConditions: [
    "Chronic pain", "Chronic fatigue syndrome", "Fibromyalgia",
    "Arthritis", "Rheumatoid arthritis", "Osteoarthritis",
    "Asthma", "COPD", "Cystic fibrosis",
    "Diabetes (Type 1)", "Diabetes (Type 2)",
    "Epilepsy", "Seizure disorder",
    "Heart condition", "Heart murmur", "Arrhythmia",
    "High blood pressure", "Low blood pressure",
    "Anemia", "Sickle cell disease", "Hemophilia",
    "Lupus", "Multiple sclerosis", "Muscular dystrophy",
    "Cerebral palsy", "Spina bifida",
    "Crohn's disease", "Ulcerative colitis", "IBS (Irritable Bowel Syndrome)",
    "Celiac disease", "Lactose intolerance", "Food allergies",
    "Severe environmental allergies", "Anaphylaxis risk",
    "Eczema (chronic)", "Psoriasis (chronic)", "Vitiligo",
    "Albinism", "Alopecia",
    "Chronic migraines", "Cluster headaches",
    "Tinnitus", "Hearing loss (partial)", "Deafness",
    "Poor vision", "Legally blind", "Blind",
    "Color blindness", "Night blindness",
    "Prosthetic limb", "Missing limb (no prosthetic)",
    "Wheelchair user", "Cane/walker user", "Crutch user",
    "Paralysis (partial)", "Paralysis (full — paraplegic)", "Paralysis (full — quadriplegic)",
    "Spinal cord injury", "Nerve damage", "Neuropathy",
    "Chronic back pain", "Scoliosis", "Kyphosis",
    "Joint hypermobility (Ehlers-Danlos)", "Brittle bone disease (Osteogenesis imperfecta)",
    "Dwarfism", "Gigantism / Acromegaly",
    "Autoimmune condition (unspecified)", "Immunocompromised",
    "Cancer survivor", "In cancer treatment",
    "Organ transplant recipient", "On dialysis",
    "Sleep apnea", "Narcolepsy", "Chronic insomnia",
    "Chronic vertigo", "Balance disorder",
    "Speech impediment (physical cause — e.g. cleft palate)",
    "Tracheotomy / Voice box condition",
    "Chronic skin condition", "Burn survivor",
    "Limb difference (congenital)", "Limb difference (acquired)",
    "Clubfoot", "Flat feet (severe/painful)",
    "Tremor (essential tremor)", "Parkinson's disease",
    "Tourette's syndrome", "Tic disorder",
    "Hyperthyroidism", "Hypothyroidism",
    "PCOS (Polycystic Ovary Syndrome)", "Endometriosis",
    "Infertility", "Chronic UTIs",
    "Raynaud's phenomenon", "Circulation issues",
    "Phantom limb pain", "Complex regional pain syndrome",
    "Sensory processing disorder (physical)", "Hyperacusis (sound sensitivity)"
  ],
  mentalConditions: [
    "ADHD (primarily inattentive)", "ADHD (primarily hyperactive-impulsive)", "ADHD (combined type)",
    "Autism spectrum (low support needs)", "Autism spectrum (medium support needs)", "Autism spectrum (high support needs)",
    "Dyslexia", "Dyscalculia", "Dysgraphia", "Dyspraxia",
    "Auditory processing disorder", "Visual processing disorder",
    "Synesthesia", "Aphantasia (cannot visualize mentally)",
    "Hyperphantasia (extremely vivid mental imagery)",
    "Prosopagnosia (face blindness)",
    "SDAM (Severely Deficient Autobiographical Memory)",
    "HSAM (Highly Superior Autobiographical Memory)",
    "Intellectually gifted", "Twice exceptional (gifted + learning difference)",
    "Savant abilities in specific domain",
    "Anxiety disorder (generalized)", "Social anxiety disorder",
    "Panic disorder", "Phobia (specific)",
    "OCD (Obsessive-Compulsive Disorder)", "Body dysmorphia",
    "PTSD (Post-Traumatic Stress Disorder)", "C-PTSD (Complex PTSD)",
    "Depression (major depressive disorder)", "Persistent depressive disorder (dysthymia)",
    "Seasonal affective disorder (SAD)",
    "Bipolar I disorder", "Bipolar II disorder", "Cyclothymia",
    "Borderline personality disorder", "Antisocial personality disorder",
    "Narcissistic personality disorder", "Avoidant personality disorder",
    "Dependent personality disorder", "Schizoid personality disorder",
    "Histrionic personality disorder", "Obsessive-compulsive personality disorder",
    "Schizophrenia", "Schizoaffective disorder",
    "Dissociative identity disorder (DID)", "Dissociative amnesia",
    "Depersonalization/derealization disorder",
    "Eating disorder — anorexia nervosa", "Eating disorder — bulimia nervosa",
    "Eating disorder — binge eating disorder", "ARFID (Avoidant/Restrictive Food Intake Disorder)",
    "Selective mutism", "Stuttering / Stammering",
    "Insomnia (mental health related)", "Nightmare disorder",
    "Attachment disorder", "Reactive attachment disorder",
    "Oppositional defiant disorder", "Conduct disorder",
    "Intellectual disability (mild)", "Intellectual disability (moderate)", "Intellectual disability (severe)",
    "Traumatic brain injury (TBI) — cognitive effects",
    "Memory disorder", "Amnesia (retrograde)", "Amnesia (anterograde)",
    "Misophonia", "Maladaptive daydreaming",
    "Hoarding disorder", "Trichotillomania (hair pulling)", "Dermatillomania (skin picking)",
    "Addiction / Substance use disorder", "Gambling disorder",
    "Gender dysphoria", "Body integrity dysphoria",
    "Alexithymia (difficulty identifying emotions)",
    "Aphasia (language processing disorder)",
    "Agoraphobia", "Claustrophobia",
    "Dyscalculia", "Non-verbal learning disorder",
    "Sensory processing disorder (neurological)",
    "Executive function disorder",
    "Hyperlexia (advanced reading, difficulty with comprehension)"
  ],
  mannerisms: [
    "Eats extremely quickly — barely chews",     "Savors every single bite slowly",     "Picks at food — rearranges more than eats",
    "Always clears their plate completely",     "Takes tiny precise bites",     "Takes enormous bites",
    "Chews with mouth open",     "Cuts everything into tiny pieces before eating",     "Mixes all food together into one pile",
    "Keeps all foods strictly separated on plate",     "Eats things one at a time in order",     "Saves the best bite for last",
    "Eats the best thing first in case someone takes it",     "Smells every dish before eating it",     "Examines food closely before eating",
    "Pushes food around plate without eating much",     "Protective of their plate — guards food",     "Shares food freely with everyone",
    "Never lets anyone taste their food",     "Talks with mouth full constantly",     "Slurps soups and noodles loudly",
    "Uses sleeve as napkin",     "Holds utensils in an unusual way",     "Eats with hands whenever possible",
    "Very adventurous eater — tries everything",     "Extremely picky eater",     "Drowns everything in hot sauce",
    "Puts ketchup on everything",     "Adds salt before tasting",     "Sips drinks incredibly slowly — nurse a cup for hours",
    "Gulps drinks down immediately",     "Never finishes a drink — leaves them everywhere",     "Always has a water bottle or drink on hand",
    "Forgets to drink anything all day",     "Holds warm cups with both hands",     "Drinks everything through a straw",
    "Drinks straight from the bottle or carton",     "Uses the same mug for everything",     "Pinky out when drinking",
    "Spills drinks frequently",     "Always overfills cups",     "Shares drinks without thinking",
    "Would never share a drink",     "Walks extremely fast — people struggle to keep up",     "Leisurely slow pace — never rushes anywhere",
    "Long confident strides",     "Short quick steps",     "Stomps everywhere — announces their arrival",
    "Near-silent footsteps — sneaks up on people",     "Shuffles feet when walking",     "Bounces when walking — almost skipping",
    "Walks with a noticeable swagger",     "Marches with military precision",     "Trudges everywhere like it\'s a chore",
    "Looks down at the ground while walking",     "Looks straight ahead with tunnel vision",     "Constantly looking around at everything while walking",
    "Avoids stepping on cracks",     "Counts steps while walking",     "Follows the exact same routes every day",
    "Always takes new routes and explores",     "Bumps into things and people regularly",     "Walks close to walls and edges",
    "Sits with perfect posture",     "Slouches deeply into every seat",     "Sits on the very edge of every chair",
    "Crosses legs immediately upon sitting",     "Never crosses legs",     "Sits cross-legged in chairs",
    "Sits backwards straddling chairs",     "Kneels or sits on one leg in chairs",     "Bounces leg constantly when sitting",
    "Cannot stay seated — gets up every few minutes",     "Can sit in one place for hours without moving",     "Fidgets nonstop when seated",
    "Always chooses the same seat",     "Sprawls out taking up maximum space",     "Makes themselves as small as possible when sitting",
    "Leans back with arms behind head",     "Always leans forward engaged",     "Adjusts and readjusts seat constantly",
    "Shifts weight constantly when standing",     "Rocks back and forth on heels",     "Leans against everything — walls, counters, people",
    "Stands perfectly still like a statue",     "Hands always in pockets when standing",     "Hands on hips — power stance",
    "Arms crossed when standing",     "Stands with one hip popped out",     "Stands at attention — military bearing",
    "Fidgets constantly when standing",     "Stands on tiptoes habitually",     "Greets everyone with a big enthusiastic wave",
    "Small quiet nod of acknowledgment",     "Hugs everyone they meet",     "Firm confident handshake",
    "Limp awkward handshake",     "Bone-crushing handshake",     "Fist bumps instead of handshakes",
    "Bows slightly when greeting",     "Salutes casually",     "Remembers and uses everyone\'s name",
    "Forgets names immediately after hearing them",     "Overly enthusiastic greetings even for strangers",     "Barely acknowledges people when they arrive",
    "Cannot end a conversation — lingering goodbyes",     "Irish goodbye — disappears without saying bye",     "Announces departure formally",
    "Sneaks away without anyone noticing",     "Always makes specific follow-up plans when parting",     "Vague \'see you around\' and disappears",
    "Waves and says goodbye multiple times while leaving",     "Answers phone immediately — always available",     "Lets phone ring multiple times before answering",
    "Always checks caller ID first",     "Paces around while talking on the phone",     "Gestures with free hand even though no one can see",
    "Uses speakerphone for everything",     "Talks way too loud on the phone",     "Mumbles on the phone — hard to hear",
    "Cannot end a phone call — talks forever",     "Ends calls abruptly mid-conversation",     "Leaves extremely long rambling voicemails",
    "Leaves concise to-the-point voicemails",     "Never answers phone — always texts back instead",     "Avoids voicemails entirely",
    "Speed reader — devours books",     "Slow careful reader — savors every word",     "Skims everything — gets the gist",
    "Reads the ending first",     "Avoids spoilers at all costs",     "Reads multiple books simultaneously",
    "Must finish every book they start no matter what",     "Abandons books freely if they lose interest",     "Dog-ears pages",
    "Uses elaborate bookmark system",     "Annotates and highlights everything",     "Writes notes in margins",
    "Reads anywhere — any conditions",     "Needs perfect quiet silence to read",     "Reads while walking or eating",
    "Reads aloud under their breath",     "Cracks book spines without hesitation",     "Treats books as sacred objects — handles carefully",
    "Writes quickly in messy illegible handwriting",     "Writes slowly in neat precise handwriting",     "Beautiful calligraphic handwriting",
    "Mix of print and cursive",     "ALL CAPS writer",     "All lowercase writer",
    "Perfect grammar and spelling always",     "Terrible grammar — writes how they talk",     "Writes to think — needs to see thoughts on paper",
    "Edits obsessively — rewrites everything multiple times",     "Never edits — first draft is final draft",     "Concise writer — as few words as possible",
    "Rambling writer — buries the point",     "Types extremely fast",     "Hunt-and-peck typist",
    "Specific writing ritual (certain pen, certain place, etc.)",     "Jumps into tasks immediately without planning",     "Plans and researches extensively before starting",
    "Makes detailed to-do lists for everything",     "Never makes lists — keeps it all in their head",     "Completes every task fully before starting the next",
    "Starts many projects and finishes few",     "Perfectionist — nothing is ever good enough",     "Good-enough approach — moves on quickly",
    "Goes above and beyond what\'s asked",     "Does the absolute bare minimum",     "Takes extreme care and time with tasks",
    "Rushes through everything",     "Procrastinates until the last possible moment",     "Self-starter — doesn\'t need to be told to begin",
    "Needs external push or deadline to act",     "Works best under pressure",     "Falls apart under pressure",
    "Passionate about tasks they care about, apathetic about the rest"
  ],
  virtues: [
    "Honesty", "Integrity", "Loyalty", "Compassion", "Empathy", "Generosity", "Kindness",
    "Patience", "Humility", "Gratitude", "Forgiveness", "Courage", "Bravery", "Perseverance",
    "Resilience", "Determination", "Self-discipline", "Temperance", "Moderation", "Prudence",
    "Justice", "Fairness", "Tolerance", "Open-mindedness", "Wisdom", "Sincerity", "Authenticity",
    "Selflessness", "Altruism", "Charity", "Benevolence", "Mercy", "Grace", "Diligence",
    "Industriousness", "Reliability", "Dependability", "Trustworthiness", "Responsibility",
    "Accountability", "Respectfulness", "Courtesy", "Politeness", "Gentleness", "Tenderness",
    "Devotion", "Faithfulness", "Constancy", "Steadfastness", "Honor", "Nobility", "Chivalry",
    "Gallantry", "Magnanimity", "Optimism", "Hopefulness", "Cheerfulness", "Contentment",
    "Serenity", "Peacefulness", "Harmony", "Cooperation", "Solidarity", "Unity", "Inclusiveness",
    "Acceptance", "Understanding", "Supportiveness", "Encouragement", "Nurturing", "Protectiveness",
    "Vigilance", "Mindfulness", "Thoughtfulness", "Consideration", "Tactfulness", "Diplomacy",
    "Discretion", "Modesty", "Simplicity", "Frugality", "Resourcefulness", "Adaptability",
    "Flexibility", "Versatility", "Curiosity", "Eagerness to learn", "Creativity", "Imagination",
    "Ingenuity", "Innovation", "Originality", "Vision", "Inspiration", "Enthusiasm", "Passion",
    "Zeal", "Vitality", "Energy", "Warmth", "Approachability", "Friendliness", "Sociability",
    "Hospitality", "Welcoming nature", "Playfulness", "Humor", "Wit", "Lightheartedness",
    "Joy", "Exuberance", "Spontaneity", "Adventurousness", "Boldness", "Daring",
    "Assertiveness", "Confidence", "Self-assurance", "Poise", "Composure", "Calm under pressure",
    "Level-headedness", "Pragmatism", "Practicality", "Rationality", "Objectivity",
    "Analytical thinking", "Critical thinking", "Strategic thinking", "Foresight",
    "Preparedness", "Orderliness", "Cleanliness", "Punctuality", "Efficiency",
    "Professionalism", "Work ethic", "Dedication", "Commitment", "Tenacity",
    "Grit", "Stubbornness in a good way", "Unwavering morals", "Incorruptibility",
    "Moral clarity", "Ethical consistency", "Principled living", "Standing up for others",
    "Defending the weak", "Speaking truth to power", "Leading by example",
    "Mentoring others", "Sharing knowledge freely", "Celebrating others' successes",
    "Admitting mistakes gracefully", "Learning from failure", "Growing from criticism",
    "Forgiving without being asked", "Giving without expecting return",
    "Listening more than speaking", "Remembering the little things",
    "Keeping promises", "Following through", "Showing up when it matters",
    "Putting others first", "Making others feel seen", "Offering second chances",
    "Believing the best in people", "Remaining hopeful in dark times",
    "Finding beauty in ordinary things", "Expressing gratitude openly",
    "Apologizing sincerely", "Being present in the moment", "Loving unconditionally"
  ],

  perks: [
    "Quick learner", "Photographic memory", "Eidetic memory", "Natural leader",
    "Born negotiator", "Silver tongue", "Iron will", "Unshakable confidence",
    "Street smart", "Book smart", "Emotionally intelligent", "Incredibly perceptive",
    "Sharp intuition", "Reads people like books", "Natural athlete",
    "Graceful under pressure", "Cool in a crisis", "Creative thinker",
    "Outside-the-box strategist", "Charismatic presence", "Magnetic personality",
    "Puts people at ease instantly", "Makes friends everywhere", "Natural peacemaker",
    "Calm under fire", "Thrives under pressure", "Turns stress into motivation",
    "Bounces back from anything", "Refuses to stay down", "Adapts to any situation",
    "Survives on pure stubbornness", "Luck seems to follow them",
    "Always lands on their feet", "Finds opportunity in disaster",
    "Improvises brilliantly", "Thinks on their feet",
    "Makes snap decisions that work out", "Incredible pain tolerance",
    "Rarely gets sick", "Heals faster than average", "Functions well on little sleep",
    "Eats anything without complaint", "Sense of direction — never gets lost",
    "Perfect pitch", "Picks up languages quickly", "Ambidextrous",
    "Light on their feet", "Moves silently when they want to", "Blends into any crowd",
    "Forgettable face — useful for going unnoticed",
    "Memorable face — people always remember them", "Distinctive voice",
    "Command presence — rooms go quiet when they speak", "Intimidating when needed",
    "Disarming smile", "Infectious laughter", "Makes people feel important",
    "Genuinely curious about everyone", "Remembers names and details effortlessly",
    "Natural affinity with animals", "Natural affinity with children",
    "Natural affinity with the elderly", "Connects with outcasts and loners",
    "Sees potential in everyone", "High pain threshold", "Iron stomach",
    "Cast iron nerves", "Doesn't scare easily", "Strong spatial awareness",
    "Great sense of timing", "Comedic timing specifically", "Natural storyteller",
    "Life of the party", "Wallflower who observes everything", "Quiet strength",
    "Loud and proud energy", "Self-aware", "Knows their limits",
    "Pushes past their limits when it matters", "Inspires others to be better",
    "Finds humor in darkness", "Copes through laughter",
    "Emotional anchor for others", "Voice of reason in chaos",
    "Devil's advocate when needed", "Asks the questions no one else will",
    "Sees through lies and deception", "Reads body language fluently",
    "Poker face when needed", "Vulnerability as strength",
    "Turns weaknesses into advantages", "Makes the best of bad situations",
    "Resourceful with limited means", "MacGyver-like improvisation",
    "Survival instincts", "Danger sense", "Gut feelings that are usually right",
    "Thinks faster under stress", "Hyper-focused when interested",
    "Unusually high energy", "Unusually calm demeanor",
    "Picks up physical skills quickly", "Natural sense of rhythm",
    "Innate sense of fairness", "Can sleep anywhere",
    "Wakes at the slightest sound", "Strong immune system",
    "Fast metabolism", "High alcohol tolerance", "Naturally loud voice",
    "Naturally quiet presence", "Absorbs information like a sponge",
    "Thinks in pictures", "Thinks in systems and patterns",
    "Instinctively knows when someone is lying",
    "Reads a room the moment they walk in",
    "Naturally comforting presence", "People open up to them without knowing why"
  ],

  // Speech is handled differently — each sub-field has its own pool
  speech: {
    volume: [
      "Whisper-quiet, barely audible", "Soft-spoken and measured", "Normal conversational volume",
      "Tends to be too loud without realizing", "Projects like they're always on stage",
      "Varies wildly — whispers then suddenly yells", "Mumbles most of the time",
      "Booming voice that carries across rooms", "Deliberately quiet to make people lean in",
      "Loud when excited, quiet when serious", "Silent unless directly addressed",
      "Has to repeat themselves constantly", "Volume inappropriate for setting",
      "Shouts across rooms instead of walking over", "Indoor voice doesn't exist",
      "Whispers even when alone", "Speaks at library volume always",
      "Cannot modulate volume", "Gets quieter as they get more upset",
      "Gets louder the longer they talk", "Stadium announcer volume",
      "Perpetually sounds like they're in a library", "Voice doesn't carry at all",
      "Has to be asked to speak up constantly", "Naturally projecting voice",
      "Theater-trained projection", "Can't speak quietly even when trying",
      "Whispers secrets, normal volume for everything else",
      "Loud in public, quiet in private", "Quiet in public, loud in private",
      "Volume changes with audience size", "Softer with individuals, louder with groups",
      "Matches volume to whoever they're talking to", "Uncomfortably loud in small spaces",
      "Perfect volume control", "Speaks quietly to seem mysterious",
      "Speaks loudly to command attention", "Volume depends on confidence level",
      "Quiet when unsure, loud when confident", "Bellowing voice", "Gentle murmur",
      "Barely a whisper", "Thunderous when angry", "Mouse-quiet normally",
      "Can't hear themselves speak", "Always asks 'can you hear me?'",
      "Projects without trying", "Naturally quiet voice", "Naturally loud voice",
      "Indoor voice always", "Outdoor voice always", "Concert-level volume", "ASMR-level quiet"
    ],
    commonWords: [
      "Peppers speech with 'honestly' and 'look'", "Uses 'mate' or 'pal' for everyone",
      "Says 'right' at the end of sentences", "Overuses 'literally'",
      "Starts sentences with 'So…'", "Says 'you know what I mean?' after everything",
      "Uses old-fashioned words like 'hence' and 'thus'",
      "Curses as punctuation — every other word", "Uses 'darling' and 'dear' even for strangers",
      "Has a catchphrase they don't realize they say", "Uses 'whatever' dismissively",
      "Says 'interesting' when they don't care", "Calls everyone 'boss' or 'chief'",
      "Ends statements like questions? With upward inflection?", "Uses big words incorrectly",
      "Says 'basically' before everything", "Starts with 'I mean' constantly",
      "Uses 'like' as filler constantly", "Says 'you know' every other sentence",
      "Ends sentences with 'yeah?'", "Says 'actually' to correct people constantly",
      "Uses 'obviously' condescendingly", "Says 'to be fair' to play devil's advocate",
      "Uses 'at the end of the day' frequently", "Says 'it is what it is' dismissively",
      "Uses 'no offense but' before offensive things",
      "Says 'with all due respect' before disrespect",
      "Uses 'just saying' after rude comments", "Says 'not gonna lie' before every statement",
      "Uses 'real talk' before being serious", "Says 'honestly' when about to lie",
      "Uses 'frankly' before blunt statements", "Says 'listen' to get attention",
      "Says 'okay so' before stories", "Uses 'anyway' to change subjects",
      "Says 'moving on' abruptly", "Uses 'regardless' to dismiss",
      "Says 'nevertheless' formally", "Uses 'furthermore' pretentiously",
      "Says 'therefore' to conclude", "Says 'ergo' to sound smart",
      "Uses 'indeed' to agree", "Says 'quite' British-ly",
      "Uses 'rather' instead of 'very'", "Says 'brilliant' for everything good",
      "Uses 'lovely' frequently", "Says 'cheers' as thanks",
      "Says 'innit' at end of sentences", "Uses 'yeah no' to mean no",
      "Says 'no yeah' to mean yes", "Says 'I guess' uncertainly",
      "Uses 'I suppose' reluctantly", "Says 'perhaps' instead of maybe",
      "Uses 'perchance' archaically", "Says 'mayhaps' playfully",
      "Uses 'methinks' jokingly", "Says 'forsooth' dramatically",
      "Uses 'thou' and 'thee' playfully", "Says 'whilst' instead of while",
      "Says 'hark' to get attention", "Uses 'alas' for disappointment",
      "Says 'nay' instead of no", "Uses 'aye' instead of yes",
      "Says 'goodness gracious'", "Uses 'for crying out loud'",
      "Says 'for Pete's sake'", "Uses 'crikey' Australian-style",
      "Says 'blimey' British-ly", "Uses 'y'all' Southern US",
      "Uses 'bless your heart' Southern", "Says 'I reckon' casually",
      "Uses 'if you will' parenthetically", "Says 'as it were' to qualify",
      "Uses 'so to speak' after metaphors", "Says 'for lack of a better word'",
      "Says 'apparently' skeptically", "Uses 'supposedly' doubtfully",
      "Says 'allegedly' legally careful", "Says 'rumor has it' gossiping",
      "Uses 'word on the street'", "Says 'through the grapevine'"
    ],
    tics: [
      "Scoffs often", "Clears throat before speaking", "Laughs nervously mid-sentence",
      "Trails off without finishing thoughts", "Stutters on certain sounds",
      "Clicks tongue between sentences", "Pauses for too long before answering",
      "Repeats the last few words of others", "Sighs before every sentence",
      "Hums while thinking of what to say", "Sniffs between sentences",
      "Coughs politely to buy time", "Talks faster when nervous",
      "Goes silent mid-sentence then continues", "Makes small vocal noises like 'mm' or 'ah'",
      "Says 'um' constantly", "Says 'uh' as filler", "Uses 'er' British-style hesitation",
      "Makes 'hmm' sounds frequently", "Says 'well' to start sentences",
      "Draws out 'sooo' while thinking", "Says 'let me see' stalling",
      "Uses 'what's the word' while searching", "Says 'you know' as verbal tic",
      "Repeats words for emphasis-emphasis", "Restarts sentences multiple times",
      "Corrects themselves mid-sentence", "Interrupts themselves constantly",
      "Finishes others' sentences", "Echoes their own last words",
      "Stutters on B and P sounds", "Speech impediment on R sounds",
      "Lisp on S sounds", "Dry mouth clicking", "Tongue clicks unconsciously",
      "Lip smacking between words", "Swallows audibly while talking",
      "Gulps nervously", "Sharp inhales before speaking",
      "Exhales heavily before talking", "Breathes loudly while speaking",
      "Voice catches mid-word", "Vocal fry constantly", "Breathy voice quality",
      "Nasal quality to voice", "Gravelly voice", "Raspy undertone",
      "Hoarse-sounding always", "Voice breaks randomly", "Pitch wavers",
      "Tremor in voice", "Singsong quality involuntarily", "Musical lilt",
      "Rhythmic speech pattern", "Cadence varies wildly", "Speed fluctuates mid-sentence",
      "Accelerates when excited", "Slows down dramatically for emphasis",
      "Rushes through words", "Drags out vowels", "Clips words short",
      "Drops endings off words", "Swallows syllables", "Mumbles consonants",
      "Slurs words together", "Enunciates too precisely", "Over-articulates everything",
      "Emphasizes wrong syllables", "Monotone until end of sentence",
      "Pitch rises at end (upspeak)", "Vocal fry at sentence ends",
      "Fades out at sentence end", "Gets quieter as sentence progresses",
      "Emphasis on random words", "No emphasis at all", "Flat delivery",
      "Robotic cadence", "Halting speech", "Choppy delivery",
      "Run-on sentences always", "Speaks in one long breath",
      "Takes breaks mid-word", "Pauses at odd places",
      "Runs out of breath", "Gasps for air mid-sentence", "Talks until breathless"
    ],
    emotion: [
      "Voice cracks when upset", "Goes completely monotone when angry",
      "Gets louder the more emotional they are", "Goes silent when truly furious",
      "Voice shakes when lying", "Laughs when nervous or scared",
      "Speech becomes formal under pressure", "Slurs words when exhausted",
      "Pitch rises when excited", "Becomes clipped and curt when hurt",
      "Talks faster when passionate", "Whispers when saying something important",
      "Voice drops an octave when serious", "Speaks in fragments when overwhelmed",
      "Becomes overly articulate when angry", "Stutters when anxious",
      "Smooth talker when confident", "Voice softens when sad",
      "Gets squeaky when panicked", "Deepens voice when trying to intimidate",
      "Higher pitch when happy", "Lower pitch when depressed",
      "Monotone when dissociating", "Animated when enthusiastic",
      "Flat affect when numb", "Expressive when feeling safe",
      "Guarded tone when threatened", "Warm tone when comfortable",
      "Cold tone when defensive", "Harsh when protective",
      "Gentle when vulnerable", "Firm when determined",
      "Wavering when uncertain", "Steady when resolved",
      "Shaky when afraid", "Strong when brave despite fear",
      "Breathless when attracted", "Breathy when flirting",
      "Strained when jealous", "Choked when grieving",
      "Breaks when crying", "Laughs through tears",
      "Giggles when uncomfortable", "Nervous laughter constantly",
      "Inappropriate laughter when stressed", "Calm before the storm when furious",
      "Deadly quiet when enraged", "Whisper-yelling when angry",
      "Hissing when mad", "Snarling when aggressive",
      "Purring when pleased", "Humming when happy",
      "Bouncy when excited", "Rapid-fire when enthusiastic",
      "Mile-a-minute when passionate", "Slow and measured when trying to stay calm",
      "Carefully controlled when barely holding it together",
      "Precise when fighting emotion", "Clinical when detaching",
      "Robotic when shutting down", "Hollow when depressed",
      "Lifeless when defeated", "Resigned when giving up",
      "Bitter when resentful", "Venomous when vindictive",
      "Sweet when manipulating", "Honey-toned when lying smoothly",
      "Sickly sweet when hiding anger", "Dripping with sarcasm always",
      "Mocking when contemptuous", "Condescending when superior",
      "Patronizing when talking down", "Humble when embarrassed",
      "Sheepish when caught", "Guilty tone when ashamed",
      "Defensive when accused", "Aggressive when cornered",
      "Submissive when intimidated", "Bold when brave",
      "Confident when certain", "Uncertain when doubting",
      "Bored when uninterested", "Exasperated when frustrated",
      "Relaxed when at ease", "Tense when stressed",
      "Forced when pretending", "Genuine when authentic",
      "Raw when honest", "Unfiltered when vulnerable",
      "Guarded when protecting self", "Open when trusting"
    ],
    swearing: [
      "Never swears — finds it vulgar", "Rarely swears, only when truly upset",
      "Moderate — swears casually but not excessively", "Swears like a sailor",
      "Invents their own curse words", "Only swears in another language",
      "Swears constantly but somehow makes it charming", "Uses archaic or unusual oaths",
      "Apologizes immediately after swearing", "Only swears around close friends",
      "Replaces swear words with euphemisms", "Swears under their breath only",
      "Swears at objects, never people", "Swears at people, not objects",
      "Only swears when alone", "Never swears around children",
      "Swears to emphasize points", "Uses swearing as verbal punctuation",
      "Creative swearing with metaphors", "Combines multiple swear words",
      "Makes up elaborate curses", "Mild swears only (damn, hell)",
      "Strong swears frequently", "Religious swears (goddamn, Jesus Christ)",
      "Avoids religious swears specifically", "Swears as exclamations",
      "Every part of speech can be a swear", "Strings swears together poetically",
      "Swearing is an art form", "Swears when happy", "Only swears when angry",
      "Swears regardless of emotion", "Swearing increases with alcohol",
      "Swears more when tired", "Swears when in pain",
      "Tries not to swear but fails", "Swears then corrects themselves",
      "Censors own swearing mid-word", "Says 'pardon my French' after",
      "Swears then looks around guiltily", "Whispers swears", "Shouts swears",
      "Swears internally but says nice things", "Swears in formal situations inappropriately",
      "Swears in text but not in person", "Swears in person but not in text",
      "Swears in different languages for different intensity",
      "Starts in English, ends in native tongue cursing",
      "Makes up fantasy swears", "Uses food as swears",
      "Wholesome swears (fudge, shoot)", "Old-timey swears (balderdash)",
      "Medieval oaths (by my troth)", "Pirate swearing (scurvy dog)",
      "1950s replacement swears (gosh darn)", "Pop culture reference swears",
      "Has a favorite swear word", "Extensive cursing vocabulary",
      "Limited swear word knowledge", "Knows swears in multiple languages",
      "Code-switches swearing by audience",
      "Professional at work, sailor at home", "Public swearer, clean in private"
    ],
    manner: [
      "Unfailingly polite, even to enemies", "Dripping with sarcasm",
      "Blunt and tactless", "Warm and encouraging", "Cold and clinical",
      "Passive-aggressive", "Flirtatious by default", "Dismissive and bored-sounding",
      "Overly formal", "Casual to a fault — no filter",
      "Deliberately insulting, wraps barbs in smiles",
      "Motherly / fatherly tone with everyone", "Sassy and quick-witted",
      "Timid and apologetic", "Commanding and authoritative",
      "Gentle and soothing", "Harsh and cutting", "Playful and teasing",
      "Serious and somber", "Cheerful and upbeat", "Gloomy and pessimistic",
      "Optimistic and bright", "Cynical and jaded", "Naive and trusting",
      "Suspicious and paranoid", "Friendly and approachable", "Aloof and distant",
      "Humble and modest", "Arrogant and superior",
      "Confident without being cocky", "Insecure despite bravado",
      "Self-deprecating humor", "Boastful", "Matter-of-fact",
      "Dramatic and theatrical", "Understated", "Deadpan delivery",
      "Animated and expressive", "Monotone and flat", "Melodic and musical",
      "Professional and detached", "Personal and intimate",
      "Formal and stiff", "Relaxed and easy", "Tense and uptight",
      "Laid-back", "Intense", "Sweet", "Bitter", "Dry humor",
      "Organized thoughts", "Scattered thoughts", "Tangential rambling",
      "Focused", "Distracted", "Curious", "Apathetic", "Passionate",
      "Indifferent", "Enthusiastic", "Lethargic", "Vibrant", "Muted",
      "Colorful language", "Plain-spoken", "Eloquent", "Inarticulate",
      "Rambling", "Concise", "Verbose", "Long-winded", "Elaborate",
      "Straightforward", "Convoluted", "Direct", "Roundabout",
      "To the point", "Beating around the bush", "Honest", "Deceptive",
      "Transparent", "Forthcoming", "Withholding", "Talkative", "Reserved",
      "Chatty", "Quiet type", "Gregarious", "Solitary speaker",
      "Non-judgmental", "Critical", "Supportive", "Encouraging",
      "Uplifting", "Inspiring", "Motivating", "Draining",
      "Constructive", "Helpful", "Coherent", "Logical",
      "Considerate", "Compassionate", "Patient", "Tolerant",
      "Inclusive language", "Collaborative", "Cooperative", "Friendly",
      "Peaceful", "Calming", "Soothing", "Comforting", "Reassuring"
    ],
    unique: [
      "Refers to themselves in third person", "Narrates their own actions out loud",
      "Speaks in questions more than statements", "Quotes proverbs and sayings constantly",
      "Talks to objects or animals like people", "Whispers secrets to thin air",
      "Frequently breaks into song mid-sentence", "Speaks in metaphors almost exclusively",
      "Has a verbal tic of counting things", "Addresses everyone by full title or surname",
      "Speaks as if telling a story, even for mundane things", "Uses 'we' instead of 'I'",
      "Speaks in very short, clipped sentences", "Monologues when given the chance",
      "Asks rhetorical questions then answers them", "None — fairly standard speech",
      "Rhymes unintentionally", "Rhymes on purpose",
      "Makes everything sound like poetry", "Alliteration addiction",
      "Makes sound effects verbally", "Imitates noises constantly",
      "Mimics sounds they hear", "Echolalia", "Quotes movies exclusively",
      "Song lyrics as speech", "Famous quotes constantly", "Memes as communication",
      "Internet speak IRL", "Air quotes constantly", "Says 'dot dot dot' aloud",
      "Speaks in acronyms", "Abbreviates everything",
      "Scientific terminology always", "Technical jargon constantly",
      "Medical terminology", "Legal language", "Business speak",
      "Military phonetic alphabet", "News anchor delivery",
      "Documentary narrator voice", "Sports play-by-play style",
      "Auctioneer speed", "Shakespearean English", "Victorian parlance",
      "1920s slang exclusively", "Decades behind in slang",
      "Creates new words", "Portmanteau everything",
      "Yoda speak", "Spoonerisms constantly", "Malapropisms",
      "Mixed metaphors", "Extends metaphors too far",
      "Misuses expressions", "Invents idioms",
      "Catchphrase central", "Signature saying",
      "Meta commentary on own speech", "Narrates what they're about to say",
      "Recaps what they said", "Footnotes verbally",
      "Name drops constantly", "Disclaimers before opinions",
      "Spoiler alerts before everything", "Says 'allegedly' about everything",
      "Cliffhanger ender — stops mid-story", "Suspense builder",
      "Anticlimax delivery", "Pedantic", "Thesaurus user",
      "Socratic questioner — only asks questions",
      "Devil's advocate always", "Contrarian speaker", "Agreeable always",
      "Speaks in lists", "Numbered points verbally",
      "Gesture speaker — pantomimes while talking",
      "Body language says more than words", "Tells with face not words",
      "Demonstrates instead of explains", "Synesthesia speech — describes sounds as colors",
      "Hypothetical always — 'what if' speaker", "Speaks in commands only",
      "Declarative statements only", "Everything is a question",
      "Everything is an exclamation!", "States the obvious constantly",
      "GPS-style directions in conversation", "Timestamps everything verbally",
      "Counts while talking", "Measures and quantifies everything",
      "Speaks in analogies", "Everything compared to food",
      "Everything compared to weather", "Everything compared to war",
      "Talks like a book narrator", "Talks like a podcast host",
      "Streamer speak — talks to invisible audience",
      "Hot take giver — unpopular opinions constantly"
    ]
  }

};

// ═══════ CUSTOM DATA & POOL MODES (must be before any function that references them) ═══════
let customData = { pools: {} };
const CUSTOM_STORAGE_KEY = 'charforge_custom_traits';
let customEnabled = true; // master toggle: mix custom traits into General/MHA pools
const poolModes = { savvies:'general', ineptitudes:'general', likes:'general', dislikes:'general', hobbies:'general', taboos:'general', religion:'general', face:'general', bodyFeatures:'general', physicalQuirks:'general', identifying:'general' };

const EXCLUSION_PAIRS = { likes: 'dislikes', dislikes: 'likes' };

// ═══════ INDEXEDDB — Multi-Profile ═══════
const DB_NAME = 'CharacterForgeDB';
const DB_VERSION = 3;
const STORE_NAME = 'profiles';
const META_KEY = '__meta__';
let db = null;

function openDB() {
  return new Promise((resolve, reject) => {
    const req = indexedDB.open(DB_NAME, DB_VERSION);
    req.onupgradeneeded = (e) => { const d = e.target.result; if (!d.objectStoreNames.contains(STORE_NAME)) d.createObjectStore(STORE_NAME); };
    req.onsuccess = (e) => { db = e.target.result; resolve(db); };
    req.onerror = (e) => reject(e.target.error);
  });
}
function dbPut(key, val) { return new Promise((res, rej) => { const tx = db.transaction(STORE_NAME, 'readwrite'); tx.objectStore(STORE_NAME).put(val, key); tx.oncomplete = res; tx.onerror = (e) => rej(e.target.error); }); }
function dbGet(key) { return new Promise((res, rej) => { const tx = db.transaction(STORE_NAME, 'readonly'); const r = tx.objectStore(STORE_NAME).get(key); r.onsuccess = () => res(r.result); r.onerror = (e) => rej(e.target.error); }); }
function dbDelete(key) { return new Promise((res, rej) => { const tx = db.transaction(STORE_NAME, 'readwrite'); tx.objectStore(STORE_NAME).delete(key); tx.oncomplete = res; tx.onerror = (e) => rej(e.target.error); }); }
function dbGetAllKeys() { return new Promise((res, rej) => { const tx = db.transaction(STORE_NAME, 'readonly'); const r = tx.objectStore(STORE_NAME).getAllKeys(); r.onsuccess = () => res(r.result.filter(k => k !== META_KEY)); r.onerror = (e) => rej(e.target.error); }); }

let currentProfileId = null;
let sheet = {};
function genId() { return 'p_' + Date.now() + '_' + Math.random().toString(36).slice(2, 6); }

async function saveCurrentSheet() {
  if (!db || !currentProfileId) return;
  sheet._name = document.getElementById('sheetNameInput').value;
  sheet._notes = document.getElementById('sheetNotes').value;
  await dbPut(currentProfileId, sheet);
}

async function loadProfile(id) {
  currentProfileId = id;
  if (db) sheet = (await dbGet(id)) || {};
  document.getElementById('sheetNameInput').value = sheet._name || '';
  document.getElementById('sheetNotes').value = sheet._notes || '';
  loadImage();
  if (window._loadIdentity) window._loadIdentity();
  if (window._loadBody) window._loadBody();
  renderSheet();
  refreshPickerIfOpen();
  await renderProfileSelect();
}

async function createProfile(name) {
  const id = genId();
  if (db) await dbPut(id, { _name: name || 'Unnamed' });
  await loadProfile(id);
}

async function deleteProfile(id) {
  if (db) await dbDelete(id);
  const keys = db ? await dbGetAllKeys() : [];
  if (keys.length === 0) await createProfile('Character 1');
  else await loadProfile(keys[0]);
}

async function duplicateProfile(id) {
  const data = db ? await dbGet(id) : { ...sheet };
  const newId = genId();
  const copy = JSON.parse(JSON.stringify(data || {}));
  copy._name = (copy._name || 'Unnamed') + ' (Copy)';
  if (db) await dbPut(newId, copy);
  await loadProfile(newId);
}

async function renderProfileSelect() {
  const sel = document.getElementById('profileSelect');
  if (!db) return;
  const keys = await dbGetAllKeys();
  sel.innerHTML = '';
  for (const k of keys) {
    const d = await dbGet(k);
    const opt = document.createElement('option');
    opt.value = k; opt.textContent = (d && d._name) || 'Unnamed';
    if (k === currentProfileId) opt.selected = true;
    sel.appendChild(opt);
  }
}

const CATEGORY_LABELS = { savvies:'Savvies', ineptitudes:'Ineptitudes', likes:'Likes', dislikes:'Dislikes', virtues:'Virtues', perks:'Perks', vices:'Vices', flaws:'Flaws', kinks:'Kinks & Preferences', taboos:'Taboos', speech:'Speech', intellectual:'Intellectual Characteristics', pets:'Pets', hobbies:'Hobbies', religion:'Religious Beliefs', tics:'Tics & Quirks', mannerisms:'Mannerisms', hygiene:'Hygiene', identity:'Identity', body:'Build', bodyShape:'Body Shape', eyeDescriptor:'Eyes', hairDescriptor:'Hair', face:'Facial Features', bodyFeatures:'Body Features', physicalQuirks:'Physical Quirks', identifying:'Identifying Characteristics', physicalConditions:'Physical Conditions', mentalConditions:'Mental & Neurological Conditions' };
const ORDERED_CATS = ['eyeDescriptor','hairDescriptor','face','bodyFeatures','physicalQuirks','identifying','savvies','ineptitudes','likes','dislikes','virtues','perks','vices','flaws','kinks','taboos','speech','intellectual','pets','hobbies','religion','tics','mannerisms','hygiene','bodyShape','physicalConditions','mentalConditions'];
const META_KEYS = new Set(['_name', '_notes', '_image', '_identity', '_body']);

let toastTimer = null;
function showToast(msg) { const t = document.getElementById('toast'); t.textContent = msg; t.classList.add('show'); clearTimeout(toastTimer); toastTimer = setTimeout(() => t.classList.remove('show'), 1800); }

// ═══════ IMAGE ═══════
function loadImage() {
  const preview = document.getElementById('imagePreview');
  const removeBtn = document.getElementById('btnRemoveImage');
  if (sheet._image) {
    preview.innerHTML = '<img src="' + sheet._image + '" alt="Character">';
    removeBtn.style.display = '';
  } else {
    preview.innerHTML = '<div class="image-placeholder"><span>🖼</span>Add Image</div>';
    removeBtn.style.display = 'none';
  }
}
document.getElementById('imagePreview').addEventListener('click', () => document.getElementById('imageFileInput').click());
document.getElementById('btnUploadImage').addEventListener('click', () => document.getElementById('imageFileInput').click());
document.getElementById('imageFileInput').addEventListener('change', (e) => {
  const file = e.target.files[0]; if (!file) return;
  if (file.size > 2 * 1024 * 1024) { showToast('Max 2MB'); return; }
  const reader = new FileReader();
  reader.onload = (ev) => { sheet._image = ev.target.result; loadImage(); saveCurrentSheet(); showToast('Image added ✦'); };
  reader.readAsDataURL(file); e.target.value = '';
});
document.getElementById('btnRemoveImage').addEventListener('click', () => { delete sheet._image; loadImage(); saveCurrentSheet(); showToast('Image removed'); });

// ═══════ HISTORY ═══════
const genHistory = [];
const MAX_HISTORY = 30;
function addHistory(category, items) {
  genHistory.unshift({ category, items: [...items], time: new Date().toLocaleTimeString() });
  if (genHistory.length > MAX_HISTORY) genHistory.pop();
  renderHistory();
}
function renderHistory() {
  const inner = document.getElementById('historyInner');
  if (!genHistory.length) { inner.innerHTML = '<div class="history-empty">No generation history yet.</div>'; return; }
  let html = '';
  genHistory.forEach(h => {
    const label = CATEGORY_LABELS[h.category] || h.category;
    html += '<div class="history-entry"><div class="history-entry-header">' + label + ' — ' + h.time + '</div><div class="history-entry-tags">';
    h.items.forEach(item => {
      const val = typeof item === 'object' ? item.label + ': ' + item.value : item;
      html += '<span class="history-entry-tag" data-cat="' + h.category + '" data-value="' + String(val).replace(/"/g, '&quot;') + '" data-raw=\'' + JSON.stringify(item).replace(/'/g, '&#39;') + '\'>' + val + '</span>';
    });
    html += '</div></div>';
  });
  inner.innerHTML = html;
  inner.querySelectorAll('.history-entry-tag').forEach(el => {
    el.addEventListener('click', () => {
      if (el.dataset.cat === 'speech' || el.dataset.cat === 'intellectual') { try { addToSheet(el.dataset.cat, JSON.parse(el.dataset.raw)); } catch(e) {} }
      else addToSheet(el.dataset.cat, el.dataset.value);
    });
  });
}
document.getElementById('historyToggle').addEventListener('click', () => { document.getElementById('historyToggle').classList.toggle('open'); document.getElementById('historyPanel').classList.toggle('open'); });

// ═══════ SHEET RENDERING ═══════
let dragState = null;

function renderSheet() {
  const body = document.getElementById('sheetBody');
  const countEl = document.getElementById('sheetCount');
  let total = 0;
  for (const cat in sheet) { if (META_KEYS.has(cat)) continue; if (Array.isArray(sheet[cat])) total += sheet[cat].length; }
  countEl.textContent = total + (total === 1 ? ' trait' : ' traits');

  if (total === 0 && !sheet._identity && !sheet._body) {
    body.innerHTML = '<div class="sheet-empty"><span class="sheet-empty-icon">✦</span>Click the <strong>+</strong> button on any generated trait to add it here.<br>Your sheet saves automatically.</div>';
    return;
  }

  let html = '';

  // Render identity if present
  if (sheet._identity && Object.keys(sheet._identity).length > 0) {
    const idLabels = { gender:'Gender Identity', sex:'Biological Sex', presentation:'Presentation', sexuality:'Sexuality', romantic:'Romantic Preference' };
    html += '<div class="sheet-category"><div class="sheet-category-label">Identity</div><div class="sheet-category-tags">';
    for (const [key, label] of Object.entries(idLabels)) {
      if (sheet._identity[key]) {
        html += '<span class="sheet-tag"><span class="speech-sub-label">' + label + ':</span> ' + sheet._identity[key] + '</span>';
      }
    }
    html += '</div></div>';
  }

  // Render body if present
  if (sheet._body) {
    const cm = sheet._body.cm;
    const kg = sheet._body.kg;
    const totalIn = cm / 2.54;
    const ft = Math.floor(totalIn / 12);
    const inches = Math.round(totalIn % 12);
    const ftIn = inches === 12 ? `${ft+1}'0"` : `${ft}'${inches}"`;
    const lbs = Math.round(kg * 2.205);
    const m = cm / 100;
    const bmi = kg / (m * m);
    html += '<div class="sheet-category"><div class="sheet-category-label">Build</div><div class="sheet-category-tags">';
    html += '<span class="sheet-tag"><span class="speech-sub-label">Height:</span> ' + ftIn + ' / ' + cm + ' cm</span>';
    html += '<span class="sheet-tag"><span class="speech-sub-label">Weight:</span> ' + lbs + ' lbs / ' + kg + ' kg</span>';
    html += '<span class="sheet-tag"><span class="speech-sub-label">BMI:</span> ' + bmi.toFixed(1) + '</span>';
    html += '</div></div>';
  }
  for (const cat of ORDERED_CATS) {
    if (!sheet[cat] || sheet[cat].length === 0) continue;
    html += '<div class="sheet-category" data-sheet-cat="' + cat + '"><div class="sheet-category-label">' + (CATEGORY_LABELS[cat]||cat) + '</div><div class="sheet-category-tags" data-drop-cat="' + cat + '">';
    if (cat === 'speech' || cat === 'intellectual') {
      sheet[cat].forEach((entry, i) => {
        html += '<div class="sheet-speech-entry" draggable="true" data-cat="'+cat+'" data-idx="'+i+'"><span class="speech-sub-label">'+entry.label+':</span> <span class="speech-sub-value">'+entry.value+'</span><button class="btn-remove-tag" data-cat="'+cat+'" data-idx="'+i+'">✕</button></div>';
      });
    } else {
      sheet[cat].forEach((item, i) => {
        html += '<span class="sheet-tag" draggable="true" data-cat="'+cat+'" data-idx="'+i+'">'+item+'<button class="btn-remove-tag" data-cat="'+cat+'" data-idx="'+i+'">✕</button></span>';
      });
    }
    html += '</div></div>';
  }
  body.innerHTML = html;

  // Wire remove
  body.querySelectorAll('.btn-remove-tag').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const cat = btn.dataset.cat, idx = parseInt(btn.dataset.idx);
      sheet[cat].splice(idx, 1);
      if (sheet[cat].length === 0) delete sheet[cat];
      saveCurrentSheet(); renderSheet(); refreshPickerIfOpen();
      showToast('Trait removed');
    });
  });

  // Wire drag and drop
  body.querySelectorAll('[draggable="true"]').forEach(el => {
    el.addEventListener('dragstart', (e) => {
      dragState = { cat: el.dataset.cat, idx: parseInt(el.dataset.idx) };
      el.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
      e.dataTransfer.setData('text/plain', '');
    });
    el.addEventListener('dragend', () => {
      el.classList.remove('dragging');
      dragState = null;
      body.querySelectorAll('.drag-over').forEach(d => d.classList.remove('drag-over'));
    });
    el.addEventListener('dragover', (e) => {
      if (!dragState || dragState.cat !== el.dataset.cat) return;
      e.preventDefault(); e.dataTransfer.dropEffect = 'move';
      const container = el.closest('[data-drop-cat]');
      if (container) container.querySelectorAll('.drag-over').forEach(d => d.classList.remove('drag-over'));
      el.classList.add('drag-over');
    });
    el.addEventListener('dragleave', (e) => {
      if (!el.contains(e.relatedTarget)) el.classList.remove('drag-over');
    });
    el.addEventListener('drop', (e) => {
      e.preventDefault(); el.classList.remove('drag-over');
      if (!dragState || dragState.cat !== el.dataset.cat) return;
      const fromIdx = dragState.idx, toIdx = parseInt(el.dataset.idx);
      if (fromIdx === toIdx) return;
      const arr = sheet[dragState.cat];
      const [item] = arr.splice(fromIdx, 1);
      arr.splice(toIdx, 0, item);
      dragState = null;
      saveCurrentSheet(); renderSheet();
    });
  });
}

function addToSheet(category, value) {
  if (!sheet[category]) sheet[category] = [];
  if (category === 'speech' || category === 'intellectual') {
    // Accept either {label,value} object or plain string
    const entry = typeof value === 'string' ? { label: 'Custom', value: value } : value;
    if (sheet[category].some(e => e.label === entry.label && e.value === entry.value)) { showToast('Already on sheet'); return; }
    sheet[category].push(entry);
  } else {
    if (sheet[category].includes(value)) { showToast('Already on sheet'); return; }
    sheet[category].push(value);
  }
  saveCurrentSheet(); renderSheet();
  showToast('Added to sheet ✦');
}

// ═══════ EXPORT / IMPORT ═══════
function exportTxt() {
  const name = document.getElementById('sheetNameInput').value;
  const notes = document.getElementById('sheetNotes').value;
  let lines = ['═══ CHARACTER SHEET ═══'];
  if (name) lines.push('Name: ' + name);
  lines.push('');
  // Identity
  if (sheet._identity && Object.keys(sheet._identity).length > 0) {
    const idLabels = { gender:'Gender Identity', sex:'Biological Sex', presentation:'Presentation', sexuality:'Sexuality', romantic:'Romantic Preference' };
    lines.push('IDENTITY'); lines.push('─'.repeat(30));
    for (const [key, label] of Object.entries(idLabels)) {
      if (sheet._identity[key]) lines.push('  ' + label + ': ' + sheet._identity[key]);
    }
    lines.push('');
  }
  // Body
  if (sheet._body) {
    const cm = sheet._body.cm, kg = sheet._body.kg;
    const totalIn = cm / 2.54, ft = Math.floor(totalIn / 12), inches = Math.round(totalIn % 12);
    const ftIn = inches === 12 ? `${ft+1}'0"` : `${ft}'${inches}"`;
    const lbs = Math.round(kg * 2.205);
    lines.push('BUILD'); lines.push('─'.repeat(30));
    lines.push('  Height: ' + ftIn + ' / ' + cm + ' cm');
    lines.push('  Weight: ' + lbs + ' lbs / ' + kg + ' kg');
    lines.push('');
  }
  for (const cat of ORDERED_CATS) {
    if (!sheet[cat] || sheet[cat].length === 0) continue;
    lines.push((CATEGORY_LABELS[cat]||cat).toUpperCase()); lines.push('─'.repeat(30));
    if (cat === 'speech' || cat === 'intellectual') sheet[cat].forEach(e => lines.push('  ' + e.label + ': ' + e.value));
    else sheet[cat].forEach(item => lines.push('  • ' + item));
    lines.push('');
  }
  if (notes) { lines.push('NOTES'); lines.push('─'.repeat(30)); lines.push(notes); lines.push(''); }
  downloadBlob(new Blob([lines.join('\n')], {type:'text/plain'}), (name||'character') + '-sheet.txt');
}
function exportJson() {
  const data = {...sheet}; data._name = document.getElementById('sheetNameInput').value; data._notes = document.getElementById('sheetNotes').value;
  downloadBlob(new Blob([JSON.stringify(data, null, 2)], {type:'application/json'}), (data._name||'character') + '-sheet.json');
}
function downloadBlob(blob, fn) { const u = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = u; a.download = fn; document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(u); showToast('Exported ✦'); }

function importJson(file) {
  const reader = new FileReader();
  reader.onload = async (e) => {
    try {
      const data = JSON.parse(e.target.result);
      if (typeof data !== 'object') throw new Error('Bad');
      data._name = data._name || file.name.replace('.json','');
      const id = genId();
      if (db) await dbPut(id, data);
      await loadProfile(id);
      showToast('Imported: ' + data._name + ' ✦');
    } catch(err) { showToast('Invalid JSON file'); }
  };
  reader.readAsText(file);
}
document.getElementById('btnImportJson').addEventListener('click', () => document.getElementById('importFileInput').click());
document.getElementById('importFileInput').addEventListener('change', (e) => { if (e.target.files[0]) importJson(e.target.files[0]); e.target.value = ''; });

// ═══════ GENERATOR ENGINE ═══════
function pickRandom(arr, count) {
  const s = [...arr]; for (let i = s.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [s[i], s[j]] = [s[j], s[i]]; }
  return s.slice(0, Math.min(count, arr.length));
}
function pickOne(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

function pickRandomExcluding(pool, count, category) {
  const paired = EXCLUSION_PAIRS[category]; if (!paired) return pickRandom(pool, count);
  const pc = document.querySelector('[data-generator="'+paired+'"]');
  const ex = new Set();
  if (pc) pc.querySelectorAll('.result-tag').forEach(t => { const v = t.childNodes[0]?.textContent?.trim(); if (v) ex.add(v); });
  const f = pool.filter(i => !ex.has(i));
  return pickRandom(f.length >= count ? f : pool, count);
}

// Weighted opinion picking: likes favor "normally liked", dislikes favor "normally disliked"
const weightStates = { likes: true, dislikes: true }; // true = weighted, false = random

function getOpinionPool(type) {
  // Returns the full combined pool for likes or dislikes
  return [...DATA.opinions.liked, ...DATA.opinions.disliked];
}

function pickWeightedOpinions(count, type) {
  const mode = poolModes[type] || 'general';

  // If in a custom pool mode, just return from that pool
  if (mode !== 'general' && mode !== 'mha') {
    const pool = customData.pools[mode];
    const items = (pool && pool[type]) ? [...pool[type]] : [];
    return pickRandom(items, Math.min(count, items.length));
  }

  const mha = mode === 'mha';
  const likedPool = mha ? [...DATA.opinions.liked.mha] : [...DATA.opinions.liked.general];
  const dislikedPool = mha ? [...DATA.opinions.disliked.mha] : [...DATA.opinions.disliked.general];
  // Inject custom traits into the general/mha pool
  const customLikes = getCustomTraitsForCategory('likes');
  const customDislikes = getCustomTraitsForCategory('dislikes');
  if (type === 'likes') likedPool.push(...customLikes);
  else dislikedPool.push(...customDislikes);
  const isWeighted = weightStates[type];
  const results = [];
  const used = new Set();

  // Also exclude items visible in the paired generator
  const paired = type === 'likes' ? 'dislikes' : 'likes';
  const pc = document.querySelector('[data-generator="'+paired+'"]');
  if (pc) pc.querySelectorAll('.result-tag').forEach(t => { const v = t.childNodes[0]?.textContent?.trim(); if (v) used.add(v); });

  for (let i = 0; i < count; i++) {
    let pool;
    if (!isWeighted) {
      // Full random — equal chance from combined pool
      pool = [...likedPool, ...dislikedPool].filter(x => !used.has(x));
    } else {
      // Weighted: 80% from favored pool, 20% from other
      const roll = Math.random();
      const favored = type === 'likes' ? likedPool : dislikedPool;
      const other = type === 'likes' ? dislikedPool : likedPool;
      if (roll < 0.8) {
        pool = favored.filter(x => !used.has(x));
        if (pool.length === 0) pool = other.filter(x => !used.has(x));
      } else {
        pool = other.filter(x => !used.has(x));
        if (pool.length === 0) pool = favored.filter(x => !used.has(x));
      }
    }
    if (pool.length === 0) break;
    const pick = pool[Math.floor(Math.random() * pool.length)];
    results.push(pick);
    used.add(pick);
  }
  return results;
}

// Pool mode per category: 'general', 'mha', or a custom pool name

function getPoolForMode(category) {
  const mode = poolModes[category] || 'general';
  if (mode !== 'general' && mode !== 'mha') {
    // Custom pool mode — return only that pool's traits for this category
    const pool = customData.pools[mode];
    if (pool && pool[category]) return [...pool[category]];
    return [];
  }
  const mha = mode === 'mha';
  if (category === 'likes' || category === 'dislikes') {
    const liked = mha ? [...DATA.opinions.liked.mha] : [...DATA.opinions.liked.general];
    const disliked = mha ? [...DATA.opinions.disliked.mha] : [...DATA.opinions.disliked.general];
    return [...liked, ...disliked];
  }
  const d = DATA[category];
  if (d && d.general) return mha ? [...d.mha] : [...d.general];
  return d;
}

function getPool(category) {
  const base = getPoolForMode(category);
  // When in general or mha mode, also include enabled custom traits
  const mode = poolModes[category] || 'general';
  if (mode === 'general' || mode === 'mha') {
    const custom = getCustomTraitsForCategory(category);
    if (custom.length > 0 && Array.isArray(base)) return [...base, ...custom];
  }
  return base;
}

function getCustomPoolNamesForCategory(category) {
  const names = [];
  for (const [name, pool] of Object.entries(customData.pools)) {
    if (pool[category] && pool[category].length > 0) names.push(name);
  }
  return names;
}

function renderTags(container, items, category) {
  container.innerHTML = ''; container.classList.add('result-tags');
  items.forEach((item, i) => {
    const tag = document.createElement('span'); tag.className = 'result-tag'; tag.style.animationDelay = `${i * 0.06}s`; tag.textContent = item;
    const actions = document.createElement('span'); actions.className = 'tag-actions';
    const rb = document.createElement('button'); rb.className = 'btn-reroll-tag'; rb.textContent = '↻'; rb.title = 'Reroll';
    rb.addEventListener('click', (e) => {
      e.stopPropagation();
      const cur = [...container.querySelectorAll('.result-tag')].map(t => t.childNodes[0]?.textContent?.trim());
      const pool = getPool(category); if (!pool) return;
      let nw, a = 0; do { nw = pickOne(pool); a++; } while (cur.includes(nw) && a < 50);
      tag.childNodes[0].textContent = nw;
      tag.classList.add('added-flash'); setTimeout(() => tag.classList.remove('added-flash'), 400);
    });
    const ab = document.createElement('button'); ab.className = 'btn-add-tag'; ab.textContent = '+'; ab.title = 'Add to sheet';
    ab.addEventListener('click', (e) => { e.stopPropagation(); addToSheet(category, tag.childNodes[0].textContent.trim()); tag.classList.add('added-flash'); setTimeout(() => tag.classList.remove('added-flash'), 600); });
    actions.appendChild(rb); actions.appendChild(ab); tag.appendChild(actions); container.appendChild(tag);
  });
}

function renderSpeech(container) {
  const s = DATA.speech;
  const result = { 'Volume': pickOne(s.volume), 'Common Words & Phrases': pickOne(s.commonWords), 'Speech Tics': pickOne(s.tics), 'Alterations from Emotion': pickOne(s.emotion), 'Swearing': pickOne(s.swearing), 'Manner': pickOne(s.manner), 'Unique Traits': pickOne(s.unique) };
  container.classList.remove('result-tags');
  let html = '<div class="result-speech">';
  Object.entries(result).forEach(([label, value], i) => {
    const sp = {Volume:'volume','Common Words & Phrases':'commonWords','Speech Tics':'tics','Alterations from Emotion':'emotion',Swearing:'swearing',Manner:'manner','Unique Traits':'unique'}[label];
    html += '<div class="speech-row" data-speech-label="'+label+'" data-speech-value="'+value.replace(/"/g,'&quot;')+'" data-sub-pool="'+sp+'"><span class="speech-label">'+label+'</span><span class="speech-value">'+value+'</span><span class="speech-actions"><button class="btn-reroll-tag" title="Reroll">↻</button><button class="btn-add-tag" title="Add">+</button></span></div>';
  });
  container.innerHTML = html + '</div>';
  container.querySelectorAll('.speech-row').forEach(row => {
    row.querySelector('.btn-add-tag').addEventListener('click', (e) => { e.stopPropagation(); addToSheet('speech', { label: row.dataset.speechLabel, value: row.querySelector('.speech-value').textContent }); row.classList.add('added-flash'); setTimeout(() => row.classList.remove('added-flash'), 600); });
    row.querySelector('.btn-reroll-tag').addEventListener('click', (e) => { e.stopPropagation(); const p = DATA.speech[row.dataset.subPool]; if (!p) return; const nv = pickOne(p); row.querySelector('.speech-value').textContent = nv; row.dataset.speechValue = nv; row.classList.add('added-flash'); setTimeout(() => row.classList.remove('added-flash'), 400); });
  });
}

function renderIntellectual(container) {
  const s = DATA.intellectual;
  const LABELS = {
    learningStyle: 'Learning Style',
    thinkingPattern: 'Thinking Pattern',
    problemSolving: 'Problem-Solving',
    memory: 'Memory',
    processingSpeed: 'Processing Speed',
    attention: 'Attention',
    cognitiveStrength: 'Cognitive Strength',
    cognitiveWeakness: 'Cognitive Weakness',
    curiosity: 'Curiosity',
    comprehension: 'Comprehension',
    flexibility: 'Mental Flexibility',
    creativity: 'Creativity',
    mentalStamina: 'Mental Stamina'
  };
  container.classList.remove('result-tags');
  let html = '<div class="result-speech">';
  Object.entries(LABELS).forEach(([key, label], i) => {
    const value = pickOne(s[key]);
    html += '<div class="speech-row" data-speech-label="'+label+'" data-speech-value="'+value.replace(/"/g,'&quot;')+'" data-sub-pool="'+key+'" data-pool-type="intellectual"><span class="speech-label">'+label+'</span><span class="speech-value">'+value+'</span><span class="speech-actions"><button class="btn-reroll-tag" title="Reroll">↻</button><button class="btn-add-tag" title="Add">+</button></span></div>';
  });
  container.innerHTML = html + '</div>';
  container.querySelectorAll('.speech-row').forEach(row => {
    row.querySelector('.btn-add-tag').addEventListener('click', (e) => { e.stopPropagation(); addToSheet('intellectual', { label: row.dataset.speechLabel, value: row.querySelector('.speech-value').textContent }); row.classList.add('added-flash'); setTimeout(() => row.classList.remove('added-flash'), 600); });
    row.querySelector('.btn-reroll-tag').addEventListener('click', (e) => { e.stopPropagation(); const p = DATA.intellectual[row.dataset.subPool]; if (!p) return; const nv = pickOne(p); row.querySelector('.speech-value').textContent = nv; row.dataset.speechValue = nv; row.classList.add('added-flash'); setTimeout(() => row.classList.remove('added-flash'), 400); });
  });
}

function clearResults(container, type) {
  const ph = { savvies:'savvies', ineptitudes:'ineptitudes', likes:'likes', dislikes:'dislikes', vices:'vices', flaws:'flaws', kinks:'kinks & preferences', virtues:'virtues', perks:'perks', taboos:'taboos', speech:'speech patterns', intellectual:'intellectual traits', pets:'pets', hobbies:'hobbies', religion:'religious beliefs', tics:'tics & quirks', mannerisms:'mannerisms', hygiene:'hygiene traits', eyeDescriptor:'eye description', hairDescriptor:'hair description', face:'facial features', bodyFeatures:'body features', physicalQuirks:'physical quirks', identifying:'identifying characteristics' };
  container.classList.add('result-tags'); container.innerHTML = '<span class="placeholder-text">Click generate to roll '+(ph[type]||type)+'…</span>';
}

function getCardResults(card) {
  const type = card.dataset.generator, items = [];
  if (type === 'speech' || type === 'intellectual') card.querySelectorAll('.speech-row').forEach(r => items.push({label:r.dataset.speechLabel, value:r.querySelector('.speech-value').textContent}));
  else card.querySelectorAll('.result-tag').forEach(t => { const v = t.childNodes[0]?.textContent?.trim(); if (v) items.push(v); });
  return items;
}

// ═══════ WIRE CARDS ═══════
const cardInstances = {};
// ═══════ EYE & HAIR DESCRIPTOR GENERATORS ═══════
const DESCRIPTOR_TYPES = ['eyeDescriptor', 'hairDescriptor'];

// ═══════ HYGIENE MODE TOGGLE ═══════
let hygieneMode = 'mixed'; // 'mixed', 'good', 'bad'
const hygieneModeBtn = document.getElementById('hygieneMode');
if (hygieneModeBtn) {
  hygieneModeBtn.addEventListener('click', () => {
    if (hygieneMode === 'mixed') { hygieneMode = 'good'; hygieneModeBtn.textContent = '✨ Good'; hygieneModeBtn.classList.remove('random'); hygieneModeBtn.title = 'Good hygiene only. Click for bad.'; }
    else if (hygieneMode === 'good') { hygieneMode = 'bad'; hygieneModeBtn.textContent = '🗑 Bad'; hygieneModeBtn.classList.add('random'); hygieneModeBtn.title = 'Bad hygiene only. Click for mixed.'; }
    else { hygieneMode = 'mixed'; hygieneModeBtn.textContent = '🔀 Mixed'; hygieneModeBtn.classList.add('random'); hygieneModeBtn.title = 'Mix of good, bad, and neutral.'; }
  });
}

function getHygienePool() {
  const d = DATA.hygiene;
  let base;
  if (hygieneMode === 'good') base = [...d.good, ...d.neutral];
  else if (hygieneMode === 'bad') base = [...d.bad, ...d.neutral];
  else base = [...d.good, ...d.bad, ...d.neutral];
  const custom = getCustomTraitsForCategory('hygiene');
  return custom.length > 0 ? [...base, ...custom] : base;
}

document.querySelectorAll('.gen-card').forEach(card => {
  const type = card.dataset.generator;
  if (type === 'identity' || type === 'body' || type === 'bodyShape' || type === 'physicalConditions' || type === 'mentalConditions') return; // handled separately
  const btnGen = card.querySelector('[data-gen]'), btnClear = card.querySelector('[data-clear]'), btnLock = card.querySelector('[data-lock]'), btnAddAll = card.querySelector('[data-addall]'), countSelect = card.querySelector('[data-count]'), rc = card.querySelector('[data-results]');
  let locked = false;
  function generate() {
    if (locked) return; btnGen.classList.add('rolling');
    setTimeout(() => {
      let hi;
      if (type === 'eyeDescriptor' || type === 'hairDescriptor') {
        const d = DATA[type];
        const keys = Object.keys(d);
        const parts = keys.map(k => d[k][Math.floor(Math.random() * d[k].length)]);
        const combo = parts.join(', ');
        rc.innerHTML = ''; rc.classList.add('result-tags');
        const tag = document.createElement('span'); tag.className = 'result-tag'; tag.textContent = combo;
        const actions = document.createElement('span'); actions.className = 'tag-actions';
        const rb = document.createElement('button'); rb.className = 'btn-reroll-tag'; rb.textContent = '↻'; rb.title = 'Reroll';
        rb.addEventListener('click', (e) => {
          e.stopPropagation();
          const np = keys.map(k => d[k][Math.floor(Math.random() * d[k].length)]).join(', ');
          tag.childNodes[0].textContent = np;
          tag.classList.add('added-flash'); setTimeout(() => tag.classList.remove('added-flash'), 400);
        });
        const ab = document.createElement('button'); ab.className = 'btn-add-tag'; ab.textContent = '+'; ab.title = 'Add to sheet';
        ab.addEventListener('click', (e) => { e.stopPropagation(); addToSheet(type, tag.childNodes[0].textContent.trim()); tag.classList.add('added-flash'); setTimeout(() => tag.classList.remove('added-flash'), 600); });
        actions.appendChild(rb); actions.appendChild(ab); tag.appendChild(actions); rc.appendChild(tag);
        hi = [combo];
      }
      else if (type === 'hygiene') {
        const c = countSelect ? parseInt(countSelect.value) : 1;
        const pool = getHygienePool();
        const it = pickRandomExcluding(pool, c, type);
        renderTags(rc, it, type); hi = it;
      }
      else if (type === 'intellectual') { renderIntellectual(rc); hi = []; rc.querySelectorAll('.speech-row').forEach(r => hi.push({label:r.dataset.speechLabel, value:r.querySelector('.speech-value').textContent})); }
      else if (type === 'speech') { renderSpeech(rc); hi = []; rc.querySelectorAll('.speech-row').forEach(r => hi.push({label:r.dataset.speechLabel, value:r.querySelector('.speech-value').textContent})); }
      else if (type === 'religion') { const pool = getPool(type); const it = [pickOne(pool)]; renderTags(rc, it, type); hi = it; }
      else if (type === 'likes' || type === 'dislikes') { const c = countSelect ? parseInt(countSelect.value) : 1; const it = pickWeightedOpinions(c, type); renderTags(rc, it, type); hi = it; }
      else { const c = countSelect ? parseInt(countSelect.value) : 1; const pool = getPool(type); const it = pickRandomExcluding(pool, c, type); renderTags(rc, it, type); hi = it; }
      addHistory(type, hi); btnGen.classList.remove('rolling');
    }, 100);
  }
  btnGen.addEventListener('click', generate);
  btnClear.addEventListener('click', () => { if (!locked) clearResults(rc, type); });
  btnLock.addEventListener('click', () => { locked = !locked; btnLock.classList.toggle('locked', locked); btnLock.textContent = locked ? '🔒' : '🔓'; });
  if (btnAddAll) btnAddAll.addEventListener('click', () => {
    const items = getCardResults(card); if (!items.length) return;
    let added = 0; if (!sheet[type]) sheet[type] = [];
    items.forEach(item => { if (type==='speech'||type==='intellectual') { if (!sheet[type].some(e => e.label===item.label && e.value===item.value)) { sheet[type].push(item); added++; } } else { if (!sheet[type].includes(item)) { sheet[type].push(item); added++; } } });
    if (added > 0) { saveCurrentSheet(); renderSheet(); showToast(added + ' added ✦'); } else showToast('All already on sheet');
  });
  cardInstances[type] = { generate, locked: () => locked };
});

// ═══════ CONDITION PICKERS ═══════
function wireConditionPicker(searchId, optionsId, selectedId, dataKey) {
  const searchInput = document.getElementById(searchId);
  const optionsDiv = document.getElementById(optionsId);
  const selectedDiv = document.getElementById(selectedId);
  const allItems = DATA[dataKey];
  let selected = new Set();

  function renderOptions(filter) {
    if (!filter || filter.length < 1) { optionsDiv.innerHTML = ''; return; }
    const lower = filter.toLowerCase();
    const matches = allItems.filter(item => item.toLowerCase().includes(lower)).slice(0, 30);
    optionsDiv.innerHTML = matches.map(item =>
      '<span class="condition-chip' + (selected.has(item) ? ' selected' : '') + '" data-val="' + item.replace(/"/g, '&quot;') + '">' + item + '</span>'
    ).join('');
    optionsDiv.querySelectorAll('.condition-chip').forEach(chip => {
      chip.addEventListener('click', () => {
        const val = chip.dataset.val;
        if (selected.has(val)) { selected.delete(val); chip.classList.remove('selected'); }
        else { selected.add(val); chip.classList.add('selected'); }
        renderSelected();
      });
    });
  }

  function renderSelected() {
    selectedDiv.innerHTML = Array.from(selected).map(item =>
      '<span class="condition-sel-tag">' + item + '<button class="remove-cond" data-val="' + item.replace(/"/g, '&quot;') + '">×</button></span>'
    ).join('');
    selectedDiv.querySelectorAll('.remove-cond').forEach(btn => {
      btn.addEventListener('click', () => {
        selected.delete(btn.dataset.val);
        renderSelected();
        renderOptions(searchInput.value);
      });
    });
  }

  searchInput.addEventListener('input', () => renderOptions(searchInput.value));

  // Wire addAll button
  const card = searchInput.closest('.gen-card');
  const btnAddAll = card.querySelector('[data-addall]');
  if (btnAddAll) btnAddAll.addEventListener('click', () => {
    if (selected.size === 0) { showToast('Select conditions first'); return; }
    if (!sheet[dataKey]) sheet[dataKey] = [];
    let added = 0;
    selected.forEach(item => { if (!sheet[dataKey].includes(item)) { sheet[dataKey].push(item); added++; } });
    if (added > 0) { saveCurrentSheet(); renderSheet(); showToast(added + ' added ✦'); } else showToast('All already on sheet');
  });

  // Wire clear button
  const btnClear = card.querySelector('[data-clear]');
  if (btnClear) btnClear.addEventListener('click', () => {
    selected.clear();
    searchInput.value = '';
    optionsDiv.innerHTML = '';
    renderSelected();
  });

  return { getSelected: () => Array.from(selected), setSelected: (items) => { selected = new Set(items); renderSelected(); } };
}

const physCondPicker = wireConditionPicker('physCondSearch', 'physCondOptions', 'physCondSelected', 'physicalConditions');
const mentalCondPicker = wireConditionPicker('mentalCondSearch', 'mentalCondOptions', 'mentalCondSelected', 'mentalConditions');

// ═══════ BODY SHAPE PICKER ═══════
(function() {
  const searchInput = document.getElementById('bodyShapeSearch');
  const optionsDiv = document.getElementById('bodyShapeOptions');
  const selectedDiv = document.getElementById('bodyShapeSelected');
  const nsfwBtn = document.getElementById('btnBodyShapeNsfw');
  if (!searchInput) return;

  let selected = new Set();
  let showKinky = false;

  function getAllShapes() {
    const shapes = [...DATA.bodyShape.realistic, ...DATA.bodyShape.anime];
    if (showKinky) shapes.push(...DATA.bodyShape.kinky);
    return shapes;
  }

  function getTier(item) {
    if (DATA.bodyShape.realistic.includes(item)) return 'realistic';
    if (DATA.bodyShape.anime.includes(item)) return 'anime';
    if (DATA.bodyShape.kinky.includes(item)) return 'kinky';
    return 'realistic';
  }

  function tierLabel(tier) {
    return tier === 'realistic' ? '⚡' : tier === 'anime' ? '🌸' : '🔞';
  }

  function renderOptions(filter) {
    if (!filter || filter.length < 1) {
      // Show all grouped by tier when no search
      const tiers = [
        { key: 'realistic', label: 'Realistic', icon: '⚡', items: DATA.bodyShape.realistic },
        { key: 'anime', label: 'Anime', icon: '🌸', items: DATA.bodyShape.anime }
      ];
      if (showKinky) tiers.push({ key: 'kinky', label: 'Kinky', icon: '🔞', items: DATA.bodyShape.kinky });
      let html = '';
      for (const tier of tiers) {
        html += '<div class="condition-tier-label">' + tier.icon + ' ' + tier.label + ' <span style="opacity:0.5">(' + tier.items.length + ')</span></div>';
        html += tier.items.map(item =>
          '<span class="condition-chip' + (selected.has(item) ? ' selected' : '') + '" data-val="' + item.replace(/"/g, '&quot;') + '">' + item + '</span>'
        ).join('');
      }
      optionsDiv.innerHTML = html;
    } else {
      const lower = filter.toLowerCase();
      const all = getAllShapes();
      const matches = all.filter(item => item.toLowerCase().includes(lower)).slice(0, 40);
      optionsDiv.innerHTML = matches.map(item =>
        '<span class="condition-chip' + (selected.has(item) ? ' selected' : '') + '" data-val="' + item.replace(/"/g, '&quot;') + '" title="' + getTier(item) + '">' + tierLabel(getTier(item)) + ' ' + item + '</span>'
      ).join('');
    }
    optionsDiv.querySelectorAll('.condition-chip').forEach(chip => {
      chip.addEventListener('click', () => {
        const val = chip.dataset.val;
        if (selected.has(val)) { selected.delete(val); chip.classList.remove('selected'); }
        else { selected.add(val); chip.classList.add('selected'); }
        renderSelected();
      });
    });
  }

  function renderSelected() {
    selectedDiv.innerHTML = Array.from(selected).map(item =>
      '<span class="condition-sel-tag">' + item + '<button class="remove-cond" data-val="' + item.replace(/"/g, '&quot;') + '">×</button></span>'
    ).join('');
    selectedDiv.querySelectorAll('.remove-cond').forEach(btn => {
      btn.addEventListener('click', () => {
        selected.delete(btn.dataset.val);
        renderSelected();
        renderOptions(searchInput.value);
      });
    });
  }

  // Show all by default (no search needed)
  renderOptions('');

  searchInput.addEventListener('input', () => renderOptions(searchInput.value));

  // NSFW toggle
  nsfwBtn.addEventListener('click', () => {
    showKinky = !showKinky;
    nsfwBtn.classList.toggle('active', showKinky);
    nsfwBtn.title = showKinky ? 'Kinky tier visible. Click to hide.' : 'Show additional options';
    renderOptions(searchInput.value);
  });

  // Wire addAll
  const card = searchInput.closest('.gen-card');
  const btnAddAll = card.querySelector('[data-addall]');
  if (btnAddAll) btnAddAll.addEventListener('click', () => {
    if (selected.size === 0) { showToast('Select shapes first'); return; }
    if (!sheet.bodyShape) sheet.bodyShape = [];
    let added = 0;
    selected.forEach(item => { if (!sheet.bodyShape.includes(item)) { sheet.bodyShape.push(item); added++; } });
    if (added > 0) { saveCurrentSheet(); renderSheet(); showToast(added + ' added ✦'); } else showToast('All already on sheet');
  });

  // Wire clear
  const btnClear = card.querySelector('[data-clear]');
  if (btnClear) btnClear.addEventListener('click', () => {
    selected.clear();
    searchInput.value = '';
    renderOptions('');
    renderSelected();
  });
})();

// ═══════ COLLAPSE ═══════
document.querySelectorAll('[data-collapse]').forEach(h => { h.addEventListener('click', () => document.getElementById(h.dataset.collapse).classList.toggle('collapsed')); });
document.getElementById('customInfoToggle').addEventListener('click', () => {
  const body = document.getElementById('customInfoBody');
  const icon = document.querySelector('#customInfoToggle .section-collapse-icon');
  if (body.style.display === 'none') { body.style.display = 'block'; icon.textContent = '▼'; }
  else { body.style.display = 'none'; icon.textContent = '▶'; }
});

// ═══════ GENERATE ALL / ADD ALL ═══════
document.getElementById('btnGenAll').addEventListener('click', () => Object.values(cardInstances).forEach(c => c.generate()));
document.getElementById('btnAddAllVisible').addEventListener('click', () => {
  let tot = 0;
  document.querySelectorAll('.gen-card').forEach(card => {
    const type = card.dataset.generator, items = getCardResults(card); if (!items.length) return;
    if (!sheet[type]) sheet[type] = [];
    items.forEach(item => { if (type==='speech'||type==='intellectual') { if (!sheet[type].some(e => e.label===item.label && e.value===item.value)) { sheet[type].push(item); tot++; } } else { if (!sheet[type].includes(item)) { sheet[type].push(item); tot++; } } });
  });
  if (tot > 0) { saveCurrentSheet(); renderSheet(); showToast(tot + ' traits added ✦'); } else showToast('Nothing new');
});

// ═══════ WEIGHT TOGGLES ═══════
document.querySelectorAll('.btn-weight-toggle[data-weight]').forEach(btn => {
  const which = btn.dataset.weight;
  btn.addEventListener('click', () => {
    weightStates[which] = !weightStates[which];
    if (weightStates[which]) {
      btn.textContent = '⚖ Weighted'; btn.classList.remove('random');
      btn.title = 'Weighted: favors normally-' + (which === 'likes' ? 'liked' : 'disliked') + ' items. Click for full random.';
    } else {
      btn.textContent = '🎲 Random'; btn.classList.add('random');
      btn.title = 'Full random: equal chance for any item. Click for weighted.';
    }
  });
});

// ═══════ PER-CARD POOL MODE TOGGLES ═══════
function getPoolCycle(cat) {
  // Build the cycle: general → mha → [custom pools for this cat] → general
  const cycle = ['general'];
  // Only add mha if this category has mha data
  const d = DATA[cat];
  const hasLikesMha = (cat === 'likes' || cat === 'dislikes') && DATA.opinions.liked.mha;
  if ((d && d.mha) || hasLikesMha) cycle.push('mha');
  // Add custom pools that have traits for this category
  const customNames = getCustomPoolNamesForCategory(cat);
  cycle.push(...customNames);
  return cycle;
}

function updatePoolButton(btn, cat) {
  const mode = poolModes[cat] || 'general';
  const cycle = getPoolCycle(cat);
  const count = getPool(cat).length;
  if (mode === 'general') {
    btn.textContent = '🌐 General (' + count + ')';
    btn.classList.add('random');
    btn.title = 'General pool. Click to cycle.';
  } else if (mode === 'mha') {
    btn.textContent = '🦸 +MHA (' + count + ')';
    btn.classList.remove('random');
    btn.title = 'MHA pool. Click to cycle.';
  } else {
    btn.textContent = '🔧 ' + mode + ' (' + count + ')';
    btn.classList.remove('random');
    btn.title = 'Custom pool: ' + mode + '. Click to cycle.';
  }
}

function refreshPoolButtons() {
  document.querySelectorAll('[data-mha]').forEach(btn => {
    const cat = btn.dataset.mha;
    // Reset to general if current mode is a deleted pool
    if (poolModes[cat] !== 'general' && poolModes[cat] !== 'mha') {
      if (!customData.pools[poolModes[cat]]) poolModes[cat] = 'general';
    }
    updatePoolButton(btn, cat);
  });
}

document.querySelectorAll('[data-mha]').forEach(btn => {
  const cat = btn.dataset.mha;
  updatePoolButton(btn, cat);
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    const cycle = getPoolCycle(cat);
    const currentIdx = cycle.indexOf(poolModes[cat] || 'general');
    const nextIdx = (currentIdx + 1) % cycle.length;
    poolModes[cat] = cycle[nextIdx];
    updatePoolButton(btn, cat);
  });
});

// ═══════ IDENTITY & BODY TOOLS ═══════
(function() {
  // Identity card
  const idCard = document.querySelector('[data-generator="identity"]');
  if (idCard) {
    const selects = {
      gender: document.getElementById('selGender'),
      sex: document.getElementById('selSex'),
      presentation: document.getElementById('selPresentation'),
      sexuality: document.getElementById('selSexuality'),
      romantic: document.getElementById('selRomantic')
    };

    // Save identity to sheet on change
    Object.values(selects).forEach(sel => {
      sel.addEventListener('change', () => { saveIdentityToSheet(); });
    });

    function saveIdentityToSheet() {
      const data = {};
      for (const [key, sel] of Object.entries(selects)) {
        if (sel.value) data[key] = sel.value;
      }
      sheet._identity = Object.keys(data).length ? data : undefined;
      saveCurrentSheet(); renderSheet();
    }

    function loadIdentityFromSheet() {
      const data = sheet._identity || {};
      for (const [key, sel] of Object.entries(selects)) {
        sel.value = data[key] || '';
      }
    }

    // Randomize
    const btnGen = idCard.querySelector('[data-gen]');
    const btnClear = idCard.querySelector('[data-clear]');
    const btnAddAll = idCard.querySelector('[data-addall]');
    let locked = false;
    const btnLock = idCard.querySelector('[data-lock]');

    btnGen.addEventListener('click', () => {
      if (locked) return;
      Object.values(selects).forEach(sel => {
        const opts = [...sel.options].filter(o => o.value);
        sel.value = opts[Math.floor(Math.random() * opts.length)].value;
      });
      saveIdentityToSheet();
      showToast('Identity randomized ✦');
    });

    btnClear.addEventListener('click', () => {
      if (locked) return;
      Object.values(selects).forEach(sel => sel.value = '');
      delete sheet._identity;
      saveCurrentSheet(); renderSheet();
    });

    btnAddAll.addEventListener('click', () => {
      saveIdentityToSheet();
      showToast('Identity saved ✦');
    });

    btnLock.addEventListener('click', () => {
      locked = !locked;
      btnLock.classList.toggle('locked', locked);
      btnLock.textContent = locked ? '🔒' : '🔓';
    });

    // Register with cardInstances for Generate All
    cardInstances['identity'] = {
      generate: () => { if (!locked) { btnGen.click(); } },
      locked: () => locked
    };

    // Load on profile switch
    window._loadIdentity = loadIdentityFromSheet;
  }

  // Body card
  const bodyCard = document.querySelector('[data-generator="body"]');
  if (bodyCard) {
    const hSlider = document.getElementById('heightSlider');
    const wSlider = document.getElementById('weightSlider');
    const hCm = document.getElementById('heightCm');
    const hFt = document.getElementById('heightFt');
    const hIn = document.getElementById('heightIn');
    const wKg = document.getElementById('weightKg');
    const wLbs = document.getElementById('weightLbs');
    const bmiMarker = document.getElementById('bmiMarker');
    const bodyVerdict = document.getElementById('bodyVerdict');
    const bodyNote = document.getElementById('bodyNote');
    const btnCalc = document.getElementById('btnCalc');
    const calcBuild = document.getElementById('calcBuildType');
    const btnRealism = document.getElementById('btnRealism');
    let animeMode = false;
    let syncing = false;

    function updateSliderRanges() {
      if (animeMode) {
        hSlider.min = 10; hSlider.max = 6100;
        wSlider.min = 1; wSlider.max = 100000;
      } else {
        hSlider.min = 60; hSlider.max = 275;
        wSlider.min = 15; wSlider.max = 350;
      }
      // Clamp current values to new range for slider display only
      const cm = parseFloat(hCm.value) || 0;
      const kg = parseFloat(wKg.value) || 0;
      if (cm > 0) hSlider.value = Math.min(Math.max(cm, parseInt(hSlider.min)), parseInt(hSlider.max));
      if (kg > 0) wSlider.value = Math.min(Math.max(kg, parseInt(wSlider.min)), parseInt(wSlider.max));
    }

    function cmToFtParts(cm) {
      const ti = cm / 2.54;
      let ft = Math.floor(ti / 12);
      let inches = Math.round(ti % 12);
      if (inches >= 12) { ft++; inches = 0; }
      return [ft, inches];
    }
    function cmToFtIn(cm) { const [f,i] = cmToFtParts(cm); return f+"'"+i+'"'; }
    function kgToLbs(kg) { return Math.round(kg * 2.205); }
    function lbsToKg(lbs) { return Math.round(lbs / 2.205); }

    function autoSizeInputs() {
      [hFt, hIn, hCm, wLbs, wKg].forEach(inp => {
        const len = Math.max(2, String(inp.value).length);
        inp.style.width = (len + 1) + 'ch';
      });
    }

    function syncFromCmKg() {
      if (syncing) return; syncing = true;
      const cm = parseFloat(hCm.value) || 0;
      const kg = parseFloat(wKg.value) || 0;
      if (cm > 0) { const [ft, inches] = cmToFtParts(cm); hFt.value = ft; hIn.value = inches; }
      if (kg > 0) wLbs.value = kgToLbs(kg);
      if (cm > 0) hSlider.value = Math.min(Math.max(cm, parseInt(hSlider.min)), parseInt(hSlider.max));
      if (kg > 0) wSlider.value = Math.min(Math.max(kg, parseInt(wSlider.min)), parseInt(wSlider.max));
      syncing = false;
      autoSizeInputs();
      updateBody();
    }

    // Slider -> update everything
    hSlider.addEventListener('input', () => {
      if (syncing) return; syncing = true;
      const cm = parseInt(hSlider.value);
      hCm.value = cm;
      const [ft, inches] = cmToFtParts(cm);
      hFt.value = ft; hIn.value = inches;
      syncing = false; autoSizeInputs(); updateBody();
    });
    wSlider.addEventListener('input', () => {
      if (syncing) return; syncing = true;
      const kg = parseInt(wSlider.value);
      wKg.value = kg; wLbs.value = kgToLbs(kg);
      syncing = false; autoSizeInputs(); updateBody();
    });

    // Cm input -> sync
    hCm.addEventListener('input', syncFromCmKg);

    // Ft/In inputs -> sync to cm
    function syncFromFtIn() {
      if (syncing) return; syncing = true;
      const ft = parseInt(hFt.value) || 0;
      const inches = parseInt(hIn.value) || 0;
      const cm = Math.round((ft * 12 + inches) * 2.54);
      hCm.value = cm;
      hSlider.value = Math.min(Math.max(cm, parseInt(hSlider.min)), parseInt(hSlider.max));
      syncing = false; autoSizeInputs(); updateBody();
    }
    hFt.addEventListener('input', syncFromFtIn);
    hIn.addEventListener('input', syncFromFtIn);

    // Kg input -> sync
    wKg.addEventListener('input', () => {
      if (syncing) return; syncing = true;
      const kg = parseFloat(wKg.value) || 0;
      if (kg > 0) wLbs.value = kgToLbs(kg);
      wSlider.value = Math.min(Math.max(kg, parseInt(wSlider.min)), parseInt(wSlider.max));
      syncing = false; autoSizeInputs(); updateBody();
    });

    // Lbs input -> sync to kg
    wLbs.addEventListener('input', () => {
      if (syncing) return; syncing = true;
      const lbs = parseFloat(wLbs.value) || 0;
      const kg = lbsToKg(lbs);
      if (kg > 0) wKg.value = kg;
      wSlider.value = Math.min(Math.max(kg, parseInt(wSlider.min)), parseInt(wSlider.max));
      syncing = false; autoSizeInputs(); updateBody();
    });

    // Realism toggle
    btnRealism.addEventListener('click', () => {
      animeMode = !animeMode;
      if (animeMode) {
        btnRealism.textContent = '🌸 Anime'; btnRealism.classList.remove('random');
        btnRealism.title = 'Anime/fantasy mode. Click for realistic.';
      } else {
        btnRealism.textContent = '🌍 Realistic'; btnRealism.classList.add('random');
        btnRealism.title = 'Realistic mode. Click for anime/fantasy.';
      }
      updateSliderRanges();
      updateBody();
    });

    function updateBody() {
      const cm = parseFloat(hCm.value) || 0;
      const kg = parseFloat(wKg.value) || 0;
      if (cm <= 0 || kg <= 0) {
        bodyVerdict.textContent = 'Enter both height and weight';
        bodyVerdict.style.color = 'var(--text-muted)';
        bodyNote.textContent = '';
        bmiMarker.style.display = 'none';
        return;
      }
      bmiMarker.style.display = 'block';
      const lbs = kgToLbs(kg);
      const m = cm / 100;
      const bmi = kg / (m * m);
      let category, color, note, pct;
      if (animeMode) {
        if (bmi < 10) { category = 'Impossibly Light'; color = '#7b1fa2'; pct = (bmi/10)*5; note = 'Even by anime standards, extremely light. Fine for supernatural/non-human.'; }
        else if (bmi < 14) { category = 'Anime Thin'; color = '#e65100'; pct = 5+((bmi-10)/4)*10; note = 'Very common in anime. Looks normal in art, would be gaunt IRL.'; }
        else if (bmi < 18.5) { category = 'Slim'; color = '#f9a825'; pct = 15+((bmi-14)/4.5)*12; note = 'Standard anime protagonist build. Most shonen characters land here.'; }
        else if (bmi < 24) { category = 'Standard'; color = '#2e7d32'; pct = 27+((bmi-18.5)/5.5)*25; note = 'Normal range. Works for any character type.'; }
        else if (bmi < 30) { category = 'Built / Muscular'; color = '#1565c0'; pct = 52+((bmi-24)/6)*20; note = 'Muscular or heavyset. Think All Might, Endeavor.'; }
        else if (bmi < 40) { category = 'Large'; color = '#f9a825'; pct = 72+((bmi-30)/10)*15; note = 'Very large build. Fatgum (slim form), stocky fighters.'; }
        else if (bmi < 60) { category = 'Massive'; color = '#e65100'; pct = 87+((bmi-40)/20)*8; note = 'Enormous. Fatgum (fat form), sumo, Mount Lady at human scale.'; }
        else { category = 'Colossal'; color = '#7b1fa2'; pct = 95+Math.min(((bmi-60)/40)*5,5); note = 'Beyond normal scale. Giant characters, kaiju-scale.'; }
      } else {
        if (bmi < 12) { category = 'Incompatible with Life'; color = '#7b1fa2'; pct = (bmi/12)*5; note = 'Not survivable for a human at this height.'; }
        else if (bmi < 16) { category = 'Dangerously Emaciated'; color = '#7b1fa2'; pct = 5+((bmi-12)/4)*8; note = 'Severe starvation territory.'; }
        else if (bmi < 18.5) { category = 'Underweight'; color = '#e65100'; pct = 13+((bmi-16)/2.5)*10; note = 'Noticeably thin. Naturally slim, malnourished, or very lean.'; }
        else if (bmi < 21) { category = 'Lean'; color = '#f9a825'; pct = 23+((bmi-18.5)/2.5)*12; note = 'Slim but healthy. Runner or swimmer build.'; }
        else if (bmi < 25) { category = 'Average'; color = '#2e7d32'; pct = 35+((bmi-21)/4)*15; note = 'Normal healthy range. Soft to moderately fit.'; }
        else if (bmi < 28) { category = 'Athletic / Stocky'; color = '#1565c0'; pct = 50+((bmi-25)/3)*15; note = 'Muscular, heavyset. Fighters, laborers, rugby players.'; }
        else if (bmi < 32) { category = 'Heavy'; color = '#f9a825'; pct = 65+((bmi-28)/4)*15; note = 'Significantly above average. Bodybuilder or overweight.'; }
        else if (bmi < 40) { category = 'Obese'; color = '#e65100'; pct = 80+((bmi-32)/8)*10; note = 'Very heavy. Major impact on mobility.'; }
        else if (bmi < 60) { category = 'Extremely Obese'; color = '#7b1fa2'; pct = 90+((bmi-40)/20)*7; note = 'Extreme weight. Severely limited mobility.'; }
        else { category = 'Unrealistic'; color = '#7b1fa2'; pct = 97+Math.min(((bmi-60)/40)*3,3); note = 'Beyond realistic human range.'; }
      }
      pct = Math.max(1, Math.min(99, pct));
      bmiMarker.style.left = pct + '%';
      bodyVerdict.textContent = category;
      bodyVerdict.style.color = color;
      const tag = animeMode ? '🌸 Anime' : '🌍 Realistic';
      bodyNote.innerHTML = note + '<br><span style="opacity:0.6;font-size:0.7rem;">BMI: '+bmi.toFixed(1)+' — '+cmToFtIn(cm)+', '+lbs+' lbs ('+kg+' kg) ['+tag+']</span>';
    }

    // Calculate: fill missing value
    btnCalc.addEventListener('click', () => {
      const targetBmi = parseFloat(calcBuild.value);
      if (!targetBmi) { showToast('Pick a build type first'); return; }
      const cm = parseFloat(hCm.value) || 0;
      const kg = parseFloat(wKg.value) || 0;
      if (cm > 0 && kg <= 0) {
        const newKg = Math.round(targetBmi * (cm/100) * (cm/100));
        wKg.value = newKg; wLbs.value = kgToLbs(newKg);
        wSlider.value = Math.min(Math.max(newKg, parseInt(wSlider.min)), parseInt(wSlider.max));
        updateBody(); showToast('Weight: ' + kgToLbs(newKg) + ' lbs / ' + newKg + ' kg');
      } else if (kg > 0 && cm <= 0) {
        const newCm = Math.round(Math.sqrt(kg / targetBmi) * 100);
        hCm.value = newCm;
        const [ft, inches] = cmToFtParts(newCm);
        hFt.value = ft; hIn.value = inches;
        hSlider.value = Math.min(Math.max(newCm, parseInt(hSlider.min)), parseInt(hSlider.max));
        updateBody(); showToast('Height: ' + cmToFtIn(newCm) + ' / ' + newCm + ' cm');
      } else if (cm > 0 && kg > 0) {
        showToast('Clear one field first — fills the missing value');
      } else {
        showToast('Enter height or weight first');
      }
    });

    const btnGen = bodyCard.querySelector('[data-gen]');
    const btnClear = bodyCard.querySelector('[data-clear]');
    const btnAddAll = bodyCard.querySelector('[data-addall]');
    let locked = false;
    const btnLock = bodyCard.querySelector('[data-lock]');

    btnGen.addEventListener('click', () => {
      if (locked) return;
      let h, w;
      if (animeMode) {
        // Anime: 4'0" (122cm) to 8'0" (244cm) bell curve centered at 165cm
        h = Math.round(Math.max(122, Math.min(244, 165 + (Math.random()+Math.random()+Math.random()-1.5)*40)));
        // BMI range 14-26 for anime (lean to athletic)
        w = Math.round((14 + Math.random() * 12) * (h/100) * (h/100));
      } else {
        h = Math.round(Math.max(145, Math.min(210, 170 + (Math.random()+Math.random()+Math.random()-1.5)*20)));
        w = Math.round((19 + Math.random() * 8) * (h/100) * (h/100));
      }
      hCm.value = h; wKg.value = w;
      syncFromCmKg();
      saveBodyToSheet();
      showToast('Build randomized ✦');
    });

    btnClear.addEventListener('click', () => {
      if (locked) return;
      hCm.value = ''; hFt.value = ''; hIn.value = '';
      wKg.value = ''; wLbs.value = '';
      hSlider.value = 170; wSlider.value = 68;
      delete sheet._body;
      saveCurrentSheet(); renderSheet(); updateBody();
    });

    btnAddAll.addEventListener('click', () => { saveBodyToSheet(); showToast('Build saved ✦'); });
    btnLock.addEventListener('click', () => {
      locked = !locked; btnLock.classList.toggle('locked', locked); btnLock.textContent = locked ? '🔒' : '🔓';
    });

    function saveBodyToSheet() {
      const cm = parseFloat(hCm.value) || 0;
      const kg = parseFloat(wKg.value) || 0;
      if (cm > 0 && kg > 0) { sheet._body = { cm, kg }; saveCurrentSheet(); renderSheet(); }
    }

    function loadBodyFromSheet() {
      const data = sheet._body;
      if (data && data.cm && data.kg) {
        hCm.value = data.cm; wKg.value = data.kg;
        syncFromCmKg();
      } else {
        hCm.value = ''; hFt.value = ''; hIn.value = '';
        wKg.value = ''; wLbs.value = '';
        hSlider.value = 170; wSlider.value = 68;
      }
      updateBody();
    }

    cardInstances['body'] = { generate: () => { if (!locked) btnGen.click(); }, locked: () => locked };
    window._loadBody = loadBodyFromSheet;
    updateSliderRanges();
    updateBody();
  }
})();

// ═══════ SHEET BUTTONS ═══════
document.getElementById('btnExportTxt').addEventListener('click', exportTxt);
document.getElementById('btnExportJson').addEventListener('click', exportJson);
document.getElementById('btnPrint').addEventListener('click', () => {
  const pw = window.open('', '_blank');
  if (!pw) { showToast('Enable popups to print'); return; }
  const name = document.getElementById('sheetNameInput').value || 'Character Sheet';
  const sheetHtml = document.querySelector('.sheet-container').innerHTML;
  pw.document.write('<!DOCTYPE html><html><head><title>' + name + '</title><style>body{font-family:Georgia,serif;padding:40px;max-width:800px;margin:0 auto;color:#111}h2{margin:0}img{border-radius:8px;max-width:120px;max-height:120px;object-fit:cover}.sheet-header-actions,.btn-remove-tag,.history-toggle,.history-panel,.picker-toggle,.picker-panel,.btn-image-action,.sheet-notes-label,.modal-overlay{display:none!important}.sheet-header{display:flex;align-items:center;gap:12px;padding-bottom:16px;border-bottom:2px solid #333}.sheet-header-icon{font-size:1.5rem}.sheet-count{font-size:0.8rem;color:#666;border:1px solid #999;padding:2px 8px;border-radius:10px}.sheet-name-bar{padding:12px 0;border-bottom:1px solid #ccc}.sheet-name-input{border:none;font-family:Georgia,serif;font-size:1.3rem;font-weight:bold;width:100%;background:transparent;color:#111;outline:none}.sheet-image-section{padding:12px 0;border-bottom:1px solid #ccc;display:flex;gap:16px;align-items:flex-start}.sheet-image-preview{width:120px;height:120px;border:1px solid #ccc;border-radius:8px;overflow:hidden}.sheet-image-preview img{width:100%;height:100%;object-fit:cover}.image-placeholder{display:none}.sheet-body{padding:16px 0}.sheet-category{margin-bottom:16px}.sheet-category-label{font-size:0.75rem;text-transform:uppercase;letter-spacing:0.15em;color:#555;padding-bottom:6px;border-bottom:1px solid #ddd;margin-bottom:8px;font-weight:bold}.sheet-category-tags{display:flex;flex-wrap:wrap;gap:6px}.sheet-tag,.sheet-speech-entry{background:#f5f5f5;border:1px solid #ddd;border-radius:5px;padding:4px 10px;font-size:0.85rem}.speech-sub-label{font-size:0.7rem;text-transform:uppercase;color:#555;letter-spacing:0.05em}.sheet-notes textarea{width:100%;min-height:60px;border:1px solid #ccc;padding:8px;font-family:Georgia,serif;border-radius:4px}.sheet-empty{display:none}</style></head><body>' + sheetHtml + '<script>window.print();<\/script></body></html>');
  pw.document.close();
});

let clearClickedOnce = false, clearTimer = null;
document.getElementById('btnClearSheet').addEventListener('click', () => {
  let total = 0; for (const cat in sheet) { if (META_KEYS.has(cat)) continue; if (Array.isArray(sheet[cat])) total += sheet[cat].length; }
  if (total === 0) return;
  const btn = document.getElementById('btnClearSheet');
  if (!clearClickedOnce) {
    clearClickedOnce = true; btn.textContent = 'Confirm?'; btn.style.borderColor = '#d45a5a'; btn.style.color = '#d45a5a';
    clearTimer = setTimeout(() => { clearClickedOnce = false; btn.textContent = 'Clear All'; btn.style.borderColor = ''; btn.style.color = ''; }, 3000);
  } else {
    clearTimeout(clearTimer); clearClickedOnce = false; btn.textContent = 'Clear All'; btn.style.borderColor = ''; btn.style.color = '';
    const n = sheet._name, no = sheet._notes, img = sheet._image;
    sheet = {}; if (n) sheet._name = n; if (no) sheet._notes = no; if (img) sheet._image = img;
    saveCurrentSheet(); renderSheet(); refreshPickerIfOpen(); showToast('Sheet cleared');
  }
});

document.getElementById('sheetNameInput').addEventListener('input', () => { saveCurrentSheet(); renderProfileSelect(); });
document.getElementById('sheetNotes').addEventListener('input', () => saveCurrentSheet());

// ═══════ INLINE MODAL ═══════
function showModal(title, defaultValue) {
  return new Promise((resolve) => {
    const overlay = document.createElement('div');
    overlay.className = 'modal-overlay';
    overlay.innerHTML = '<div class="modal-box"><div class="modal-title">' + title + '</div><input class="modal-input" type="text" value="' + (defaultValue || '').replace(/"/g, '&quot;') + '"><div class="modal-buttons"><button class="modal-btn modal-btn-cancel">Cancel</button><button class="modal-btn modal-btn-confirm">OK</button></div></div>';
    document.body.appendChild(overlay);
    const input = overlay.querySelector('.modal-input');
    setTimeout(() => { input.focus(); input.select(); }, 50);
    input.addEventListener('keydown', (e) => { if (e.key === 'Enter') { overlay.remove(); resolve(input.value); } else if (e.key === 'Escape') { overlay.remove(); resolve(null); } });
    overlay.querySelector('.modal-btn-cancel').addEventListener('click', () => { overlay.remove(); resolve(null); });
    overlay.querySelector('.modal-btn-confirm').addEventListener('click', () => { overlay.remove(); resolve(input.value); });
    overlay.addEventListener('click', (e) => { if (e.target === overlay) { overlay.remove(); resolve(null); } });
  });
}

// ═══════ PROFILE BUTTONS ═══════
document.getElementById('profileSelect').addEventListener('change', (e) => loadProfile(e.target.value));
document.getElementById('btnNewProfile').addEventListener('click', async () => {
  const name = await showModal('New Profile Name', '');
  if (name !== null) await createProfile(name || 'Unnamed');
});
document.getElementById('btnRenameProfile').addEventListener('click', async () => {
  const name = await showModal('Rename Profile', sheet._name || '');
  if (name !== null) { sheet._name = name; document.getElementById('sheetNameInput').value = name; saveCurrentSheet(); renderProfileSelect(); showToast('Renamed ✦'); }
});
document.getElementById('btnDuplicateProfile').addEventListener('click', () => duplicateProfile(currentProfileId));
document.getElementById('btnDeleteProfile').addEventListener('click', async () => {
  const keys = db ? await dbGetAllKeys() : [];
  if (keys.length <= 1) { showToast('Cannot delete only profile'); return; }
  const btn = document.getElementById('btnDeleteProfile');
  if (!btn._cp) { btn._cp = true; btn.textContent = 'Confirm?'; btn.style.borderColor = '#d45a5a'; btn.style.color = '#d45a5a'; setTimeout(() => { btn._cp = false; btn.textContent = 'Delete'; btn.style.borderColor = ''; btn.style.color = ''; }, 3000); }
  else { btn._cp = false; btn.textContent = 'Delete'; btn.style.borderColor = ''; btn.style.color = ''; await deleteProfile(currentProfileId); showToast('Profile deleted'); }
});

// ═══════ PICKER ═══════
const pickerToggle = document.getElementById('pickerToggle'), pickerPanel = document.getElementById('pickerPanel');
const pickerSearch = document.getElementById('pickerSearch'), pickerCategory = document.getElementById('pickerCategory');
const pickerListArea = document.getElementById('pickerListArea'), pickerHint = document.getElementById('pickerHint');
const PICKER_CATEGORIES = ORDERED_CATS.filter(c => c !== 'eyeDescriptor' && c !== 'hairDescriptor');

// Flatten structured pools (speech, intellectual, hygiene) into searchable arrays
function getFlatPool(cat) {
  if (cat === 'speech') {
    const s = DATA.speech;
    return [...s.volume, ...s.commonWords, ...s.tics, ...s.emotion, ...s.swearing, ...s.manner, ...s.unique];
  }
  if (cat === 'intellectual') {
    const s = DATA.intellectual;
    return Object.values(s).flat();
  }
  if (cat === 'hygiene') {
    const d = DATA.hygiene;
    return [...d.good, ...d.bad, ...d.neutral];
  }
  if (cat === 'bodyShape') {
    return [...DATA.bodyShape.realistic, ...DATA.bodyShape.anime, ...DATA.bodyShape.kinky];
  }
  return getPool(cat);
}
let pickerLimit = 80;
pickerToggle.addEventListener('click', () => { pickerToggle.classList.toggle('open'); pickerPanel.classList.toggle('open'); if (pickerPanel.classList.contains('open')) setTimeout(() => pickerSearch.focus(), 100); });
function isOnSheet(cat, val) { return sheet[cat] && sheet[cat].includes(val); }
function renderPickerList() {
  const q = pickerSearch.value.toLowerCase().trim(), sc = pickerCategory.value;
  if (!sc && q.length < 2) { pickerListArea.innerHTML = '<div class="picker-list-empty">Select a category to browse, or type to search.</div>'; pickerHint.textContent = ''; return; }
  const cats = sc ? [sc] : PICKER_CATEGORIES;
  let ta = 0, ts = 0, html = '';
  for (const cat of cats) {
    const pool = getFlatPool(cat); if (!pool || !Array.isArray(pool)) continue;
    const items = q.length >= 2 ? pool.filter(i => i.toLowerCase().includes(q)) : pool;
    if (!items.length) continue; ta += items.length;
    const rem = pickerLimit - ts; if (rem <= 0) continue;
    const show = items.slice(0, rem); ts += show.length;
    html += '<div class="picker-list-group-label">' + (CATEGORY_LABELS[cat]||cat) + ' (' + items.length + ')</div>';
    for (const item of show) { const on = isOnSheet(cat, item); html += '<div class="picker-list-item'+(on?' on-sheet':'')+'" data-cat="'+cat+'" data-value="'+item.replace(/"/g,'&quot;')+'"><span class="picker-item-text">'+item+'</span><span class="picker-add-icon"><span>'+(on?'':'+'  )+'</span></span></div>'; }
  }
  if (!html) { pickerListArea.innerHTML = '<div class="picker-list-empty">No matching traits.</div>'; pickerHint.textContent = ''; return; }
  if (ts < ta) html += '<div class="picker-show-more" id="pickerShowMore">Show More (' + (ta-ts) + ' remaining)</div>';
  pickerListArea.innerHTML = html; pickerHint.textContent = ts + ' of ' + ta + ' shown';
  pickerListArea.querySelectorAll('.picker-list-item').forEach(el => { el.addEventListener('click', () => { if (isOnSheet(el.dataset.cat, el.dataset.value)) { showToast('Already on sheet'); return; } addToSheet(el.dataset.cat, el.dataset.value); el.classList.add('on-sheet','just-added'); el.querySelector('.picker-add-icon').innerHTML = ''; }); });
  const sm = document.getElementById('pickerShowMore'); if (sm) sm.addEventListener('click', () => { const s = pickerListArea.scrollTop; pickerLimit += 80; renderPickerList(); pickerListArea.scrollTop = s; });
}
function refreshPickerIfOpen() { if (pickerPanel.classList.contains('open')) { const s = pickerListArea.scrollTop; renderPickerList(); pickerListArea.scrollTop = s; } }
let pickerDebounce = null;
pickerSearch.addEventListener('input', () => { clearTimeout(pickerDebounce); pickerLimit = 80; pickerDebounce = setTimeout(renderPickerList, 150); });
pickerCategory.addEventListener('change', () => { pickerLimit = 80; renderPickerList(); pickerListArea.scrollTop = 0; });

// ═══════ CUSTOM TRAITS SYSTEM ═══════
// Storage: { pools: { "Custom": { "savvies": ["trait1"], "_all": ["trait2"] }, "Charmed": { "_all": ["trait3"] } } }
// Every custom trait ALWAYS goes into the general generation pool.
// Named pools (Custom, Charmed, etc.) are just organizational labels for managing.

function loadCustomData() {
  try { const raw = localStorage.getItem(CUSTOM_STORAGE_KEY); if (raw) customData = JSON.parse(raw); } catch(e) { customData = { pools: {} }; }
}
function saveCustomData() {
  try { localStorage.setItem(CUSTOM_STORAGE_KEY, JSON.stringify(customData)); } catch(e) {}
}

// Get ALL custom traits for a given generator category (used when in general/mha mode)
function getCustomTraitsForCategory(category) {
  if (!customEnabled) return [];
  const traits = [];
  for (const pool of Object.values(customData.pools)) {
    if (pool[category]) traits.push(...pool[category]);
  }
  return [...new Set(traits)]; // dedupe
}

function getTotalCustomCount() {
  let count = 0;
  for (const pool of Object.values(customData.pools)) {
    for (const arr of Object.values(pool)) count += arr.length;
  }
  return count;
}


// Populate category select dropdown — generator selection is REQUIRED
function populateCustomCatSelect() {
  const sel = document.getElementById('customCatSelect');
  sel.innerHTML = '<option value="">— Select a generator —</option>';
  // All tag-based generators that make sense for custom traits
  const customizable = ['savvies','ineptitudes','likes','dislikes','virtues','perks','vices','flaws','kinks','taboos','face','bodyFeatures','bodyShape','physicalQuirks','identifying','speech','intellectual','pets','hobbies','religion','tics','mannerisms','hygiene'];
  customizable.forEach(cat => {
    sel.innerHTML += '<option value="' + cat + '">' + (CATEGORY_LABELS[cat] || cat) + '</option>';
  });
}

// Import traits from textarea
function importCustomTraits() {
  const textarea = document.getElementById('customTextarea');
  const catSelect = document.getElementById('customCatSelect');
  const status = document.getElementById('customImportStatus');
  const text = textarea.value.trim();
  const targetGen = catSelect.value;

  if (!targetGen) { status.textContent = '⚠ Select a generator first'; status.style.color = '#c44'; setTimeout(() => { status.textContent = ''; status.style.color = ''; }, 3000); return; }
  if (!text) { status.textContent = 'Nothing to import'; return; }

  const lines = text.split('\n').map(l => l.trim()).filter(l => l.length > 0);
  let added = 0;

  for (const line of lines) {
    let trait, poolName;
    const dashIdx = line.lastIndexOf(' - ');
    if (dashIdx > 0 && dashIdx < line.length - 3) {
      trait = line.substring(0, dashIdx).trim();
      poolName = line.substring(dashIdx + 3).trim();
    } else {
      trait = line;
      poolName = 'Custom';
    }
    if (!trait) continue;

    // Store under: pools -> poolName -> generatorKey -> [traits]
    if (!customData.pools[poolName]) customData.pools[poolName] = {};
    if (!customData.pools[poolName][targetGen]) customData.pools[poolName][targetGen] = [];
    if (!customData.pools[poolName][targetGen].includes(trait)) {
      customData.pools[poolName][targetGen].push(trait);
      added++;
    }
  }

  saveCustomData();
  textarea.value = '';
  const genLabel = CATEGORY_LABELS[targetGen] || targetGen;
  status.textContent = added + ' trait' + (added !== 1 ? 's' : '') + ' added to ' + genLabel + ' ✦';
  status.style.color = '';
  setTimeout(() => { status.textContent = ''; }, 3000);
  renderCustomPoolsList(); refreshPoolButtons(); updateCustomToggleButtons();
  
  updateCustomCount();
}

function renderCustomPoolsList() {
  const container = document.getElementById('customPoolsList');
  const ioBar = document.getElementById('customPoolIO');
  if (!container) return;
  const pools = Object.entries(customData.pools);
  if (pools.length === 0) { container.innerHTML = ''; if (ioBar) ioBar.style.display = 'none'; return; }
  if (ioBar) ioBar.style.display = 'flex';

  let html = '<div class="custom-label" style="margin-bottom:6px">Your Custom Pools:</div>';
  for (const [name, pool] of pools) {
    const genKeys = Object.keys(pool);
    let totalCount = 0;
    for (const arr of Object.values(pool)) totalCount += arr.length;

    html += '<div class="custom-pool-item" data-pool="' + name.replace(/"/g, '&quot;') + '">';
    html += '<div class="custom-pool-header"><span class="custom-pool-name">' + name + '</span><span class="custom-pool-meta">' + totalCount + ' trait' + (totalCount !== 1 ? 's' : '') + '</span>';
    html += '<div class="custom-pool-actions"><button class="btn-delete-pool" data-pool="' + name.replace(/"/g, '&quot;') + '">Delete Pool</button></div></div>';

    // Show traits grouped by generator
    for (const genKey of genKeys) {
      const traits = pool[genKey];
      const genLabel = CATEGORY_LABELS[genKey] || genKey;
      html += '<div style="margin-top:4px;"><span style="font-size:0.72rem;color:var(--muted);font-family:\'Alegreya SC\',serif;letter-spacing:0.04em;">' + genLabel + ':</span></div>';
      html += '<div class="custom-pool-tags">' + traits.slice(0, 10).map(t => '<span class="custom-pool-tag">' + t + '</span>').join('') + (traits.length > 10 ? '<span class="custom-pool-tag">+' + (traits.length - 10) + ' more</span>' : '') + '</div>';
    }
    html += '</div>';
  }
  container.innerHTML = html;

  container.querySelectorAll('.btn-delete-pool').forEach(btn => {
    btn.addEventListener('click', () => {
      const name = btn.dataset.pool;
      delete customData.pools[name];
      saveCustomData(); renderCustomPoolsList(); refreshPoolButtons(); updateCustomToggleButtons(); updateCustomCount();
      showToast('Pool "' + name + '" deleted');
    });
  });
}

function updateCustomCount() {
  const el = document.getElementById('customTraitCount');
  if (!el) return;
  const count = getTotalCustomCount();
  el.textContent = count > 0 ? count + ' custom trait' + (count !== 1 ? 's' : '') : '';
}

// Add custom toggle buttons to gen cards
function updateCustomToggleButtons() {
  document.querySelectorAll('.btn-custom-toggle').forEach(b => b.remove());
  const totalCustom = getTotalCustomCount();
  if (totalCustom === 0) return;

  document.querySelectorAll('.gen-card').forEach(card => {
    const type = card.dataset.generator;
    // Skip non-tag generators
    if (type === 'identity' || type === 'body' || type === 'bodyShape' || type === 'physicalConditions' || type === 'mentalConditions' || type === 'eyeDescriptor' || type === 'hairDescriptor' || type === 'speech' || type === 'intellectual') return;
    const controls = card.querySelector('.gen-card-controls');
    if (!controls) return;

    // Count custom traits for this category (temporarily enable to count)
    const was = customEnabled; customEnabled = true;
    const customCount = getCustomTraitsForCategory(type).length;
    customEnabled = was;
    if (customCount === 0) return;

    const btn = document.createElement('button');
    btn.className = 'btn-weight-toggle btn-custom-toggle';
    btn.classList.toggle('random', !customEnabled);
    btn.textContent = customEnabled ? '🔧 +Custom (' + customCount + ')' : '🔧 Custom Off';
    btn.title = customEnabled ? 'Custom traits mixed into General/MHA. Click to exclude.' : 'Custom traits excluded from General/MHA. Click to include.';
    // Insert before the lock button
    const lockBtn = controls.querySelector('[data-lock]');
    if (lockBtn) controls.insertBefore(btn, lockBtn);
    else controls.appendChild(btn);
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      customEnabled = !customEnabled;
      updateCustomToggleButtons();
      refreshPoolButtons();
      showToast(customEnabled ? 'Custom traits enabled ✦' : 'Custom traits disabled');
    });
  });
}

// Initialize
loadCustomData();
populateCustomCatSelect();
renderCustomPoolsList();
updateCustomToggleButtons();
updateCustomCount();
document.getElementById('btnImportCustom').addEventListener('click', importCustomTraits);

// Pool export/import
document.getElementById('btnExportPools').addEventListener('click', () => {
  const json = JSON.stringify(customData, null, 2);
  const blob = new Blob([json], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'charforge-custom-pools.json'; a.click();
  URL.revokeObjectURL(url);
  showToast('Pools exported ✦');
});

const poolFileInput = document.getElementById('poolFileInput');
document.getElementById('btnImportPools').addEventListener('click', () => poolFileInput.click());
poolFileInput.addEventListener('change', (e) => {
  const file = e.target.files[0]; if (!file) return;
  const reader = new FileReader();
  reader.onload = (ev) => {
    try {
      const imported = JSON.parse(ev.target.result);
      if (!imported.pools) throw new Error('Invalid format');
      // Merge into existing pools
      let added = 0;
      for (const [poolName, pool] of Object.entries(imported.pools)) {
        if (!customData.pools[poolName]) customData.pools[poolName] = {};
        for (const [gen, traits] of Object.entries(pool)) {
          if (!customData.pools[poolName][gen]) customData.pools[poolName][gen] = [];
          for (const trait of traits) {
            if (!customData.pools[poolName][gen].includes(trait)) { customData.pools[poolName][gen].push(trait); added++; }
          }
        }
      }
      saveCustomData(); renderCustomPoolsList(); refreshPoolButtons(); updateCustomToggleButtons(); updateCustomCount();
      showToast(added + ' traits imported from file ✦');
    } catch(err) { showToast('Invalid pool file'); }
    poolFileInput.value = '';
  };
  reader.readAsText(file);
});

document.getElementById('btnClearAllPools').addEventListener('click', () => {
  if (!confirm('Delete ALL custom pools? This cannot be undone.')) return;
  customData = { pools: {} }; customEnabled = true;
  saveCustomData(); renderCustomPoolsList(); refreshPoolButtons(); updateCustomToggleButtons(); updateCustomCount();
  showToast('All custom pools deleted');
});

// ═══════ INIT ═══════
(async function init() {
  try {
    await openDB();
    const keys = await dbGetAllKeys();
    if (keys.length === 0) {
      await createProfile('Character 1');
    } else {
      await loadProfile(keys[0]);
    }
  } catch(e) {
    console.warn('IndexedDB unavailable:', e);
    sheet = {};
    renderSheet();
  }
})();
</script>
</body>
</html>
